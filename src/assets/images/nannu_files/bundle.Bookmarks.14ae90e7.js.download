(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{"/kFL":function(e,t,o){"use strict";o.r(t),o.d(t,"BookmarksScreen",(function(){return L}));o("kYxP");var r=o("ERkP"),a=o.n(r),n=o("BQZD"),s=o("1LtL"),i=o("es0u"),c=o("wrlS"),l=o("G6rE"),m=o("rxPX"),d=o("0KEI");const k=e=>(e=>Object(n.b)(Object(c.d)(e)))(e).selectIsEmptyTimeline(e);var u=Object(m.a)().propsFromState((()=>({isEmpty:k,loggedInUser:l.e.selectLoggedInUser}))).adjustStateProps((({isEmpty:e,loggedInUser:t})=>({isEmpty:e,loggedInUserScreenName:null==t?void 0:t.screen_name}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("BOOKMARK_PAGE"),removeAll:n.c}))),b=o("3XMw"),E=o.n(b),p=o("2G3J"),h=o("yoO3"),_=o("7JQg"),O=o("VS6U"),F=o("mjJ+"),f=o("eb3s"),B=o("yrzJ"),R=o("v6aA");const T={page:"bookmarks"},A=E.a.i3145aa0,I=E.a.bcc7e8c0,w=E.a.h63a5c3c,y=E.a.c8c1fa6e,C=E.a.jf748f40,M=E.a.cc0f2f40,j=E.a.dbd5d400;class L extends a.a.Component{constructor(...e){super(...e),this.state={showConfirmRemoveAll:!1},this._renderMenu=e=>a.a.createElement(F.a,{items:[{text:y,onClick:this._removeAllSelected,isEmphasized:!0}],onCloseRequested:e}),this._removeAllSelected=e=>{e(),this.setState({showConfirmRemoveAll:!0})},this._handleClearCancel=()=>this.setState({showConfirmRemoveAll:!1}),this._handleClearConfirmed=()=>{const{createLocalApiErrorHandler:e,removeAll:t}=this.props;t().catch(e({})),this.setState({showConfirmRemoveAll:!1})}}render(){const{history:e,isEmpty:t}=this.props,{userClaims:o}=this.context,r=o.isTrueAndEnabled("subscriptions_feature_1002"),n=t?void 0:a.a.createElement(p.a,{accessibilityLabel:w,renderMenu:this._renderMenu});return a.a.createElement(_.c,{namespace:T},a.a.createElement(h.a,null,a.a.createElement(O.a,{backLocation:"/home",history:e,primaryContent:this._renderPrimaryContent(),rightControl:n,sidebarContent:a.a.createElement(i.a,null),subtitle:this._renderSubtitle(r),title:r?I:A,withBackButton:r}),this.state.showConfirmRemoveAll?a.a.createElement(f.a,{confirmButtonLabel:j,confirmButtonType:"destructiveFilled",headline:C,onCancel:this._handleClearCancel,onConfirm:this._handleClearConfirmed,text:M}):null))}_renderSubtitle(e){const{loggedInUserScreenName:t}=this.props;return!e&&t?a.a.createElement(B.a,{screenName:t}):null}_renderPrimaryContent(){const{history:e}=this.props;return a.a.createElement(s.a,{history:e,title:A,urtModule:Object(n.b)(this.context.featureSwitches)})}}L.contextType=R.a;const S=u(L);t.default=S},"1LtL":function(e,t,o){"use strict";o.d(t,"b",(function(){return _}));var r=o("ERkP"),a=o.n(r),n=o("QIgh"),s=o("dwig"),i=o("0+qk"),c=o("3XMw"),l=o.n(c),m=o("7BdX"),d=o("fTQJ"),k=o("k89r"),u=o("FIs5"),b=o("mw9i"),E=o("WjvF");const p=l.a.cd343e16,h=l.a.f47e39e8,_=()=>a.a.createElement(u.a,{header:p,imageVariants:Object(E.b)(E.a.BookInBirdCage),message:h});t.a=({bookmarkFolderId:e,history:t,title:o,urtModule:r})=>{const c=a.a.createElement(i.a,{history:t}),l=Object(k.a)();return a.a.createElement(s.a,{component:b.a,fab:c},a.a.createElement(d.a,{entryConfiguration:Object(n.a)({withRemoveFromBookmarks:!0,bookmarkFolderId:e}),module:r,prerollDisplayLocation:m.c.OTHER,renderEmptyState:()=>(l.scribeAction("empty"),_()),title:o}))}},"48TD":function(e,t,o){"use strict";var r=o("wAC9");t.a=(e,t)=>Object(r.a)({contextSuffix:"BOOKMARK_FOLDERS_SLICE",getFetchApiEndpoint:e=>e.Bookmarks.fetchBookmarkFoldersSlice,getEndpointParams:e=>({...e,tweet_id:t}),sliceKey:`bookmarkFoldersSlice-${e}`})},BQZD:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"c",(function(){return m})),o.d(t,"d",(function(){return d}));var r=o("WpDa"),a=o("zTrU"),n=o("eR3e"),s=o("ZNT5");const i="bookmarks",c=e=>Object(s.a)({timelineId:`bookmarkFolder-${e}`,getEndpoint:e=>e.Bookmarks.fetchBookmarkFolderTimeline,getEndpointParams:({cursor:t})=>({cursor:"string"==typeof t?t:void 0,bookmark_collection_id:e}),formatResponse:r.a,context:"FETCH_BOOKMARK_FOLDER_TIMELINE",perfKey:"bookmarkFolderGraphQL"}),l=Object(a.a)((e=>e.isTrue("responsive_web_graphql_bookmarks")?Object(s.a)({timelineId:i,getEndpoint:e=>e.Bookmarks.fetchBookmarksTimeline,getEndpointParams:({count:e,cursor:t})=>({count:e,cursor:"string"==typeof t?t:void 0}),formatResponse:r.a,context:"FETCH_BOOKMARKS_TIMELINE",perfKey:"bookmarksGraphQL"}):Object(s.a)({timelineId:i,getEndpoint:e=>e.URT.fetchBookmarks,getEndpointParams:e=>e,context:"FETCH_BOOKMARKS_TIMELINE",perfKey:"bookmarks"})));t.b=l;const m=()=>(e,t,{api:o,featureSwitches:r})=>(r.isTrue("responsive_web_graphql_mutation_bookmarks")?o.Bookmarks.deleteAll:o.Tweets.removeAllBookmarks)().then((()=>e(l(r).deleteTimeline()))),d=n.r.bind(null,i)},Hja3:function(e,t,o){"use strict";o.d(t,"c",(function(){return _})),o.d(t,"a",(function(){return O})),o.d(t,"d",(function(){return F}));var r=o("PiaM"),a=o("/kEJ"),n=o("48TD"),s=o("BQZD"),i=o("oEOe"),c=o("lMB6"),l=o("RqPI"),m=o("3zvM"),d=o("zTrU"),k=o("3A2y");const u=Object.freeze({REQUEST:"rweb/bookmarkFolders/FETCH_BOOKMARK_FOLDERS_REQUEST",SUCCESS:"rweb/bookmarkFolders/FETCH_BOOKMARK_FOLDERS_SUCCESS",FAILURE:"rweb/bookmarkFolders/FETCH_BOOKMARK_FOLDERS_FAILURE"}),b=Object.freeze({REQUEST:"rweb/bookmarkFolders/CREATE_BOOKMARK_FOLDERS_REQUEST",SUCCESS:"rweb/bookmarkFolders/CREATE_BOOKMARK_FOLDERS_SUCCESS",FAILURE:"rweb/bookmarkFolders/CREATE_BOOKMARK_FOLDERS_FAILURE"}),E=Object(m.e)({namespace:"bookmarkFolders"}),p=Object(d.a)((e=>Object(n.a)(e))),h={deleteBookmarkFolder:Object(m.c)(E,"deleteBookmarkFolder",{context:"DELETE_BOOKMARK_FOLDER",getApiMethod:e=>e.Bookmarks.deleteBookmarkFolder,getParams:e=>({bookmarkFolderId:e}),getMeta:(e,t={},o)=>({entityId:e}),reducer:(e,t)=>{const{entityId:o}=t.meta;if(!e.entities[o])return e;const r=Object(k.a)(e.entities,[o]);return{...e,entities:r}},mapResponseToActions:(e,t,o)=>t=>{const r=Object(l.s)(o());if(r&&e&&"Done"===(null==t?void 0:t.bookmark_collection_delete)){return[p(r).removeItems([e])]}}}),editBookmarkFolder:Object(m.c)(E,"editBookmarkFolder",{context:"EDIT_BOOKMARK_FOLDER",getApiMethod:e=>e.Bookmarks.editBookmarkFolder,getParams:(e,{name:t}={})=>({bookmarkFolderId:e,name:t}),getMeta:(e,t={},o)=>({entityId:e,name:t.name}),mapResponseToActions:(e,t,o)=>t=>{if(!t)return;const r=null==t?void 0:t.bookmark_collection_update,a=Object(l.s)(o());if(a&&e&&r){return[p(a).injectItems([r.id])]}},reducer:(e,t)=>{const{entityId:o,name:r}=t.meta,a=e.entities[o];if(!a)return e;const n={name:r};return{...e,entities:{...e.entities,[a.id]:{...a,...n}}}}}),removeTweetFromBookmarkFolder:Object(m.c)(E,"removeTweetFromBookmarkFolder",{context:"REMOVE_TWEET_FROM_BOOKMARK_FOLDER",getApiMethod:e=>e.Bookmarks.removeTweetFromBookmarkFolder,getParams:(e,{tweetId:t}={})=>({bookmarkFolderId:e,tweetId:t}),mapResponseToActions:(e,t,o)=>r=>{if(r){if("Done"!==r.bookmark_collection_tweet_delete)return;if(!t.tweetId||!e)return[];const a=null==r?void 0:r.bookmark_collection_tweet_delete,n=Object(l.s)(o());if(n&&e&&a){const o=p(n);return[Object(s.a)(e).removeTweets({[t.tweetId]:!0}),o.injectItems([e])]}}},reducer:(e,t)=>e}),addTweetToBookmarkFolder:Object(m.c)(E,"addTweetToBookmarkFolder",{context:"BOOKMARK_TWEET_TO_FOLDER",getApiMethod:e=>e.Bookmarks.bookmarkTweetToFolder,getParams:(e,{tweetId:t}={})=>({bookmark_collection_id:e,tweet_id:t}),mapResponseToActions:(e,t,o)=>a=>{if(a){if("Done"!==a.bookmark_collection_tweet_put)return;if(!t.tweetId||!e)return[];const n=null==a?void 0:a.bookmark_collection_tweet_put,i=Object(l.s)(o());if(i&&e&&n){const o=p(i);return[Object(s.a)(e).injectEntry(r.k({id:t.tweetId,sortIndex:t.tweetId})),o.injectItems([e])]}}},reducer:(e,t)=>e})},_=()=>(e,t,{api:o})=>Object(i.b)(e,{request:o.Bookmarks.fetchBookmarkFoldersSlice,params:{}})({actionTypes:u,context:"FETCH_BOOKMARK_FOLDERS"},(e=>{if(e){const{entities:t}=e;return t?[Object(a.c)(t)]:void 0}})),O=e=>(t,o,{api:r})=>Object(i.b)(t,{request:r.Bookmarks.createBookmarkFolder,params:{name:e}})({actionTypes:b,context:"CREATE_BOOKMARK_FOLDER"},(e=>{if(e){const t=null==e?void 0:e.bookmark_collection_create,r=Object(l.s)(o());if(t&&r){const e=p(r);return[E.add({[t.id]:t}),e.injectItems([t.id])]}}})),F=(e,t,o)=>r=>{const a=p(o);return Promise.resolve(r([Object(s.a)(e).removeTweets({[t]:!0}),a.injectItems([e])]))},f={...E,...h,customActionTypes:Object(m.d)(h)};t.b=c.a.register(f)},TW8A:function(e,t,o){"use strict";var r=o("ERkP"),a=o.n(r),n=o("Lsrn"),s=o("k/Ka");const i=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M22.132 7.653c0-.6-.234-1.166-.66-1.59l-3.535-3.536c-.85-.85-2.333-.85-3.182 0L3.417 13.865c-.323.323-.538.732-.63 1.25l-.534 5.816c-.02.223.06.442.217.6.14.142.332.22.53.22.023 0 .046 0 .068-.003l5.884-.544c.45-.082.86-.297 1.184-.62l11.337-11.34c.425-.424.66-.99.66-1.59zm-17.954 8.69l3.476 3.476-3.825.35.348-3.826zm5.628 2.447c-.282.283-.777.284-1.06 0L5.21 15.255c-.292-.292-.292-.77 0-1.06l8.398-8.398 4.596 4.596-8.398 8.397zM20.413 8.184l-1.15 1.15-4.595-4.597 1.15-1.15c.14-.14.33-.22.53-.22s.388.08.53.22l3.535 3.536c.142.142.22.33.22.53s-.08.39-.22.53z"})));i.metadata={width:24,height:24},t.a=i},bDBO:function(e,t,o){"use strict";o.r(t),o.d(t,"BookmarkFolderTimelineScreen",(function(){return T}));o("kYxP"),o("MvUL");var r=o("ERkP"),a=o.n(r),n=o("mjJ+"),s=o("BQZD"),i=o("1LtL"),c=o("es0u"),l=o("Hja3"),m=o("rxPX"),d=o("0KEI");const k=(e,t)=>{const o=t.match.params.bookmarkFolderId,r=o?l.b.select(e,o):void 0;return null==r?void 0:r.name};var u=Object(m.a)().propsFromState((()=>({bookmarkFolderName:k}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("BOOKMARK_FOLDER_TIMELINE_PAGE"),fetchBookmarkFolders:l.c}))).withAnalytics({page:"bookmark_folder"}),b=o("3XMw"),E=o.n(b),p=o("TW8A"),h=o("zTrU"),_=o("2G3J"),O=o("yoO3"),F=o("VS6U");const f=E.a.h63a5c3c,B=E.a.f075b0e8,R=({renderMenu:e})=>a.a.createElement(_.a,{accessibilityLabel:f,renderMenu:e});class T extends a.a.Component{constructor(...e){super(...e),this._renderPrimaryContent=(e,t,o)=>a.a.createElement(i.a,{bookmarkFolderId:o,history:this.props.history,title:t,urtModule:e}),this._renderMenu=e=>a.a.createElement(n.a,{items:[{text:B,onClick:this._editFolderModal,Icon:p.a}],onCloseRequested:e}),this._getBookmarkFolderModule=Object(h.a)((e=>{if(e)return Object(s.a)(e)})),this._editFolderModal=e=>{const{analytics:t,history:o,match:r}=this.props;t.scribe({element:"edit",action:"click"}),e(),r.params.bookmarkFolderId&&o.push({pathname:`/i/bookmarks/${r.params.bookmarkFolderId}/edit`})}}componentDidMount(){const{bookmarkFolderName:e,fetchBookmarkFolders:t,history:o,match:r}=this.props;e||t().then((e=>{const{result:t}=e;t.includes(r.params.bookmarkFolderId)||o.replace("/i/bookmarks")}))}render(){const{bookmarkFolderName:e,history:t}=this.props,o=this.props.match.params.bookmarkFolderId||void 0,r=this._getBookmarkFolderModule(o);if(!e||!r)return null;const n=a.a.createElement(R,{renderMenu:this._renderMenu});return a.a.createElement(O.a,null,a.a.createElement(F.a,{backLocation:"/i/bookmarks",history:t,primaryContent:this._renderPrimaryContent(r,e,o),rightControl:n,sidebarContent:a.a.createElement(c.a,null),title:e,withBackButton:!0}))}}const A=u(T);t.default=A}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Bookmarks.14ae90e7.js.map