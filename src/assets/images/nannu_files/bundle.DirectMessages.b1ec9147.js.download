(window.webpackJsonp=window.webpackJsonp||[]).push([[153,6,7,62,231],{"+/sI":function(e,l,t){"use strict";t.d(l,"a",(function(){return c})),t.d(l,"b",(function(){return d}));var n=t("ERkP"),a=t.n(n),i=t("TGcR"),s=t("t62R"),r=t("a6qo"),o=t("rHpw");const c="animated_gif",d="video";class u extends a.a.PureComponent{render(){const{durationInMilliseconds:e,type:l}=this.props;let t;if(l===c||"vine"===l)t=l===c?a.a.createElement(s.b,{weight:"bold"},"GIF"):a.a.createElement(i.a,{style:m.icon});else if(l===d&&e){const l=Math.trunc(e/6e4),n=`0${Math.trunc(e%6e4/1e3)}`.slice(-2);t=a.a.createElement(s.b,{color:"white"},`${l}:${n}`)}return t?a.a.createElement(r.a,{align:"left"},t):null}}const m=o.a.create((e=>({icon:{color:e.colors.white}})));l.c=u},"+Bsv":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("M2x3"),o="settingsAppBar",c=t("/yvb"),d=t("rHpw");const u=s.a.bb081ea2,m={viewType:"settings_button"},g=a.a.memo((({onPress:e,pullRight:l,to:t})=>a.a.createElement(c.a,{accessibilityLabel:u,behavioralEventContext:m,hoverLabel:{label:u},icon:a.a.createElement(r.a,null),link:t,onPress:e,pullRight:l,style:p.button,testID:o,type:"primaryText"}))),p=d.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));l.a=g},"/8XK":function(e,l,t){"use strict";t.d(l,"a",(function(){return d}));var n=t("ERkP"),a=t.n(n),i=t("t62R"),s=t("3XMw"),r=t.n(s),o=t("4n2h");const c=r.a.fb3ccb56,d=(e=!1,l=!1)=>{const t=Object(o.b)(e),n=Object(o.a)(e,l);return a.a.createElement(i.b,{color:n,numberOfLines:1,weight:t},c)}},"/FNr":function(e,l,t){"use strict";t.r(l),t.d(l,"DmConversationMetadataQuery",(function(){return I})),t.d(l,"default",(function(){return M}));var n,a=t("zh9S"),i=t("ERkP"),s=t.n(i),r=t("i4Oy"),o=(t("kYxP"),t("mw9i")),c=t("4AMG"),d=t("h3MB"),u=(t("YWiL"),t("NjAB")),m=t("Fr3L"),g=t("sl05"),p=t("s8G+"),y=t("DQzJ");const _=void 0!==n?n:n=t("GjeS"),h={context:"DM_CONVERSATION_METADATA"};function k(e){const{conversation:l,isWide:t,perspective:n}=e,a=Object(p.a)("rito_safety_mode_blocked_profile_enabled"),i=Object(p.a)("super_follow_user_api_enabled"),{data:r}=Object(y.a)(_,{id:l.conversation_id||"",withSafetyModeUserFields:a,withSuperFollowsUserFields:i}),m=((e,l)=>{var t,n,a;const i=null==l||null==(t=l.dm_conversation_by_rest_id)||null==(n=t.result)||null==(a=n.legacy_conversation_slice)?void 0:a.items;if(!i||!i.length)return null;const s=Object(u.b)(i,[d.b]).entities.entries,r=[];for(const e in s)r.push(s[e]);r.reverse();return{...e,entries:r,social_proof:[]}})(l,r);return s.a.useCallback((e=>m?s.a.createElement(o.a,{style:g.a.root},s.a.createElement(c.a,{conversation:m,inboxType:"primary",isWide:t,onHistoryRequest:()=>{},perspective:n,scribeNamespace:{},style:g.a.activity})):null),[m,t,n])(e)}function v(e){return s.a.createElement(m.a,{errorConfig:h},s.a.createElement(k,e))}var b,f=t("qBaR"),F=t("RqPI"),T=t("z2Pn"),S=t("rHpw"),K=t("pNZL"),R=t("IAZG"),E=t("uDfI"),L=t("zCf4");const C={page:"messages",section:"thread"},I=void 0!==b?b:b=t("q2o4"),w={context:"DM_CONVERSATION_TIMELINE"};function x(e){const{richTextInputContext:l,typeaheadWrapper:t}=e,n=Object(L.g)(),{conversationId:i}=Object(L.h)(),o=Object(R.a)(I,{id:i||""});s.a.useEffect((()=>{a.d(C),a.a(C),Object(K.b)(C)}),[]),s.a.useEffect((()=>{Object(T.h)(n.pathname)}),[n.pathname]);const c="string"==typeof n.query.text?n.query.text:void 0,m=r.a.get("window").width>=S.a.theme.breakpoints.small,g=Object(E.d)(F.s)||"",p=(e=>{var l;if(!e)return null;const t=Object(u.b)([null==(l=e.dm_conversation_by_rest_id)?void 0:l.result],[d.a]).entities.conversations;for(const e in t)return t[e];return null})(o);return p&&p.conversation_id?s.a.createElement(f.a,{conversation:p,conversationId:p.conversation_id,newConversationParticipants:[],perspective:g},s.a.createElement(v,{conversation:p,isWide:m,perspective:g,prefillText:c,richTextInputContext:l,typeaheadWrapper:t})):null}function M(e){return s.a.createElement(m.a,{errorConfig:w},s.a.createElement(x,e))}},"/Imo":function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("ERkP")),s=t.n(i),r=t("/yvb"),o=t("k/Ka"),c=t("3XMw"),d=t.n(c),u=t("rHpw");const m=d.a.i5450bec,g=d.a.f7432494;class p extends s.a.Component{constructor(...e){super(...e),this._handlePress=e=>{const{onPress:l}=this.props;l&&l(e),this._fileInput&&this._fileInput.click()},this._handleChange=e=>{const{onChange:l}=this.props,t=e.target,n=t.files;n.length&&l&&l(n),t.value=""},this._handleFileInputButtonRef=e=>{this._fileInput=e}}render(){const{accept:e,disabled:l,multiple:t,onChange:n,testID:i,...c}=this.props,d=!(null!=e&&e.includes("video")||null!=e&&e.includes("gif"));return s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a,a()({hoverLabel:e?{label:d?g:m}:void 0},c,{disabled:l,onPress:this._handlePress})),Object(o.a)("input",{accept:e,disabled:l,multiple:t,onChange:this._handleChange,ref:this._handleFileInputButtonRef,style:y.input,tabIndex:-1,testID:i,type:"file"}))}}p.defaultProps={disabled:!1,multiple:!1};const y=u.a.create((e=>({input:{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}})));l.a=p},"/Kco":function(e,l,t){"use strict";var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"pinnedInboxSectionConversation",selections:[{alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"DMConversation",abstractKey:null,hash:"a00816062f86303dc4d7de69da48a9eb"};e.exports=n},"0Bjv":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M17.931 2.508c0 .42-.34.75-.75.75h-8.39l1.38 2.08-.56 5.78-.47.16c-1.5.49-3.1 2.07-3.37 3.31-.07.35-.39.59-.73.59-.05 0-.11 0-.16-.01-.4-.09-.66-.49-.58-.89.39-1.81 2.24-3.52 3.91-4.25l.42-4.3-1.35-2.02c-.26-.38-.29-.87-.07-1.29.24-.41.66-.66 1.11-.66h8.86c.41 0 .75.34.75.75zm3.09 12.76c-.14.17-.46.46-1.05.46h-3.86l-2.64 6.1c-.12.28-.39.45-.69.45s-.57-.17-.69-.45l-1.96-4.53c-.16-.38.01-.82.39-.98.38-.17.82.01.99.39l1.27 2.93 1.69-3.91h-1.61c-.42 0-.75-.33-.75-.75 0-.41.33-.75.75-.75h6.81c-.41-1.06-1.64-2.26-2.91-2.82-.09-.04-.16-.09-.22-.16-.22-.21-.3-.54-.17-.83.17-.38.61-.55.99-.39 1.59.7 3.5 2.43 3.89 4.25.06.25.03.66-.23.99zm.839-12.259L3.2 21.659c-.15.15-.34.22-.53.22s-.39-.07-.53-.22c-.29-.29-.29-.76 0-1.06L20.8 1.939c.29-.29.76-.29 1.06 0 .29.3.29.77 0 1.07z"})));r.metadata={width:24,height:24},l.a=r},"0Ki6":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("CHgo"),s=t("fs1G"),r=t("rHpw"),o=t("rOXj"),c=t("MWbm"),d=t("Enqy");const u=o.a.isTouchSupported(),m={zoom:1,lastX:0,lastY:0,zoomCenter:{x:0,y:0}},g={height:0,width:0,left:0,right:0,top:0,bottom:0},p=(e,l,t)=>Math.min(l,Math.max(e,t)),y=(e,l)=>Math.sqrt(Math.pow(e.clientY-l.clientY,2)+Math.pow(e.clientX-l.clientX,2));class _ extends a.a.Component{constructor(e){super(e),this._itemDimensions=g,this._ref=a.a.createRef(),this._setTouchableNode=e=>{this._touchableNode!==e&&(this._touchableNode=e,this._removeTouchListener&&this._removeTouchListener(),this._touchableNode&&(this._removeTouchListener=Object(i.a)(this._touchableNode,this._handleTouchMove,!1)))},this._handleTouchStart=e=>{this._ref.current&&(this._zoomedDimensions=this._ref.current.getBoundingClientRect()),this._moved=!1;const l=e.touches.length;2===l?(e.preventDefault(),this._handlePinchStart(e)):1===l&&this._handleTapStart(e)},this._handleTouchMove=e=>{const l=e.touches.length;2===l?(e.preventDefault(),this._handlePinchMove(e)):1===l&&(this._moved=!0,this._handlePanMove(e))},this._handleTouchEnd=e=>{const{maxZoom:l,minZoom:t,onTap:n}=this.props,a=p(t,l,this.state.zoom),{zoom:i}=this.state;i!==a&&1===a?this.resetZoom():this.setState({lastX:0,lastY:0,zoom:a}),0===e.touches.length?(this._lastTouchTime&&this._lastTouchTime+300>e.timeStamp?(this._clickTimer&&clearTimeout(this._clickTimer),this._handleDoubleTap(e)):i<=1&&!this._moved&&(this._clickTimer=setTimeout(n,300)),this._lastTouchTime=e.timeStamp):e.preventDefault()},this.state={...m}}static getDerivedStateFromProps(e,l){return u&&e.resetZoom?(e.onZoomed(!1),{...m}):l}render(){if(!u)return this.props.children;const{zoom:e,zoomCenter:l}=this.state,t=this._moved,n={zoom:Object(d.spring)(e),zoomCenterX:Object(d.spring)(l.x),zoomCenterY:Object(d.spring)(l.y)};return a.a.createElement(c.a,{onTouchEnd:this._handleTouchEnd,onTouchStart:this._handleTouchStart,ref:this._setTouchableNode,style:h.fill},a.a.createElement(d.Motion,{style:n},(({zoom:e,zoomCenterX:n,zoomCenterY:i})=>a.a.createElement(c.a,{ref:this._ref,style:[h.fill,{transform:[{scale:e}],transformOrigin:`${t?n:l.x}px ${t?i:l.y}px`}]},this.props.children))))}componentDidMount(){u&&this._updateWindowDimensions()}componentWillUnmount(){this._removeTouchListener&&this._removeTouchListener()}resetZoom(){this.props.onZoomed(!1),this.setState({zoom:m.zoom})}_handlePanMove(e){if(this.state.zoom<=1||!this._zoomedDimensions||!this._windowDimensions)return;const{clientX:l,clientY:t}=e.touches[0];if(!this.state.lastX||!this.state.lastY)return void this.setState({lastX:l,lastY:t});const{lastX:n,lastY:a,zoomCenter:{x:i,y:s}}=this.state,{height:r,width:o}=this._windowDimensions,{height:c,width:d}=this._zoomedDimensions;let u=0,m=0;d-o>0&&(u=l-n),c-r>0&&(m=t-a),this.setState({lastX:l,lastY:t,zoomCenter:{x:Math.min(Math.max(i-u,0),o),y:Math.min(Math.max(s-m,0),r)}})}_handlePinchStart(e){const{touches:l}=e;if(this._updateWindowDimensions(),this._lastDistance=y(l[0],l[1]),1===this.state.zoom){const e=(t=l[0],n=l[1],{x:(t.clientX+n.clientX)/2,y:(t.clientY+n.clientY)/2});this.setState({zoomCenter:this._getZoomCenter(e.x,e.y)}),this.props.onZoomed(!0)}var t,n}_handlePinchMove(e){const{zoom:l,zoomCenter:t}=this.state,{maxZoom:n,maxZoomBounce:a,minZoom:i,minZoomBounce:s}=this.props;if(0===t.x&&0===t.y)return void(2===e.touches.length&&this._handlePinchStart(e));const r=y(e.touches[0],e.touches[1]),o=this._lastDistance?r/this._lastDistance:1,c=p(i-s,n+a,l*o);this._lastDistance=r,this.setState({zoom:c})}_handleTapStart(e){const{touches:l}=e;this._tapCenter=this._getZoomCenter(l[0].clientX,l[0].clientY)}_handleDoubleTap(e){const{maxZoom:l,onZoomed:t}=this.props;1!==this.state.zoom?this.resetZoom():(this._updateWindowDimensions(),this.setState({zoom:l,zoomCenter:this._tapCenter||m.zoomCenter}),t(!0))}_getZoomCenter(e,l){this._ref.current&&(this._itemDimensions=this._ref.current.getBoundingClientRect());const{left:t,top:n}=this._itemDimensions;return{x:e-t,y:l-n}}_updateWindowDimensions(){this._windowDimensions={height:window.innerHeight,width:window.innerWidth}}}_.defaultProps={maxZoom:2.5,maxZoomBounce:.15,minZoom:1,minZoomBounce:.15,onTap:s.a,onZoomed:s.a,resetZoom:!1};const h=r.a.create((e=>({fill:{flex:1}})));l.a=_},"29EQ":function(e,l,t){"use strict";t.d(l,"c",(function(){return L})),t.d(l,"a",(function(){return C})),t.d(l,"b",(function(){return I}));var n=t("ERkP"),a=t.n(n),i=t("/yvb"),s=t("3XMw"),r=t.n(s),o=t("Avzu");const c=r.a.f325afc4,d=r.a.cdcebd22;var u=({testID:e})=>a.a.createElement(i.a,{accessibilityLabel:c,hoverLabel:{label:d},icon:a.a.createElement(o.a,null),link:"/messages/compose",pullRight:!0,testID:e,type:"primaryText"}),m=(t("kYxP"),t("v6aA")),g=t("xN10"),p=t("MWbm"),y=t("OiMc"),_=t("t62R"),h=t("9RkS"),k=t("rHpw"),v=t("hX3w");const b=[[],["dm_evolution_enabled","dm_evolution_inbox_primary_enabled","dm_evolution_inbox_secondary_enabled","dm_evolution_inbox_tertiary_enabled"],["dm_evolution_enabled","dm_evolution_inbox_primary_enabled","dm_evolution_inbox_secondary_enabled","dm_evolution_inbox_tertiary_enabled","dm_evolution_message_creation_enabled"]];var f=function(){const{featureSwitches:e}=a.a.useContext(m.a);if(!e.isTrue("dm_evolution_responsive_web_early_bird_only_switch"))return null;const l=Object(v.a)(e),[t,n]=a.a.useState((e=>{for(let l=b.length-1;l>0;l--)if(Object(g.a)(b[l],(l=>e.isTrue(l))))return l;return 0})(e)),i=(e=>{const l=a.a.useRef();return a.a.useEffect((()=>{l.current=e})),l.current})(t);a.a.useEffect((()=>{void 0!==i&&i!==t&&window.location.reload()}),[t,i]);return a.a.createElement(p.a,{style:F.switchContainer},a.a.createElement(y.a,{enableHover:!0,renderContent:()=>a.a.createElement(_.b,{style:F.popoverContent},"How much fancy GraphQL do you want in your DMs?")},a.a.createElement(p.a,{style:[F.icon,F[`level${t}`]]},a.a.createElement("svg",{viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M57.468 302.66l-14.376-8.3 160.15-277.38 14.376 8.3z",fill:"#E535AB"}),a.a.createElement("path",{d:"M39.8 272.2h320.3v16.6H39.8z",fill:"#E535AB"}),a.a.createElement("path",{d:"M206.348 374.026l-160.21-92.5 8.3-14.376 160.21 92.5zm139.174-241.079l-160.21-92.5 8.3-14.376 160.21 92.5z",fill:"#E535AB"}),a.a.createElement("path",{d:"M54.482 132.883l-8.3-14.375 160.21-92.5 8.3 14.376z",fill:"#E535AB"}),a.a.createElement("path",{d:"M342.568 302.663l-160.15-277.38 14.376-8.3 160.15 277.38zM52.5 107.5h16.6v185H52.5z",fill:"#E535AB"}),a.a.createElement("path",{d:"M330.9 107.5h16.6v185h-16.6z",fill:"#E535AB"}),a.a.createElement("path",{d:"M203.522 367l-7.25-12.558 139.34-80.45 7.25 12.557z",fill:"#E535AB"}),a.a.createElement("path",{d:"M369.5 297.9c-9.6 16.7-31 22.4-47.7 12.8-16.7-9.6-22.4-31-12.8-47.7 9.6-16.7 31-22.4 47.7-12.8 16.8 9.7 22.5 31 12.8 47.7M90.9 137c-9.6 16.7-31 22.4-47.7 12.8-16.7-9.6-22.4-31-12.8-47.7 9.6-16.7 31-22.4 47.7-12.8 16.7 9.7 22.4 31 12.8 47.7M30.5 297.9c-9.6-16.7-3.9-38 12.8-47.7 16.7-9.6 38-3.9 47.7 12.8 9.6 16.7 3.9 38-12.8 47.7-16.8 9.6-38.1 3.9-47.7-12.8M309.1 137c-9.6-16.7-3.9-38 12.8-47.7 16.7-9.6 38-3.9 47.7 12.8 9.6 16.7 3.9 38-12.8 47.7-16.7 9.6-38.1 3.9-47.7-12.8M200 395.8c-19.3 0-34.9-15.6-34.9-34.9 0-19.3 15.6-34.9 34.9-34.9 19.3 0 34.9 15.6 34.9 34.9 0 19.2-15.6 34.9-34.9 34.9M200 74c-19.3 0-34.9-15.6-34.9-34.9 0-19.3 15.6-34.9 34.9-34.9 19.3 0 34.9 15.6 34.9 34.9 0 19.3-15.6 34.9-34.9 34.9",fill:"#E535AB"})))),a.a.createElement(p.a,{style:F.switch},a.a.createElement(h.a,{accessibilityLabel:"GraphQL Slider",hoverLabels:["Easy (no GraphQL, same as normal Twitter)","Medium (some GraphQL, next launch target) ","Jane Wong (all GraphQL, experimental)"],max:b.length-1,min:0,onChange:e=>{for(let t=b.length-1;t>e;t--)b[t].forEach((e=>l.set(e,!1)));b[e].forEach((e=>l.set(e,!0))),n(e)},value:t,withMarkers:!0})))};const F=k.a.create((e=>({level0:{filter:"grayscale(100%)"},level1:{filter:"grayscale(50%)"},level3:{},icon:{height:e.spaces.space20,marginRight:e.spaces.space8,marginTop:e.spaces.space2,width:e.spaces.space20},popoverContent:{padding:e.spaces.space24},switchContainer:{display:"flex",flexDirection:"row"},switch:{marginRight:e.spaces.space12,minWidth:`calc(2*${e.spaces.space48})`}})));var T=t("nySH"),S=t("M2mT"),K=t("Es6L"),R=t("aI6n"),E=t("Vc8w");const L=r.a.a2f81050,C="dmInbox";function I(e){Object(E.a)();const l=Object(K.a)()?a.a.createElement(p.a,{style:w.appBarButtons},a.a.createElement(f,null),Object(T.d)("/messages/settings",!1),a.a.createElement(u,{testID:R.a.newDM})):Object(T.d)("/messages/settings",!0);return a.a.createElement(S.a,{rightControl:l,screenType:"root",title:L},e.children)}const w=k.a.create((e=>({appBarButtons:{flexDirection:"row",alignItems:"center"}})))},"2Daw":function(e,l,t){"use strict";t.d(l,"a",(function(){return F}));var n=t("ERkP"),a=t.n(n),i=t("LCtV"),s=t("3XMw"),r=t.n(s),o=t("VPdC"),c=t("pKoL"),d=t("MWbm"),u=t("t62R"),m=t("rFBM"),g=t("/yvb"),p=t("9Xij"),y=t("rHpw"),_=t("T8pk"),h=t("hOZg"),k=t("Mbn/");const v=r.a.b87ca51a,b=r.a.eebff22c,f=a.a.createElement(_.a,null);class F extends a.a.Component{render(){const{borderRadius:e,description:l,innerStyle:t,maskStyle:n,mediaItem:i,onAddMediaFiles:s,onCrop:r,onRemove:o,rootStyle:c,withDragDrop:g}=this.props,p=i&&!i.uploader,y=a.a.createElement(a.a.Fragment,null,this._renderPreview(),p?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{style:[S.mask,n,T[e]]}),a.a.createElement(d.a,{style:[S.overlaidContent,t]},a.a.createElement(d.a,{style:S.buttonsContainer},this._renderMediaEdit(),r?this._renderMediaCrop():null,o?this._renderMediaRemove():null),l?a.a.createElement(u.b,{align:"center",color:"gray700",size:"subtext1",style:S.description},l):null)));return a.a.createElement(d.a,{style:[S.container,c,T[e]]},g&&s?a.a.createElement(m.a,{onFilesAdded:s,style:[S.dragDropContainer,T[e]]},y):y)}_renderMediaRemove(){const{onRemove:e}=this.props;return a.a.createElement(g.a,{accessibilityLabel:v,hoverLabel:{label:v},icon:a.a.createElement(h.a,null),onPress:e,size:"large",style:S.buttonLeftPadding,type:"onMediaDominantColorFilled"})}_renderMediaCrop(){const{onCrop:e}=this.props;return a.a.createElement(g.a,{accessibilityLabel:b,icon:a.a.createElement(k.a,null),onPress:e,size:"large",style:S.buttonLeftPadding,type:"onMediaDominantColorFilled"})}_renderMediaEdit(){const{acceptGifs:e,acceptVideo:l,accessibilityLabel:t,icon:n,multiple:i,onAddMediaFiles:s,onEdit:r}=this.props;return s?a.a.createElement(o.a,{acceptGifs:e,acceptVideo:l,accessibilityLabel:t,icon:n,multiple:i,onChange:s,size:"large",style:S.mediaPicker,type:"onMediaDominantColorFilled"}):a.a.createElement(g.a,{accessibilityLabel:t,icon:n,onPress:r,size:"large",type:"onMediaDominantColorFilled"})}_renderPreview(){const{aspectRatio:e,borderRadius:l,currentContent:t,mediaItem:n}=this.props;return n?a.a.createElement(p.a,{ratio:e},a.a.createElement(c.a,{borderRadius:l,enableGif:!1,mediaItem:n,style:S.mediaPreview,withCloseButton:!1})):t}}F.defaultProps={acceptGifs:!1,acceptVideo:!1,aspectRatio:1,borderRadius:i.a.NONE,icon:f};const T=y.a.create((e=>({infinite:{borderRadius:e.borderRadii.infinite},medium:{borderRadius:e.borderRadii.small},none:{borderRadius:e.borderRadii.none}}))),S=y.a.create((e=>({mediaPreview:{height:"100%"},overlaidContent:{alignItems:"center",height:"100%",justifyContent:"center",opacity:.75,position:"absolute",top:0,width:"100%"},buttonsContainer:{alignItems:"center",flexDirection:"row",justifyContent:"center"},buttonLeftPadding:{marginLeft:e.spaces.space20},mask:{backgroundColor:e.colors.translucentBlack30,height:"100%",position:"absolute",top:0,width:"100%"},container:{justifyContent:"center",overflow:"hidden"},dragDropContainer:{borderWidth:e.borderWidths.medium,borderColor:e.colors.transparent,borderStyle:"solid"},mediaPicker:{margin:0},description:{marginTop:e.spaces.space16}})))},"2doW":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("97Jx"),s=t.n(i),r=(t("kYxP"),t("3XMw")),o=t.n(r),c=t("mN6z"),d=t("U+bB"),u=t("MWbm"),m=t("0Ki6"),g=t("3dad"),p=t("r1lV"),y=t("rHpw"),_=t("JYMr");const h=o.a.b327c12a,k=o.a.gff1f69e;class v extends a.a.PureComponent{constructor(...e){super(...e),this.state={loadingVariant:null,imageLoading:!1},this._handleLoadStart=()=>this.setState({imageLoading:!0}),this._handleLoadEnd=()=>this.setState({imageLoading:!1})}componentDidMount(){this._mountPromiseForTesting=v._selectCachedVariant(this.props.photo).then((e=>this.setState({loadingVariant:e})))}componentDidUpdate(e,l){Object(c.a)(e.photo,this.props.photo)||(this.setState({loadingVariant:null}),v._selectCachedVariant(this.props.photo).then((e=>this.setState({loadingVariant:e}))))}render(){const{dataSaver:e,imageStyle:l,onError:t,onLoad:n,onTap:i,onZoomed:s,photo:r,resetZoom:o,style:c,zoomable:g}=this.props,{loadingVariant:p}=this.state,y=(e&&p&&Math.max(p.width,p.height)>=680?p.uri:null)||v._selectSource(r);if(!y||null===p)return null;const _=a.a.createElement(d.a,{accessibilityLabel:r.ext_alt_text?r.ext_alt_text:h,defaultSource:p&&p.uri,draggable:!0,onError:p?void 0:t,onLoad:n,onLoadEnd:this._handleLoadEnd,onLoadStart:this._handleLoadStart,resizeMode:"contain",source:y,style:[b.img,l]});return a.a.createElement(u.a,{style:c},this.state.imageLoading?f:null,g?a.a.createElement(m.a,{onTap:i,onZoomed:s,resetZoom:o},_):_)}static _selectCachedVariant(e){const l=g.a.getOriginalImage(e);return l?p.a.selectLargestCachedVariant(l):Promise.resolve()}static _selectSource(e){const l=g.a.getOriginalImage(e);return l&&p.a.selectLargestUrl(l)}}v.defaultProps={zoomable:!1};const b=y.a.create((e=>({img:{...y.a.absoluteFillObject,height:"auto",margin:"auto",maxHeight:"100%",maxWidth:"100%",width:"auto"},progressBar:{position:"absolute",top:0,zIndex:1}}))),f=a.a.createElement(_.a,{ariaValueText:k,indeterminate:!0,style:b.progressBar});var F=v,T=t("RCZO"),S=t("Modb"),K=t("XrEN");class R extends a.a.PureComponent{constructor(...e){super(...e),this._handlePlaybackStarted=()=>{this._player&&!this.props.isCurrentlyDisplayed&&this._player.pause()},this._setPlayer=e=>{this._player=e,this._player&&this.props.isCurrentlyDisplayed&&this._player.play()}}render(){const{style:e}=this.props;return a.a.createElement(u.a,{style:e},a.a.createElement(u.a,{style:E.root},this._renderVideo()))}componentDidUpdate(e){const{isCurrentlyDisplayed:l}=this.props;this._player&&l!==e.isCurrentlyDisplayed&&(l?this._player.play():this._player.pause())}_renderVideo(){const{promotedContent:e,video:l,videoId:t}=this.props;return a.a.createElement(S.a,s()({},K.a.extractVideoProps(t,l),{onPlaybackStarted:this._handlePlaybackStarted,playbackCoordination:null,promotedContent:e,setPlayer:this._setPlayer,withPostPlayback:!0}))}}const E=y.a.create({root:{flexBasis:0,flexGrow:1,flexShrink:1,justifyContent:"center"}});var L=R;const C={startX:0,startY:0};class I extends a.a.Component{constructor(...e){super(...e),this._pullDistanceY=0,this._pullInfo={...C},this._handleTouchStart=e=>{this._pullInfo.startX=e.touches[0].clientX,this._pullInfo.startY=e.touches[0].clientY},this._handleTouchMove=e=>{if("number"!=typeof this._pullInfo.startX||"number"!=typeof this._pullInfo.startY)return;const l=e.touches[0],t=l.clientX-this._pullInfo.startX,n=l.clientY-this._pullInfo.startY;Math.abs(t)>10||(e.preventDefault(),this._updatePullPosition(n))},this._handleTouchEnd=e=>{Math.abs(this._pullDistanceY)>50?this._handleDismiss():this._resetPullInfo()},this._updatePullPosition=e=>{this._pullDistanceY=e},this._handleDismiss=()=>{const{onDismiss:e}=this.props;e&&e(),this._resetPullInfo()},this._resetPullInfo=()=>{this._updatePullPosition(0),this._pullInfo={...C}}}render(){const{children:e,onDismiss:l,onLayout:t,style:n}=this.props,i=!!l;return a.a.createElement(u.a,{onLayout:t,onTouchEnd:i?this._handleTouchEnd:void 0,onTouchMove:i?this._handleTouchMove:void 0,onTouchStart:i?this._handleTouchStart:void 0,style:n,testID:"swipe-to-dismiss"},e)}}var w=I,x=t("7N4s"),M=t("q9Zt");const O=o.a.ac85c6b2,A=e=>{const{isAvatar:l,isCurrentlyDisplayed:t,mediaDetail:n,onDismiss:i,onTap:r,promotedContent:o,videoId:c,...d}=e,[m,g]=a.a.useState(null),[p,y]=a.a.useState({width:0,height:0}),{isModal:_}=a.a.useContext(x.b),{height:h,width:k}=n.original_info||{},{height:v,width:b}=p,f=_||l?Object(T.f)({mediaWidth:k,mediaHeight:h,containerWidth:b,containerHeight:v},l):D.mediaItem;a.a.useEffect((()=>{m&&g(null)}),[e,m]);return a.a.createElement(w,{onDismiss:i,onLayout:_||l?e=>{const{nativeEvent:{layout:{height:l,width:t}}}=e;t===p.width&&l===p.height||y({width:t,height:l})}:void 0,style:D.root},m?a.a.createElement(M.a,{onRetry:()=>{g(null)},style:D.errorDetail,title:O,withLightOnDarkColorScheme:!0}):null,m?null:a.a.createElement(u.a,{onClick:e=>{e.stopPropagation()},style:f},"photo"===n.type?a.a.createElement(F,s()({},d,{imageStyle:l&&D.avatarImage,onError:e=>{g(e.nativeEvent.error)},onLoad:()=>{g(null)},onTap:r,photo:n,style:D.container,zoomable:!0})):K.a.isVideo(n)&&c?a.a.createElement(L,{isCurrentlyDisplayed:t,promotedContent:o,style:D.container,video:n,videoId:c}):null))},D=y.a.create((e=>({root:{flexGrow:1,justifyContent:"center",alignItems:"center",flexShrink:1},mediaItem:{flexGrow:1,width:"100%",height:"100%"},container:{height:"100%",position:"absolute",width:"100%"},errorDetail:{alignItems:"center",alignSelf:"center",justifyContent:"center",position:"absolute",height:"100%",maxWidth:400},avatarImage:{borderRadius:e.borderRadii.infinite,margin:e.spaces.space16}})));var P=a.a.memo(A,((e,l)=>Object(c.a)(e,l))),U=t("lklz"),H=t("v6aA"),W=t("6iuV"),N=t("uavX"),q=t("fs1G");class j extends a.a.Component{constructor(e,l){super(e,l),this._handleChangeV2=({index:e,intersectionRatio:l})=>{const{onMediaItemChanged:t}=this.props;1===l&&t&&t(e)},this._getItemVideoId=e=>{const{videoId:l}=this.props;return l||(e=>U.b.forTweet(e.expanded_url.split("/")[3]))(e)},this._handleMediaDetailZoomed=e=>{const{onMediaDetailZoomed:l}=this.props;this.state.isZoomed!==e&&this.setState({isZoomed:e}),l&&l(e)},this.state={isZoomed:!1}}shouldComponentUpdate(e,l){return!Object(c.a)(e,this.props)||!Object(c.a)(l,this.state)}render(){const{dataSaver:e,mediaIndex:l,mediaItems:t,onDismiss:n,onTap:i,promotedContent:s}=this.props,{isZoomed:r}=this.state,o=t.map(((o,c)=>{const d=K.a.isVideo(o),u=this._getItemVideoId(o),m=l===c;return d&&u||!d?a.a.createElement(P,{dataSaver:e,isAvatar:this.props.isAvatar,isCurrentlyDisplayed:m,key:c,mediaDetail:t[c],onDismiss:r?void 0:n,onTap:i,onZoomed:m?this._handleMediaDetailZoomed:void 0,promotedContent:s,resetZoom:l!==c,videoId:u}):null}));return a.a.createElement(u.a,{style:B.root},t.length>1?this._renderCarousel(o):o)}_renderCarousel(e){const{dominantColor:l,mediaIndex:t,mediaItems:n,onMediaItemChanged:i}=this.props,{isZoomed:s}=this.state,r=K.a.isVideo(n[t]);return this.context.featureSwitches.isTrue("responsive_web_carousel_v2_media_detail_enabled")?a.a.createElement(W.a,{childrenStyle:[B.dimensions,B.scrollSnap],dominantButtonColor:l,isLocked:s,onVisibleRangeChange:this._handleChangeV2,scrollToCenter:!0,style:B.dimensions,swipeablePaddingLeft:0,swipeablePaddingRight:0,visibleItemIndex:t,withAddedNavButtonClickArea:!r,withGlobalKeyboardNavigation:!0,withWraparound:!1},e):a.a.createElement(N.b,{currentSlide:t,dominantColor:l,locked:s,onChange:i,shouldAlwaysEnableKeyboardNavigation:!0},e)}}j.contextType=H.a,j.defaultProps={mediaIndex:0,onMediaDetailZoomed:q.a,onMediaItemChanged:q.a};const B=y.a.create((e=>({root:{flex:1,zIndex:1},dimensions:{height:"100%",width:"100%"},scrollSnap:{scrollSnapAlign:"center",scrollSnapStop:"always"}})));l.a=j},"33Kz":function(e,l,t){"use strict";t.d(l,"b",(function(){return i})),t.d(l,"a",(function(){return s}));t("kYxP");const n=e=>e.getArrayValue("dm_reactions_config_active_reactions"),a=e=>{const l=e.getArrayValue("dm_reactions_config_inactive_reactions");return[...n(e),...l]},i=(e,l)=>{const t=a(l).find((l=>l.endsWith(e)));if(t)return t.split(":")[0]},s=(e,l={includeInactive:!1})=>l.includeInactive?a(e).map((e=>e.split(":")[1])):n(e).map((e=>e.split(":")[1]))},"3AAD":function(e,l,t){"use strict";const n={...t("7n04").a,pinToNewestWhenAtNewest:!0};l.a=n},"4AMG":function(e,l,t){"use strict";t.d(l,"a",(function(){return Ci}));var n=t("ejT/"),a=t("ERkP"),i=t.n(a),s=(t("kYxP"),t("gbD7")),r=t("X/yg"),o=t("b9JY");var c=(e,l)=>{if(e&&e.message_data&&l&&l.message_data&&Object(o.b)(e)&&Object(o.b)(l)){const{sender_id:t,time:n}=e.message_data,{sender_id:a,time:i}=l.message_data,s=parseInt(i,10)-parseInt(n,10);return t===a&&s>=0&&s<=6e4}return!1},d=t("jat/"),u=t("MMRb"),m=t("v6aA"),g=t("XnpN"),p=t("3XMw"),y=t.n(p),_=t("W27K"),h="ProfileInfoHeader",k="UserDescription",v=t("LhSm"),b=t("I4+6"),f=t("rHpw"),F=t("t62R"),T=t("855f"),S=t("PbQQ"),K=t("cm6r"),R=t("oSwX"),E=t("jV+4"),L=t("pBrB"),C=t("wCd/"),I=t("pjBI"),w=t("OOKO");const x=y.a.e535cae9,M=(e,l)=>{const t=Object(g.a)(e,l).map((({user:e})=>e)),n=t&&t[0];return{userAvatarUrl:n.profile_image_url_https,userDescription:n.description,userEntities:n.entities,userWithheldDescription:n.withheld_description,userWithheldEntities:n.withheld_entities,userFollowerCount:n&&n.followers_count,userFriendsCount:n&&n.friends_count,userIdStr:n&&n.id_str,userJoinDate:n&&n.created_at,userName:n&&n.name,userScreenName:n&&n.screen_name,userIsVerified:n&&n.verified}},O=f.a.create((e=>({root:{flexDirection:"column",alignItems:"center",marginBottom:e.spaces.space16,paddingVertical:e.spaces.space20,paddingHorizontal:e.spaces.space16,borderRadius:e.borderRadii.xSmall},profileInfoItemMargin:{marginBottom:e.spaces.space4},borderBottom:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid"},description:{width:"100%",textAlign:"center"},descriptionVDL:{marginBottom:0,marginTop:e.spaces.space12},statsVDL:{marginTop:e.spaces.space12,marginBottom:e.spaces.space12},userAvatar:{alignItems:"center"}})));var A=({conversation:e,withBottomBorder:l=!0,withVDLrefresh:t=!1})=>{const{loggedInUserId:n}=i.a.useContext(m.a);if(!e)return null;const{userAvatarUrl:a,userDescription:s,userEntities:r,userFollowerCount:o,userFriendsCount:c,userIdStr:d,userIsVerified:u,userJoinDate:g,userName:p,userScreenName:y,userWithheldDescription:A,userWithheldEntities:D}=M(e,n||""),P=!!(p&&y&&(o&&c||g)),U=b.a.generate({color:f.a.theme.colors.text,backgroundColor:f.a.theme.colors.transparent,customFocusBackgroundColor:f.a.theme.colors.gray0,customHoverBackgroundColor:f.a.theme.colors.gray0,customPressedBackgroundColor:f.a.theme.colors.activeFaintGray});return i.a.createElement(S.a.Consumer,{testId:h},(e=>{return i.a.createElement(K.a,{interactiveStyles:U,link:e.withAnchorless(`https://twitter.com/${y||""}`),style:[O.root,l&&P&&O.borderBottom]},t&&i.a.createElement(R.default,{uri:a}),i.a.createElement(E.a,{isVerified:u,name:p,screenName:y,style:[O.profileInfoItemMargin,t&&O.userAvatar],weight:"bold",withHoverCard:!0,withLink:!0,withStackedLayout:t}),s&&r&&d?i.a.createElement(L.a,{description:s,entities:r,style:[O.profileInfoItemMargin,O.description,t&&O.descriptionVDL],testID:k,userId:d,withheldDescription:A,withheldEntities:D}):null,!t&&o&&c?i.a.createElement(C.a,{followersCount:o,friendsCount:c,screenName:y||"",style:O.profileInfoItemMargin,withLink:!1}):null,!t&&g?i.a.createElement(v.a,{joinDate:g}):null,t?i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{style:O.statsVDL},g?(e=>i.a.createElement(F.b,{color:"gray700",size:"subtext1"},i.a.createElement(v.a,{joinDate:e,withoutIcon:!0})))(g):null,o?(n=o,i.a.createElement(F.b,{color:"gray700",size:"subtext1"},x({count:T.a.getTruncatedCount(n)}))):null),i.a.createElement(_.a,{userId:d,userScreenName:y||""}),i.a.createElement(w.a,{spacing:"space28"})):null);var n}))},D=t("V/6K"),P=t("cFyg"),U=t("g54k"),H=t("aA19"),W=t("aWyx"),N=t("mN6z"),q=t("MWbm"),j=t("MAI/"),B=t("zQEV");const V=({children:e,link:l,style:t})=>i.a.createElement(F.b,{align:"center",color:"gray700",link:l,size:"subtext2",style:t},e);class z extends i.a.Component{constructor(...e){super(...e),this._renderContents=()=>{const{conversation:e,entry:l,entryType:t,perspective:n,users:a}=this.props,s=Object(B.a)(l,t,n,a);switch(t){case W.b.CONVERSATION_AVATAR_UPDATE:{const t=e.avatar_image_https===l.conversation_avatar_image_https;return i.a.createElement(i.a.Fragment,null,this._isValidImageSource(e.avatar_image_https)&&t?i.a.createElement(q.a,{style:G.conversationAvatarContainer},i.a.createElement(H.a,{conversation:e,perspective:n})):null,i.a.createElement(V,null,s))}case W.b.JOIN_CONVERSATION:{const e=this._getAddedYouMessageWithProfileInfo(s),l=this._getParticipantsFromEntry(),t=i.a.createElement(F.b,{align:"center",color:"gray700",size:"subtext2"},this._getParticipantsFromEntryText(l)),n=this._getJoinConversationDetailsWithFacepile(l,t);return i.a.createElement(i.a.Fragment,null,e,n)}default:return i.a.createElement(V,null,s)}},this._getAddedYouMessageWithProfileInfo=e=>{const{entry:l,users:t}=this.props,n=l.sender_id?t[l.sender_id]:void 0,a=n?{pathname:`https://twitter.com/${n.screen_name}`}:void 0;return i.a.createElement(K.a,{interactiveStyles:null,link:a,style:G.userAddedYouContainer},n?i.a.createElement(R.default,{accessibilityLabel:n.screen_name,screenName:n.screen_name,size:"medium",uri:n.profile_image_url_https,withHoverCard:!0,withLink:!0}):null,i.a.createElement(V,{link:a,style:G.userAddedYouText},e))},this._getJoinConversationDetailsWithFacepile=(e,l)=>{const{conversation:t}=this.props,n=e.slice(0,20).map((({profile_image_url_https:e})=>e));return i.a.createElement(K.a,{interactiveStyles:null,link:{pathname:`/messages/${t.conversation_id}/participants`},style:G.joinConversationDetails},l,i.a.createElement(j.a,{style:G.userAvatarFacepile,userAvatarSize:"xLarge",userAvatarUrls:n}))}}shouldComponentUpdate(e){return!Object(N.a)(this.props,e)}render(){return i.a.createElement(q.a,{style:G.root},this._renderContents())}_isValidImageSource(e){return e&&""!==e&&e.indexOf("MEDIA_NOT_FOUND")<0}_getParticipantsFromEntry(){const{entry:e,perspective:l,users:t}=this.props;return e.participants?e.participants.filter((({user_id:e})=>l!==e)).map((({user_id:e})=>t[e])).filter(Boolean):[]}_getParticipantsFromEntryText(e){const{conversation:{conversation_id:l}}=this.props;return Object(B.b)(e.length,l)}}const G=f.a.create((e=>({root:{paddingBottom:e.spaces.space20},conversationAvatarContainer:{alignSelf:"center",height:e.spaces.space64,marginBottom:e.spaces.space12,width:e.spaces.space64},userAddedYouContainer:{flexDirection:"row",justifyContent:"center"},userAddedYouText:{flexShrink:1,marginLeft:e.spaces.space12},joinConversationDetails:{marginTop:e.spaces.space4},userAvatarList:{marginTop:e.spaces.space4},userAvatarFacepile:{marginTop:e.spaces.space4,justifyContent:"center"}})));var Q=Object(U.a)(z),Y=t("zTrU");var X=Object(Y.a)((function(e){const l=f.a.theme.spacesPx.space40;return{DMUserAvatarSizeType:"xLarge",DMUserAvatarSizePx:l,DMUserAvatarSpacerPx:l+f.a.theme.spacesPx.space12}})),$=t("shC7"),J=t("38/B");const Z=function(e){return ee(e,J.a.reducedMotionEnabled)},ee=Object(Y.a)((function(e,l){const t=function(){const{DMUserAvatarSizePx:e,DMUserAvatarSpacerPx:l}=X(f.a.theme.scale),t=ne[f.a.theme.scale],n=le/t,a=te/e,i=te/2,s=te-i,r=te-i-l;return{cssTransition:J.a.reducedMotionEnabled?{}:{transition:`transform ${ie}, opacity ${ie}`},messageContainer:{base:{transform:[{translateX:0}]},active:{sent:{transform:[{translateX:($.a.getConstants().isRTL?1:-1)*s}]},received:{transform:[{translateX:($.a.getConstants().isRTL?-1:1)*r}]}}},actionsContainer:{base:{transform:[{translateX:0}]},active:{sent:{transform:[{translateX:($.a.getConstants().isRTL?1:-1)*ae[f.a.theme.scale]}]},received:{transform:[{translateX:($.a.getConstants().isRTL?-1:1)*(ae[f.a.theme.scale]+r)-i}]}}},voiceMessage:{container:{base:{height:t},active:{height:le}},base:{height:t,transform:[{scale:1}]},active:{base:{transform:[{scale:n}]},sent:{paddingRight:i/n,transformOrigin:$.a.getConstants().isRTL?"bottom left":"bottom right"},received:{paddingLeft:i/n,transformOrigin:$.a.getConstants().isRTL?"bottom right":"bottom left"}}},userAvatar:{base:{transform:[{scale:1}]},sent:{transformOrigin:$.a.getConstants().isRTL?"bottom left":"bottom right"},received:{transformOrigin:$.a.getConstants().isRTL?"bottom right":"bottom left"},active:{opacity:1,pointerEvents:"all",transform:[{scale:a}]},visuallyHidden:{opacity:0,pointerEvents:"none"}}}}();return{actionsContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[t.cssTransition,t.actionsContainer.base];return l&&n.push(e?t.actionsContainer.active.sent:t.actionsContainer.active.received),n},messageContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[t.cssTransition,t.messageContainer.base];return l&&n.push(e?t.messageContainer.active.sent:t.messageContainer.active.received),n},voiceMessageContainer:function({isSent:e,isVoiceMessageActive:l}){const n=[t.cssTransition,t.voiceMessage.container.base];return l&&n.push(t.voiceMessage.container.active),n},voiceMessage:function({isSent:e,isVoiceMessageActive:l}){const n=[t.cssTransition,t.voiceMessage.base];return l&&(n.push(t.voiceMessage.active.base),n.push(e?t.voiceMessage.active.sent:t.voiceMessage.active.received)),n},userAvatar:function({isSent:e,isVoiceMessageActive:l}){const n=[t.cssTransition,t.userAvatar.base,e?t.userAvatar.sent:t.userAvatar.received];return l?n.push(t.userAvatar.active):e&&n.push(t.userAvatar.visuallyHidden),n}}}));const le=60,te=le,ne={xSmall:42,small:42,normal:47,large:47,xLarge:47},ae={xSmall:72.26,small:165.61-89.3,normal:158.22-94.4,large:166.64-100.58,xLarge:181.55-111.81},ie="0.2s 0s ease-in-out";var se=t("+Kfv"),re=t("hqKg"),oe=t("oEGd"),ce=t("zh9S"),de=t("Yatk"),ue=t("G6rE"),me=t("P1r1");const ge={scribeAction:ce.c},pe=Object(re.createSelector)(((e,l)=>ue.e.select(e,l.senderId)),me.k,me.q,((e,l,t)=>({user:Object(de.a)(e),displaySensitiveMedia:l,isDmNsfwMediaFilterEnabled:t})));var ye=Object(oe.f)(pe,ge),_e=(t("MvUL"),t("1YZw")),he=t("rxPX"),ke=t("0KEI");var ve=Object(he.a)().propsFromActions((()=>({addToast:_e.b,createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_OVERFLOW_ACTIONS"),deleteEntry:u.deleteEntry}))).withAnalytics(),be=t("k49u"),fe=t("LVU8");const Fe=y.a.f58dff34,Te=y.a.ad5a8e8e,Se={[be.a.MissingParameter]:{toast:Object(fe.a)(Fe)},[be.a.DirectMessageDestroyPermissionsError]:{toast:{text:Te}},showToast:!0};var Ke=t("xCUF"),Re=t("uKEd");const Ee=[],Le=Object(re.createSelector)((e=>Object(Re.l)(e).entries),((e,l)=>Object(Re.p)(e,l.entry.id)||Ee),((e,l)=>l.perspective),((e,l,t)=>({selectedReactions:l.filter((l=>{const n=e[l]&&e[l].data;return n&&n.sender_id===t})).map((l=>e[l].data.reaction_key))}))),Ce={createReaction:Re.d,createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTIONS_POPOVER"),fetchUpdatesIfNeeded:Ke.d,removeReaction:Re.k};var Ie=Object(oe.f)(Le,Ce),we=t("33Kz"),xe=t("wTX1");var Me=({accessibilityLabelFormatter:e,count:l,emojiSize:t,emotion:n,enableHoverStyle:a,focusable:s,onPress:r,style:o})=>{const{featureSwitches:c}=i.a.useContext(m.a),d=Object(we.b)(n,c),u=e&&d?e({emoji:d,count:l}):void 0,g=b.a.generate({backgroundColor:f.a.theme.colors.gray50,color:f.a.theme.colors.gray700});return i.a.createElement(K.a,{accessibilityLabel:u,focusable:s,interactiveStyles:a?g:null,onPress:r,style:[Oe.container,...o||[]]},i.a.createElement(F.b,{size:t,style:Oe.unsetLineHeight},d),l?i.a.createElement(xe.a,{color:"gray700",containerStyle:Oe.count,count:l,size:"subtext3"},l):null)};const Oe=f.a.create((e=>({container:{flexDirection:"row"},count:{alignSelf:"center",minWidth:e.spaces.space16,paddingLeft:e.spaces.space2},unsetLineHeight:{lineHeight:"unset"}})));var Ae=t("pHkl"),De=t("Irs7");const Pe=y.a.ca7a2215,Ue=y.a.fc0e94b7;class He extends i.a.Component{constructor(...e){super(...e),this._handleReactionScribing=(e,l)=>{const{analytics:t,entry:n,isGroupDM:a,participantsCount:i}=this.props,s=l?"delete_reaction":"create_reaction",o=Object(r.c)(n);t.scribe({section:"twitter_service",component:"direct_messages",element:s,action:"success",data:{conversation_id:n.conversation_id,conversation_participant_count:i,conversation_type:a?Ae.l.GROUP:Ae.l.ONE_TO_ONE,message_type:o,reaction_emotion:e}})},this._reactionClickHandler=(e,l)=>()=>{const{createLocalApiErrorHandler:t,createReaction:n,dismiss:a,entry:i,fetchUpdatesIfNeeded:s,perspective:r,removeReaction:o}=this.props,c={reaction_key:e,conversation_id:i.conversation_id,dm_id:i.id,perspective:r};(l?o:n)(c).then(this._handleReactionScribing(e,l)).then((()=>s())).catch(t()),a()}}render(){const{selectedReactions:e}=this.props,l=Object(we.a)(this.context.featureSwitches).map((l=>{const t=e.includes(l);return i.a.createElement(Me,{accessibilityLabelFormatter:t?Pe:Ue,emojiSize:"title4",emotion:l,enableHoverStyle:!0,focusable:!0,key:l,onPress:this._reactionClickHandler(l,t),style:[Ne.reaction,t&&Ne.selectedReaction]})}));return i.a.createElement(q.a,{style:Ne.reactions},l)}}He.contextType=m.a;var We=Object(De.a)(Ie(He));const Ne=f.a.create((e=>({reactions:{cursor:"pointer",flexDirection:"row",padding:e.spaces.space12},reaction:{borderRadius:e.borderRadii.small,padding:e.spaces.space4},selectedReaction:{backgroundColor:e.colors.gray50}})));var qe=t("OiMc");class je extends i.a.Component{constructor(...e){super(...e),this._renderDMReactionPickerContent=e=>{const{entry:l,isGroupDM:t,participantsCount:n,perspective:a}=this.props;return i.a.createElement(We,{dismiss:e,entry:l,isGroupDM:t,participantsCount:n,perspective:a})}}render(){const{children:e,onDismiss:l}=this.props;return i.a.createElement(qe.a,{enableEnterKeyToggle:!0,onDismiss:l,preferredVerticalOrientation:"up",renderContent:this._renderDMReactionPickerContent,withArrow:!0,withFixedPosition:this.context.isDrawer},e)}}je.contextType=D.a;var Be=t("TnY3"),Ve=t("mjJ+"),ze=t("Q0VY"),Ge=t("eb3s"),Qe=t("/yvb"),Ye=t("ZToW"),Xe=t("CaKu"),$e=t("i4Oy"),Je=t("4w6w");const Ze=(e,l)=>{if(null==e)return!1;const[t,n]=l||[0,0];return!((0===t||1===t)&&e.length===n)},el=e=>{const{message_data:l}=e;if(!l)return!1;const{attachment:t}=l;if(!t)return!0;if(t.sticker)return!1;const n=t.tweet||t.photo||t.animated_gif||t.video||void 0;if(n)return Ze(l.text,n.indices);if(t.card){var a;const e=((null==(a=l.entities)?void 0:a.urls)||[]).find((e=>e.url===t.card));return Ze(l.text,e&&e.indices)}return!0},ll=e=>{var l;const t=null==e||null==(l=e.message_data)?void 0:l.attachment;return!(!t||!(t.card||t.tweet||t.photo||t.animated_gif||t.video))},tl=e=>{var l;const t=null==e||null==(l=e.message_data)?void 0:l.attachment;return!(!t||!t.fleet)},nl=(e,l,t)=>{const n=1.25*f.a.theme.fontSizesPx.body;return{compositeRendered:e?void 0!==l&&void 0!==t:void 0!==l,isTextSquared:void 0!==l&&void 0!==t&&(t===l||t<=l-n),isAttachmentSquared:void 0!==t&&void 0!==l&&(l===t||l<=t-n)}};var al=t("hiGS"),il=t("zIWA"),sl=t("Lsrn"),rl=t("k/Ka");const ol=(e={})=>Object(rl.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[sl.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M16.925 9.5H14.5V7.075c0-.414-.336-.75-.75-.75s-.75.336-.75.75V9.5h-2.425c-.414 0-.75.336-.75.75s.336.75.75.75H13v2.425c0 .414.336.75.75.75s.75-.336.75-.75V11h2.425c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-.3 11H4.25c-.413 0-.75-.337-.75-.75V8.402c0-.414-.336-.75-.75-.75s-.75.336-.75.75V19.75C2 20.99 3.01 22 4.25 22h12.375c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),i.a.createElement("path",{d:"M19.75 2h-12C6.51 2 5.5 3.01 5.5 4.25v12c0 1.24 1.01 2.25 2.25 2.25h12c1.24 0 2.25-1.01 2.25-2.25v-12C22 3.01 20.99 2 19.75 2zm.75 14.25c0 .413-.337.75-.75.75h-12c-.413 0-.75-.337-.75-.75v-12c0-.413.337-.75.75-.75h12c.413 0 .75.337.75.75v12z"})));ol.metadata={width:24,height:24};var cl=ol,dl=t("DlVf"),ul=t("ACHU"),ml=t("UgB4"),gl=t("fz3c");const pl=y.a.ba60339a,yl=y.a.j4bfee22,_l=y.a.d96cf7ce,hl=y.a.faddd3a2,kl=y.a.eb497e08,vl=y.a.b170974a,bl=y.a.i202bd22,fl=y.a.f2e5491a,Fl=y.a.f88553c8,Tl=y.a.ifea3114,Sl=y.a.cac1482a,Kl=y.a.h63a5c3c;class Rl extends i.a.Component{constructor(e,l){super(e,l),this._renderOverflowMenu=e=>{const{analytics:l,entry:t,featureSwitches:n,isSent:a}=this.props,s=gl.a.DMMessage,r=l.contextualScribeNamespace,o=[{text:pl,Icon:al.a,isEmphasized:!0,onClick:this._handleShowDeleteConfirmation(e)}];if(!a)if(Object(gl.g)(n,s)){var c;const e=Object(gl.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:s,reportedConversationId:t.conversation_id,reportedMessageId:t.id,reportedUser:null==(c=t.message_data)?void 0:c.sender_id,scribeNamespace:l.contextualScribeNamespace});o.push({text:bl,Icon:il.a,link:{pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}},onClick:this.props.onReportMessage})}else o.push({text:bl,Icon:il.a,link:{pathname:`/i/report/${s}/${t.id}`,state:{clientReferer:window.location.pathname,conversationId:t.conversation_id,scribeNamespace:r}},onClick:this.props.onReportMessage});return Xe.a.isAvailable()&&o.push({text:fl,Icon:cl,onClick:this._handleCopyMessageText}),i.a.createElement(Ve.a,{isFixed:this.context.isDrawer,items:o,onCloseRequested:this._handleHideActionsAndMenus(e),preferredHorizontalOrientation:"right"})},this._handleCopyMessageText=e=>{const{addToast:l}=this.props,t=this._replaceMessageUrls();t&&(Xe.a.setString(t),l({text:Fl})),e&&e()},this._handleForwardButton=()=>{var e,l;const{entry:t,history:n}=this.props;if(null!=t&&null!=(e=t.message_data)&&null!=(l=e.attachment)&&l.tweet){const{tweet:e}=t.message_data.attachment;n.push({pathname:"/messages/compose",state:{tweetAttachment:{...e,id_str:e.status}}})}},this._handleSetActionsActive=()=>{const{setShouldFreezeUpdates:e}=this.props;this.setState({actionsAreActive:!0}),e(!0)},this._handleDelete=()=>{const{analytics:e,createLocalApiErrorHandler:l,deleteEntry:t,entry:n,inboxType:a,isGroupDM:i,participantsCount:s}=this.props,o=Object(r.c)(n);e.scribe({action:"delete",data:{conversation_id:n.conversation_id,conversation_type:i?Ae.l.GROUP:Ae.l.ONE_TO_ONE,conversation_participant_count:s,message_type:o,inbox_type:Object(r.l)(a)}}),t({conversationId:n.conversation_id,id:n.id}).catch(l(Se))},this._handleHideDeleteConfirmation=()=>{this.setState({showDeleteConfirmation:!1})},this._handleHideActionsAndMenus=e=>()=>{const{setShouldFreezeUpdates:l}=this.props;e&&e(),this.setState({actionsAreActive:!1}),l(!1)},this._handlePressReactionPickerButton=()=>{const{analytics:e,entry:l}=this.props;e.scribe({component:"reaction_button",element:Object(r.c)(l),action:"click"}),this._handleSetActionsActive()},this._handleShowDeleteConfirmation=e=>()=>{const{setShouldFreezeUpdates:l}=this.props;e(),this.setState({actionsAreActive:!1,showDeleteConfirmation:!0}),l(!1)},this._replaceMessageUrls=()=>{const{entry:e}=this.props,l=e&&e.message_data&&e.message_data.entities;let t=e&&e.message_data&&e.message_data.text||"";return ze.a.tweetTextParts(t,[0,t.length],l).forEach((e=>{"url"===e.entityType&&(t=t.replace(e.url,e.expandedUrl))})),t},this.state={actionsAreActive:!1,showDeleteConfirmation:!1},this._hasMedia=ll(this.props.entry),this._isNarrow=$e.a.get("screen").width<f.a.theme.breakpoints.xSmall}render(){var e,l;const{entry:t,isSent:n,shouldShowReactionButton:a,style:s,withVDLRefresh:r}=this.props,o=this._areActionsVisible();return i.a.createElement(q.a,{pointerEvents:o?"auto":"none",style:[Ll.messageActions,n?Ll.messageActionsLeft:Ll.messageActionsRight,o?Ll.visible:Ll.invisible,r&&Ll.vdlMessageActions,this._isNarrow&&(this._hasMedia?Ll.messageActionsMediaNarrow:Ll.messageActionsNarrow),s]},(null==t||null==(e=t.message_data)||null==(l=e.attachment)?void 0:l.tweet)&&r&&this._renderForwardButton(),a&&this._renderReactionButton(),this._renderOverflowButton(),this._renderDeleteConfirmation())}_renderDeleteConfirmation(){return this.state.showDeleteConfirmation?i.a.createElement(Ge.a,{confirmButtonLabel:_l,confirmButtonType:"destructiveFilled",headline:yl,onCancel:this._handleHideDeleteConfirmation,onConfirm:this._handleDelete,text:hl}):null}_renderForwardButton(){return i.a.createElement(Qe.a,{accessibilityLabel:Tl,hoverLabel:{label:Tl},icon:Cl,onPress:this._handleForwardButton,size:this._isNarrow?"small":"medium",type:"brandText"})}_renderReactionButton(){const{entry:e,isGroupDM:l,participantsCount:t,perspective:n,withVDLRefresh:a}=this.props,{actionsAreActive:s}=this.state,r=i.a.createElement(dl.a,{style:a?Ll.vdlActionIcon:Ll.actionIcon});return i.a.createElement(je,{entry:e,isGroupDM:l,onDismiss:this._handleHideActionsAndMenus(),participantsCount:t,perspective:n},i.a.createElement(Qe.a,{accessibilityExpanded:!!s,accessibilityHasPopup:"menu",accessibilityLabel:vl,hoverLabel:{label:Sl},icon:r,onPress:this._handlePressReactionPickerButton,size:this._isNarrow?"small":"medium",type:"brandText"}))}_renderOverflowButton(){const{withVDLRefresh:e}=this.props,l=i.a.createElement(ul.a,{style:e?Ll.vdlActionIcon:Ll.actionIcon});return i.a.createElement(Qe.a,{accessibilityLabel:kl,hoverLabel:{label:Kl},icon:l,onPress:this._handleSetActionsActive,renderMenu:this._renderOverflowMenu,size:this._isNarrow?"small":"medium",type:"brandText"})}_areActionsVisible(){const{containerIsActive:e,containerIsFocused:l,containerIsHovered:t,isDraft:n}=this.props,{actionsAreActive:a}=this.state,i=(s=this.props.entry,!el(s)&&ll(s)&&!Ye.a.isEnabled);var s;return!n&&(i||e&&!Ye.a.isEnabled||l||t||a)}}Rl.contextType=D.a;var El=Object(Be.a)(ve(Rl));const Ll=f.a.create((e=>({invisible:{opacity:0},messageActions:{alignSelf:"flex-end",flexDirection:"row"},messageActionsMediaNarrow:{flexDirection:"column"},messageActionsNarrow:{flexShrink:1,flexWrap:"wrap",minWidth:e.spaces.space32},messageActionsLeft:{justifyContent:"flex-end",paddingRight:e.spaces.space4},messageActionsRight:{justifyContent:"flex-start",paddingLeft:e.spaces.space4},vdlMessageActions:{alignSelf:"center"},actionIcon:{color:e.colors.gray700},vdlActionIcon:{color:e.colors.gray600},visible:{opacity:1}}))),Cl=i.a.createElement(ml.a,{style:Ll.vdlActionIcon});var Il=t("97Jx"),wl=t.n(Il),xl=t("CDB5");var Ml=Object(he.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),removeEntry:u.removeEntry,sendMessage:xl.m}))).withAnalytics();const Ol="87.5%",Al="24px";var Dl=t("wrlS"),Pl=t("RqPI");const Ul=[],Hl=(e,l)=>Object(Re.p)(e,l.entryId)||Ul,Wl=e=>Object(Re.l)(e).entries,Nl={createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTIONS")};var ql=Object(oe.e)((()=>Object(re.createSelector)(Wl,Hl,Pl.s,Dl.d,((e,l,t,n)=>{const a=Object(we.a)(n,{includeInactive:!0});let i,s=0;return{reactionsWithCounts:l.reduceRight(((l,n)=>{const r=e[n]&&e[n].data;if(!r)return l;if(!a.includes(r.reaction_key))return l;const o=(l.get(r.reaction_key)||0)+1;return l.set(r.reaction_key,o),(null==r?void 0:r.sender_id)===t&&(i=r.reaction_key),s+=1,l}),new Map),selectedReactionKey:i,totalReactionCount:s}}))),Nl);const jl=[],Bl=(e,l)=>l.entryId,Vl=e=>Object(Re.l)(e).entries,zl=(e,l)=>Object(Re.p)(e,Bl(0,l))||jl,Gl=(e,l)=>ue.e.selectMany(e,((e,l)=>Object(Re.q)(e,Bl(0,l)))(e,l)),Ql={removeReaction:Re.k,fetchUpdatesIfNeeded:Ke.d,createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_REACTION_SUMMARY_CONTEXT")};var Yl=Object(oe.e)((()=>Object(re.createSelector)(Vl,zl,Pl.s,Gl,Dl.d,((e,l,t,n,a)=>{const i=Object(we.a)(a,{includeInactive:!0}),s=[];l.forEach((l=>{const a=e[l]&&e[l].data;if(!(a&&i.includes(a.reaction_key)))return;const r=n.find((e=>e&&e.id_str===a.sender_id)),o=r&&{avatarUri:r.profile_image_url_https,userId:r.id_str,reactionKey:a.reaction_key,isLoggedInUser:r.id_str===t,screenName:r.screen_name,name:r.name,isProtected:r.protected,isVerified:r.verified,time:a.time};o&&s.push(o)})),s.sort(((e,l)=>l.time-e.time));const r=s.findIndex((e=>e.userId===t));return r>-1&&s.push(...s.splice(0,r)),{loggedInUserId:t,usersWithReactions:s}}))),Ql),Xl=t("TIdA"),$l=t("htQn");const Jl=y.a.gf5e9ea6,Zl=y.a.a2d48779,et=Xl.a.createLayoutCache();const lt=f.a.create((e=>({bodyColumn:{flexShrink:1,flexGrow:1,justifyContent:"center",marginHorizontal:e.spaces.space4},body:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},bottomBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},column:{alignItems:"center",justifyContent:"center",marginRight:e.spaces.space4},reactionColumn:{alignItems:"center",justifyContent:"center",marginRight:e.componentDimensions.gutterHorizontal},root:{flexDirection:"row",minHeight:"56px",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}})));var tt=function(e){const{featureSwitches:l}=i.a.useContext(m.a),{onUndoPress:t,renderUndo:n,user:a,withBottomBorder:s}=e,{avatarUri:r,isProtected:o,isVerified:c,name:d,screenName:u}=a,g=i.a.useMemo((()=>function(e){e.stopPropagation(),t()}),[t]),p=i.a.createElement(R.default,{imageLayoutCache:et,screenName:u,size:"xxLarge",uri:r}),y=i.a.createElement(Me,{emojiSize:"title4",emotion:a.reactionKey,focusable:!1}),_=i.a.createElement(E.a,{badgeContext:"content",isProtected:o,isVerified:c,name:d,screenName:u,withHoverCard:!0,withStackedLayout:!0});return i.a.createElement($l.a,{link:{pathname:`/${u}`,anchorless:!0},style:[lt.root,s&&lt.bottomBorder]},i.a.createElement(q.a,{style:lt.reactionColumn},y),i.a.createElement(q.a,{style:lt.column},p),i.a.createElement(q.a,{style:lt.bodyColumn},i.a.createElement(q.a,{style:lt.body},_)),n?i.a.createElement(q.a,{style:lt.column},i.a.createElement(Qe.a,{accessibilityLabel:Zl({emoji:Object(we.b)(a.reactionKey,l)}),onClick:g,size:"small",type:"brandText"},Jl)):null)},nt=t("xKuM"),at=t("efqG");const it=y.a.b772cd66,st=y.a.c0098d4a,rt=y.a.j85999ec;class ot extends i.a.PureComponent{constructor(...e){super(...e),this._renderContent=(e,l)=>i.a.createElement(q.a,null,this._renderHeader(e,l),this._renderUsers(e,l),this._renderDoneButton(e,l)),this._renderHeader=(e,l)=>"sheet"===l?i.a.createElement(nt.a,{title:st}):i.a.createElement(F.b,{visuallyHidden:!0},st),this._renderUsers=(e,l)=>i.a.createElement(q.a,{accessibilityLabel:rt,style:[ct.container,"sheet"===l?ct.sheet:ct.popover]},this._renderUserCells(e)),this._renderDoneButton=(e,l)=>"sheet"===l&&i.a.createElement(Qe.a,{key:"button_done",onPress:e,style:ct.cancelButton,type:"primaryOutlined"},it),this._renderUserCells=e=>this.props.usersWithReactions.filter(Boolean).map(((l,t)=>i.a.createElement(tt,{history:this.props.history,key:l.userId,onUndoPress:this._reactionUndoHandler(l.reactionKey,e),renderUndo:l.isLoggedInUser,user:l,withBottomBorder:t!==this.props.usersWithReactions.length-1}))),this._reactionUndoHandler=(e,l)=>()=>{const{conversationId:t,createLocalApiErrorHandler:n,entryId:a,fetchUpdatesIfNeeded:i,loggedInUserId:s,removeReaction:r}=this.props,o={reaction_key:e,conversation_id:t,dm_id:a,perspective:s};l(),r(o).then(this._handleScribeRemoveReaction(e)).then(i).catch(n())},this._handleScribeRemoveReaction=e=>()=>{const{analytics:l}=this.props;l.scribe({page:"app",section:"twitter_service",component:"direct_messages",element:"delete_reaction",action:"success",data:{reaction_emotion:e}})}}render(){const{children:e}=this.props;return i.a.createElement(at.a,{renderContent:this._renderContent,withFixedPosition:this.context.isDrawer},e)}}ot.contextType=D.a;const ct=f.a.create((e=>({cancelButton:{marginHorizontal:e.spaces.space12,marginVertical:e.spaces.space12},container:{overflowY:"auto",paddingVertical:e.spaces.space12},popover:{maxHeight:"35vh",minWidth:"320px"},sheet:{maxHeight:"65vh"}})));var dt=Object(Be.a)(Object(De.a)(Yl(ot)));const ut=y.a.h95f9e77;class mt extends i.a.PureComponent{constructor(e){super(e),this._handleScribeDMReactionSummary=()=>{const{analytics:e}=this.props;e.scribe({component:"dm_reaction_summary",action:"show"})},this._onSetReactionsNode=e=>{this._measureWidths(e||void 0)},this._renderReactions=({isHovered:e})=>{const{reactionsWithCounts:l,selectedReactionKey:t}=this.props,n=this.state.emojiSize||"headline1",a=l.size-1;return Array.from(l,(([l,s],r)=>i.a.createElement(Me,{count:s,emojiSize:n,emotion:l,enableHoverStyle:!1,focusable:!0,key:l,style:[r===a&&gt.rightPadding,gt.elementPadding,t===l?gt.selfSelect:null,e&&gt.isHoveredDMReaction]})))},this.state={emojiSize:void 0}}render(){const{conversationId:e,entryId:l,isEndOfDM:t,isSent:n,totalReactionCount:a}=this.props,{emojiSize:s}=this.state;if(0===a)return null;const r=b.a.generate({backgroundColor:f.a.theme.colors.gray50,color:f.a.theme.colors.gray700}),o=ut({reactionCount:a});return i.a.createElement(q.a,{style:[gt.container,t?gt.marginShort:gt.marginLong,n?gt.alignRight:gt.alignLeft,s?gt.visible:gt.invisible]},i.a.createElement(dt,{conversationId:e,entryId:l},i.a.createElement(K.a,{accessibilityLabel:o,focusable:!0,interactiveStyles:r,onPress:this._handleScribeDMReactionSummary,ref:this._onSetReactionsNode,style:gt.content},this._renderReactions)))}_measureWidths(e){const l=e&&e.parentElement,t={emojiSize:"headline1"};if(l){const{width:n}=l.getBoundingClientRect(),{width:a=0}=e?e.getBoundingClientRect():{};a>n&&(t.emojiSize="subtext2")}this.setState({...t})}}const gt=f.a.create((e=>({container:{boxSizing:"border-box"},content:{borderRadius:e.borderRadii.infinite,display:"flex",flexDirection:"row"},rightPadding:{paddingRight:e.spaces.space2},elementPadding:{borderColor:e.colors.transparent,borderWidth:e.borderWidths.small,paddingBottom:e.spaces.space2,paddingTop:e.spaces.space2,paddingLeft:`calc(${e.spaces.space2} * 2)`},selfSelect:{borderColor:f.a.theme.colors.gray50,borderRadius:e.borderRadii.infinite},alignLeft:{alignSelf:"flex-start"},alignRight:{alignSelf:"flex-end"},invisible:{opacity:0},visible:{opacity:1},marginShort:{marginBottom:e.spaces.space4},marginLong:{marginBottom:e.spaces.space12},isHoveredDMReaction:{borderColor:e.colors.transparent,cursor:"pointer"}})));var pt=Object(De.a)(ql(mt)),yt=t("Xrkv");const _t=y.a.icd0bf34,ht=y.a.e8bd8fec,kt=y.a.b2d32fae,vt=y.a.a763d33f;class bt extends i.a.PureComponent{constructor(e){super(e),this._handlePress=e=>{e.stopPropagation(),this.setState({showFullList:!0})},this.state={showFullList:!1}}render(){const{isGroupDM:e,isSeenByEveryone:l,namesToDisplay:t}=this.props;return i.a.createElement(q.a,{style:ft.root},i.a.createElement(F.b,{align:"right",color:"gray700",size:"subtext2",style:ft.seenLabel},this._renderSeenLabel()),!l&&e&&t.length?this._renderNameList():null)}_renderSeenLabel(){const{isGroupDM:e,isSeenByEveryone:l,namesToDisplay:t}=this.props;return l?e?kt:_t:t.length?vt({count:t.length}):ht}_renderNameList(){let{namesToDisplay:e}=this.props;const{showFullList:l}=this.state,t=!l&&e.length>10,n=e.length-10,a=({namesList:e,othersCount:l})=>i.a.createElement(y.a.I18NFormatMessage,{$i18n:"f6464107"},i.a.createElement(F.b,null,e),i.a.createElement(F.b,{color:"link",onPress:this._handlePress},y.a.e762ce30({othersCount:l})));t&&(e=e.slice(0,10));const s=Object(yt.a)(e,t);return i.a.createElement(F.b,{align:"right",color:"gray700",size:"subtext2",style:ft.namesList},t?i.a.createElement(a,{namesList:s,othersCount:n}):i.a.createElement(F.b,null,s))}}const ft=f.a.create((e=>({root:{alignItems:"flex-end",width:`calc(100% - ${e.spaces.space2})`},seenLabel:{cursor:"pointer"},namesList:{marginBottom:e.spaces.space2,whiteSpace:"pre-line"}})));var Ft=bt,Tt=t("t0aI");const St=({entryId:e,participants:l,user:t})=>{const n=Kt({entryId:e,participants:l,user:t});return{namesToDisplay:n,isSeenByEveryone:n.length===l.length-1}},Kt=({entryId:e,participants:l,user:t})=>l.reduce(((l,n)=>{const{join_conversation_event_id:a,last_read_event_id:i,user:{name:s}}=n,r=n.user_id!==t.id_str,o=i&&1!==Object(Tt.a)(e,i),c=!a||1!==Object(Tt.a)(a,e);return r&&o&&c&&l.push(s),l}),[]);var Rt=t("IMYl"),Et=t("21zW"),Lt=t("gmpV");const Ct=y.a.fad48eea,It=y.a.ba60339a,wt=y.a.d338f53e,xt=y.a.ae7d7a24,Mt=y.a.d725a289,Ot=y.a.bbe74f3f,At=y.a.h0e4cdf5,Dt=y.a.bfbc051d;class Pt extends i.a.PureComponent{constructor(...e){super(...e),this._handleRemove=()=>{const{conversationId:e,entryId:l,removeEntry:t}=this.props;t(e,null,{id:l})},this._handleTryAgain=()=>{const{conversationId:e,entryText:l,localMediaId:t,sendMessage:n,user:a}=this.props;n({tweetAttachment:void 0,senderId:a.id_str,conversationId:e,text:l,localMediaId:t}),this._handleRemove()}}render(){const{isSent:e,onPress:l}=this.props,t=this._renderSending(),n=this._renderError(),a=this._renderTimestamp(),s=this._renderReadReceipt(),r=this._renderSentCheckmark(),o=this._renderReactions(),c=a||s||r,d=t||n||o||c,u=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled");return d&&i.a.createElement(q.a,{style:[Ut.root,u&&Ut.vdlRootMargin,e&&Ut.sentMessage]},t,n,o,c?i.a.createElement(K.a,{interactiveStyles:null,onPress:l,style:e&&Ut.sentContainer},i.a.createElement(q.a,{style:e&&Ut.groupedItems},a,r),s):null)}_renderError(){const{isError:e}=this.props;return e&&i.a.createElement(q.a,null,i.a.createElement(F.b,{align:"right",color:"gray700",size:"subtext2"},xt),i.a.createElement(q.a,{style:Ut.groupedItems},i.a.createElement(F.b,{accessibilityRole:"button",color:"magenta500",onPress:this._handleRemove,size:"subtext2",withInteractiveStyling:!0},It),i.a.createElement(Et.a,null),i.a.createElement(F.b,{accessibilityRole:"button",color:"primary",onPress:this._handleTryAgain,size:"subtext2",withInteractiveStyling:!0},wt)))}_renderReactions(){const{conversationId:e,entryId:l,isLastRapidFire:t,isRapidFire:n,isSent:a,withUserAvatar:s}=this.props,r=!n||t;return e?i.a.createElement(q.a,{style:s&&Ut.footerPadderWithAvatar},i.a.createElement(pt,{conversationId:e,entryId:l,isEndOfDM:r,isSent:a})):null}_renderReadReceipt(){const{entryId:e,isActive:l,isDraft:t,isError:n,isGroupDM:a,isSent:s,participants:r,user:o}=this.props;return l&&s&&!t&&!n?i.a.createElement(Ft,wl()({isGroupDM:a},St({entryId:e,participants:r,user:o}))):null}_renderSending(){const{isDraft:e,isError:l}=this.props;return e&&!l&&i.a.createElement(F.b,{align:"right",color:"gray700",size:"subtext2"},Ct)}_renderSentCheckmark(){const{entryId:e,isDraft:l,isError:t,isLastRapidFire:n,isRapidFire:a,isSent:s,participants:r,user:o}=this.props,{isSeenByEveryone:c}=St({entryId:e,participants:r,user:o});return!s||l||t||a&&!n?null:i.a.createElement(F.b,{color:c?"primary":"gray700",style:Ut.checkmarkContainer},i.a.createElement(Rt.a,{style:Ut.checkmark}))}_renderTimestamp(){const{entryTime:e,isDraft:l,isError:t,isGroupDM:n,isLastRapidFire:a,isRapidFire:s,isSent:r,user:{name:o},withUserAvatar:c}=this.props;if(l||t||s&&!a)return null;const d=new Date(Number(e));let u;u=Object(Lt.c)(d)?Mt(d):Object(Lt.d)(d)?Ot({time:Mt(d)}):Object(Lt.e)(d)?At(d):Dt(d);const m=n&&!r,g=r?"right":"left";return i.a.createElement(q.a,{style:[c&&Ut.footerPadderWithAvatar,r&&Ut.timestamp]},i.a.createElement(F.b,{align:g,color:"gray700",size:"subtext2",withInteractiveStyling:r||!Ye.a.isEnabled},m&&i.a.createElement(y.a.I18NFormatMessage,{$i18n:"c8b914d5"},i.a.createElement(F.b,null,o)),m&&" ",u))}}Pt.contextType=m.a;const Ut=f.a.create((e=>({root:{marginTop:e.spaces.space2,overflow:"hidden",width:Ol},vdlRootMargin:{marginTop:`calc(${e.spaces.space8} - ${e.spaces.space2})`},sentMessage:{alignSelf:"flex-end",justifyContent:"flex-end"},sentContainer:{flexDirection:"column"},groupedItems:{justifyContent:"flex-end",flexDirection:"row"},timestamp:{cursor:"pointer"},checkmark:{cursor:"pointer",flexShrink:0,height:"1rem",paddingLeft:e.spaces.space2},checkmarkContainer:{lineHeight:"1"},footerPadderWithAvatar:{marginLeft:`calc(${e.spaces.space40} + ${e.spaces.space12})`}})));var Ht=Ml(Pt),Wt=t("jtO7");const Nt=f.a.create((e=>({root:{borderColor:e.colors.gray50,borderStyle:"solid",borderWidth:e.borderWidths.small,borderBottomWidth:e.borderWidths.none,boxSizing:"border-box",overflow:"hidden"},isLast:{borderBottomWidth:e.borderWidths.small},insideTopRoundedSent:{borderTopLeftRadius:e.borderRadii.xLarge},insideTopRoundedReceived:{borderTopRightRadius:e.borderRadii.xLarge},outsideTopRoundedSent:{borderTopRightRadius:e.borderRadii.xLarge},outsideTopRoundedReceived:{borderTopLeftRadius:e.borderRadii.xLarge},sentLast:{borderBottomLeftRadius:e.borderRadii.xLarge},receivedLast:{borderBottomRightRadius:e.borderRadii.xLarge}})));var qt=({insideTopRounded:e,isLast:l,isSent:t,label:n,onClick:a,outsideTopRounded:s,tcoUrl:r})=>{const o=[Nt.root,l&&Nt.isLast,l&&t&&Nt.sentLast,l&&!t&&Nt.receivedLast,e&&t&&Nt.insideTopRoundedSent,e&&!t&&Nt.insideTopRoundedReceived,s&&t&&Nt.outsideTopRoundedSent,s&&!t&&Nt.outsideTopRoundedReceived];return i.a.createElement(q.a,{style:o},i.a.createElement(Wt.a,{align:"center",color:"primary",label:n,link:r,onClick:a}))},jt=t("fs1G");class Bt extends i.a.Component{componentDidMount(){this.props.onImpression()}render(){const{callToActions:e,isSent:l,onCtaClick:t,withSticker:n,withUserText:a}=this.props,s=e.map(((s,r)=>{const o=0===r;return i.a.createElement(qt,{insideTopRounded:o&&(n||!a),isLast:r===e.length-1,isSent:l,key:r,label:s.label,onClick:t,outsideTopRounded:o&&n,tcoUrl:s.tco_url})}));return i.a.createElement(q.a,null,s)}}Bt.defaultProps={onCtaClick:jt.a,onImpression:jt.a};var Vt=Bt,zt=t("vjRr"),Gt=t("EGrD");const Qt=(e,l)=>l.cardUrl;var Yt=Object(he.a)().propsFromState((()=>({adFreeArticleDomains:Gt.c,card:zt.a.createSingleHydratedSelector(Qt)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(ke.createLocalApiErrorHandlerWithContextFactory)("DM_CARD_MESSAGE"),fetchAdFreeToken:Gt.a,loadAdFreeArticleDomainsFromPersistence:Gt.b,popOutConversation:u.popOutConversation})));const Xt=f.a.create((e=>({root:{width:"100%"},invisible:{opacity:0},visible:{opacity:1}})));var $t=({attachmentContent:e,attachmentHeader:l,isVisible:t=!0,textContent:n})=>i.a.createElement(q.a,{style:[t?Xt.visible:Xt.invisible,Xt.root]},l,e,n),Jt=t("cTG8");const Zt=({excludeCardUrl:e,isActive:l=!1,isFailedDraft:t,isFirstRapidFire:n=!1,isLastRapidFire:a=!1,isRapidFire:s=!1,isSent:r,hasAssociatedAttachment:o,messageData:c={},rootStyle:d,tweetId:u,withCta:g,withMediaLinks:p,withMessageBubble:y})=>{const{featureSwitches:_}=i.a.useContext(m.a),h=_.isTrue("dm_vdl_enabled")&&_.isTrue("dm_vdl_chat_p0_enabled"),k=[d,y&&en.messageTextContainer,y&&h&&en.messageTextContainerVDL,y&&r&&en.sent,y&&h&&r&&en.vdlSent,y&&!r&&en.received,y&&h&&!r&&en.received,t&&en.failedDraft,s&&!h&&!n&&!r&&en.rapidFireReceived,s&&!h&&!n&&r&&en.rapidFireSent,a&&h&&r&&en.rapidFireLastSentVDL,a&&h&&!r&&en.rapidFireLastReceivedVDL,o&&r&&en.hasAssociatedAttachmentSent,o&&!r&&en.hasAssociatedAttachmentReceived,y&&l&&r&&en.activeSent,y&&h&&l&&r&&en.vdlActiveSent,y&&l&&!r&&!Ye.a.isEnabled&&en.activeReceived,g&&en.withCta],v=[en.tweetText,y&&en.textAlignLeft,!y&&r&&en.textAlignRight],{gray0:F,magenta500:T,primary:S,text:R,white:E}=f.a.theme.colors,L=b.a.generate({color:r?E:R,backgroundColor:t?T:r?S:F}),C=c.text&&c.text.length||0;return i.a.createElement(K.a,{accessibilityRole:"none",interactive:r,interactiveStyles:y?L:null,style:k},i.a.createElement(Jt.a,{color:f.a.isDarkMode()||r?"whiteOnColor":void 0,displayTextRange:[0,C],entities:c.entities,excludeCardUrl:e,linkColor:y&&r||f.a.isDarkMode()?"whiteOnColor":"link",linkify:!0,quotedTweetId:u,size:y?void 0:"title2",style:v,text:c.text||"",underlineLinks:!0,withMediaLinks:p}))},en=f.a.create((e=>({tweetText:{overflow:"hidden",wordBreak:"break-word"},messageTextContainer:{borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",maxWidth:"100%",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16},messageTextContainerVDL:{borderRadius:Al},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},sent:{alignSelf:"flex-end",backgroundColor:e.colors.primary,borderBottomRightRadius:e.borderRadii.none,borderColor:e.colors.primary},vdlSent:{backgroundColor:e.colors.primary600,borderBottomRightRadius:Al},received:{alignSelf:"flex-start",backgroundColor:e.colors.dmReceivedBubbleBackground,borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200},vdlReceived:{borderBottomLeftRadius:Al},activeSent:{backgroundColor:e.colors.lightPrimary},activeReceived:{backgroundColor:e.colors.gray200},vdlActiveSent:{backgroundColor:e.colors.primary700},failedDraft:{backgroundColor:e.colors.magenta500},rapidFireReceived:{borderTopLeftRadius:e.borderRadii.none},rapidFireSent:{borderTopRightRadius:e.borderRadii.none},rapidFireLastSentVDL:{borderBottomRightRadius:e.borderRadii.small},rapidFireLastReceivedVDL:{borderBottomLeftRadius:e.borderRadii.small},withCta:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},hasAssociatedAttachmentSent:{borderTopRightRadius:e.borderRadii.none},hasAssociatedAttachmentReceived:{borderTopLeftRadius:e.borderRadii.none}})));Zt.defaultProps={withMediaLinks:!1};var ln=Zt;var tn=({isActive:e=!1,isFailedDraft:l,isFirstRapidFire:t=!1,isLastRapidFire:n=!1,isRapidFire:a=!1,isSent:s,messageData:r,withCta:o,withMessageBubble:c})=>i.a.createElement(ln,{isActive:e,isFailedDraft:l,isFirstRapidFire:t,isLastRapidFire:n,isRapidFire:a,isSent:s,messageData:r,withCta:o,withMediaLinks:!0,withMessageBubble:c}),nn=t("sCEu"),an=t("aX4+"),sn=t("/Ikv");const{CardNames:rn}=sn.a;class on extends i.a.Component{constructor(...e){var l;super(...e),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._hasClaimsForAdFreeArticles=null==(l=this.context.userClaims)?void 0:l.isTrueAndEnabled("subscriptions_feature_1006"),this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:t}=this.state;if(t!==l){const e={attachmentWidth:l};this.setState(e)}},this._handleOnClick=e=>{const{card:{binding_values:l}={},conversationId:t,popOutConversation:n}=this.props;if(t&&n(t),this._hasClaimsForAdFreeArticles){const{adFreeArticleDomains:t,createLocalApiErrorHandler:n,fetchAdFreeToken:a}=this.props,[i,s]=new nn.a(a,n()).getAdFreeArticlesClickHandler({destinationUrl:sn.a.getBindingValue(l,"card_url"),linkDomain:sn.a.getBindingValue(l,"domain"),adFreeArticleDomains:t});i&&s(e)}},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:t}=this.state;if(t!==l){const e={textContentWidth:l};this.setState(e)}}}componentDidMount(){this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){const{card:e,hasUserText:l,isActive:t,isFailedDraft:n,isFirstRapidFire:a,isLastRapidFire:s,isRapidFire:r,isSent:o,messageData:c,withCta:d,withMessageBubble:u}=this.props,{attachmentWidth:m,textContentWidth:g}=this.state,p=!!Object.values(rn).includes(null==e?void 0:e.name),y=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),_=nl(l,m,g);let h;_.isAttachmentSquared?h="both":y&&!l||(h=o?"right":"left");const k=e?i.a.createElement(q.a,{onClick:this._handleOnClick,onLayout:this._handleAttachmentLayout},i.a.createElement(an.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values,users:e.users},cardContext:{tweetUserId:c.sender_id},dmSentOrReceived:o?"sent":"received",withBorderShadow:y,withSquareBottomBorderRadius:h})):null,v=l?i.a.createElement(q.a,{onLayout:this._handleTextContentLayout,style:o?cn.sentMessageWrapper:cn.receivedMessageWrapper},i.a.createElement(ln,{excludeCardUrl:null==e?void 0:e.url,hasAssociatedAttachment:!0,isActive:t,isFailedDraft:n,isFirstRapidFire:a,isLastRapidFire:s,isRapidFire:r,isSent:o,messageData:c,rootStyle:_.isTextSquared?o?cn.textSentSquared:cn.textReceivedSquared:void 0,withCta:d,withMessageBubble:u})):null;return p?i.a.createElement($t,{attachmentContent:k,isVisible:_.compositeRendered,textContent:v}):i.a.createElement(tn,{isActive:t,isFailedDraft:n,isFirstRapidFire:a,isLastRapidFire:s,isRapidFire:r,isSent:o,messageData:c,withCta:d,withMessageBubble:u})}}on.defaultProps={hasUserText:!1},on.contextType=m.a;const cn=f.a.create((e=>({attachmentReceivedSquared:{borderBottomRightRadius:e.borderRadii.none},attachmentSentSquared:{borderBottomLeftRadius:e.borderRadii.none},card:{marginBottom:e.spaces.space2},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},received:{borderBottomLeftRadius:e.borderRadii.none},sent:{borderBottomRightRadius:e.borderRadii.none},textReceivedSquared:{borderTopRightRadius:e.borderRadii.none},textSentSquared:{borderTopLeftRadius:e.borderRadii.none}})));var dn=Yt(on);const un=y.a.f7204380;class mn extends i.a.Component{constructor(...e){super(...e),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._getSquareBottomStyles=e=>{const{isSent:l}=this.props;let t="left";return e?t="both":l&&(t="right"),gn[t]},this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:t}=this.state;t!==l&&this.setState({attachmentWidth:l})},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:t}=this.state;t!==l&&this.setState({textContentWidth:l})}}render(){const{hasUserText:e,isActive:l,isFailedDraft:t,isFirstRapidFire:n,isLastRapidFire:a,isRapidFire:s,isSent:r,messageData:o,withCta:c,withMessageBubble:d}=this.props,{attachmentWidth:u,textContentWidth:m}=this.state;if(!o||!o.attachment||!o.attachment.fleet)return null;const{compositeRendered:g,isAttachmentSquared:p,isTextSquared:y}=nl(e,u,m),_=[pn.tombstoneWrapper,r?pn.sentMessageWrapper:pn.receivedMessageWrapper,this._getSquareBottomStyles(p)],h=i.a.createElement(q.a,{onLayout:this._handleAttachmentLayout,style:_},i.a.createElement(F.b,{color:"gray700"},un)),k=e?i.a.createElement(q.a,{onLayout:this._handleTextContentLayout,style:[r?pn.sentMessageWrapper:pn.receivedMessageWrapper,!d&&pn.fleetReactionSpacing]},i.a.createElement(ln,{hasAssociatedAttachment:!0,isActive:l,isFailedDraft:t,isFirstRapidFire:n,isLastRapidFire:a,isRapidFire:s,isSent:r,messageData:o,rootStyle:y?r?pn.sentSquared:pn.receivedSquared:void 0,withCta:c,withMessageBubble:d})):null;return i.a.createElement($t,{attachmentContent:h,isVisible:g,textContent:k})}}const gn=f.a.create((e=>({both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}))),pn=f.a.create((e=>({fleetReactionSpacing:{marginTop:e.spaces.space4},receivedMessageWrapper:{alignSelf:"flex-start"},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sentMessageWrapper:{alignSelf:"flex-end"},sentSquared:{borderTopLeftRadius:e.borderRadii.none},tombstoneWrapper:{backgroundColor:e.colors.gray0,borderColor:e.colors.gray50,borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",flexDirection:"row",borderWidth:e.borderWidths.small,paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space12,overflow:"auto"}})));var yn=mn,_n=(t("849X"),t("prG5")),hn=t("RCZO"),kn=t("A91F");const vn=y.a.b327c12a,bn=e=>{e.stopPropagation()};var fn=({media:e,mediaUrl:l})=>{const t=e.ext_alt_text||vn,n=e.media_url_https,{height:a,width:s}=e.original_info||{},r=Object(hn.b)(e).rgb,o=i.a.createElement(_n.a,{accessibilityLabel:t,aspectMode:kn.a.withinRange(9/16,10),backgroundColor:r,image:{url:n,width:s,height:a},shouldShowAltLabel:!!e.ext_alt_text});return l?i.a.createElement(K.a,{interactiveStyles:null,link:l,onPress:bn},o):o},Fn=t("Modb"),Tn=t("lklz"),Sn=t("XrEN"),Kn=t("ZvMt");var Rn=({media:e,messageId:l})=>{const t=e&&Sn.a.extractVideoProps(Tn.b.forDm(l),e);return t?i.a.createElement(Fn.a,wl()({},t,{aspectRatio:Kn.a.getAspectRatio(e.video_info),withPostPlayback:!0})):null},En=Object(he.a)().withAnalytics();class Ln extends i.a.PureComponent{constructor(e,l){super(e,l),this._handleLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e;this.state.width!==l&&this.setState({width:l})},this._getElement=()=>{const{contentType:e,isSensitive:l}=this.props;return`${l?"sensitive":"untrusted"}_${e}_interstitial`},this._handleClick=()=>{const{analytics:e}=this.props;this.setState({hide:!1}),e.scribe({element:this._getElement(),action:"reveal"})},this.state={hide:!0,width:0}}componentDidMount(){const{analytics:e}=this.props;e.scribe({element:this._getElement(),action:"impression"})}render(){const{children:e,ctaText:l,description:t,withSquareBottomBorderRadius:n}=this.props,{hide:a,width:s}=this.state,r=s<f.a.theme.breakpoints.micro;return a?i.a.createElement(q.a,{focusable:!0,onLayout:this._handleLayout,style:[In.root,r?{flexDirection:"column"}:{flexDirection:"row",alignItems:"center"},n&&Cn[n]]},i.a.createElement(q.a,{style:In.description},i.a.createElement(F.b,null,t)),i.a.createElement(q.a,{style:[In.button,r?In.breakButtonWrapper:void 0]},i.a.createElement(Qe.a,{onClick:this._handleClick,size:"small",style:In.buttonElement,type:"brandText"},l))):e}}Ln.defaultProps={isSensitive:!1};const Cn=f.a.create((e=>({both:{borderBottomRightRadius:e.borderRadii.none,borderBottomLeftRadius:e.borderRadii.none},left:{borderBottomLeftRadius:e.borderRadii.none},right:{borderBottomRightRadius:e.borderRadii.none}}))),In=f.a.create((e=>({breakButtonWrapper:{marginTop:f.a.theme.spaces.space4,marginLeft:`calc(-1 * ${e.spaces.space12})`},button:{flexGrow:1,alignItems:"flex-start"},buttonElement:{paddingHorizontal:e.spaces.space12},description:{flexGrow:1,flexShrink:1},root:{backgroundColor:e.colors.gray0,borderColor:e.colors.gray50,borderRadius:e.borderRadii.xLarge,boxSizing:"border-box",borderWidth:e.borderWidths.small,maxWidth:"100%",paddingLeft:e.spaces.space16,paddingTop:e.spaces.space16,paddingBottom:e.spaces.space16,paddingRight:e.spaces.space4,overflow:"auto",display:"flex"}})));var wn=Object(De.a)(En(Ln)),xn=t("CoGJ");const Mn=i.a.createElement(xn.a,null),On=y.a.d9de7b58,An=y.a.f2879f4e,Dn=y.a.b518221e,Pn=y.a.eeaa9f90,Un=y.a.g2b43664,Hn=y.a.f277e94a;class Wn extends i.a.Component{constructor(...e){super(...e),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this.state={attachmentWidth:void 0,textContentWidth:void 0},this._renderAttachment=()=>{const{entry:e,hasUserText:l,isFirstRapidFire:t,isRapidFire:n,isSent:a,isTrusted:s,messageData:o}=this.props,{attachmentWidth:c,textContentWidth:d}=this.state,{attachment:u}=o||{},m=e.is_draft,g=nl(l,c,d),p=[Nn.mediaAttachment,this._isVDLEnabled&&Nn.vdlBorderRadius,(!this._isVDLEnabled||l)&&a&&Nn.isSent,(!this._isVDLEnabled||l)&&!a&&Nn.received,a&&g.isAttachmentSquared&&Nn.equalComponentDimensionsSent,!a&&g.isAttachmentSquared&&Nn.equalComponentDimensionsReceived,n&&!t&&a&&Nn.rapidFireSent,n&&!t&&!a&&Nn.rapidFireReceived];let y,_,h=null;if(!m&&e.conversation_id&&(h=`/messages/${e.conversation_id}/media/${e.id}`),u)if(u.photo)y=u.photo,_=i.a.createElement(fn,{media:y,mediaUrl:h});else if(u.animated_gif)y=u.animated_gif,_=i.a.createElement(Rn,{media:y,messageId:e.id});else if(u.video){if(y=u.video,Object(r.p)(u,this.context.featureSwitches))throw new Error("DMMediaMessage should not be used to render voice messages");_=i.a.createElement(Rn,{media:y,messageId:e.id})}const k=g.isAttachmentSquared?"both":a?"right":"left",v=y&&_&&(a?_:this._getMediaContentWithGuard(y,s,_,k));return{attachmentContent:i.a.createElement(q.a,{onLayout:this._handleAttachmentLayout,style:p},v),media:y}},this._handleAttachmentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{attachmentWidth:t}=this.state;if(t!==l){const e={attachmentWidth:l};this.setState(e)}},this._handleTextContentLayout=e=>{const{nativeEvent:{layout:{width:l}}}=e,{textContentWidth:t}=this.state;if(t!==l){const e={textContentWidth:l};this.setState(e)}}}render(){const{entry:e,hasUserText:l,isActive:t,isFailedDraft:n,isFirstRapidFire:a,isLastRapidFire:s,isRapidFire:r,isSent:o,messageData:c,withCta:d,withMessageBubble:u}=this.props,{attachmentWidth:m,textContentWidth:g}=this.state,p=e.is_draft,y=nl(l,m,g),{attachmentContent:_,media:h}=this._renderAttachment(),k=l?i.a.createElement(q.a,{onLayout:this._handleTextContentLayout,style:o?Nn.sentMessageWrapper:Nn.receivedMessageWrapper},i.a.createElement(ln,{hasAssociatedAttachment:!0,isActive:!!t,isFailedDraft:n,isFirstRapidFire:!!a,isLastRapidFire:!!s,isRapidFire:!!r,isSent:o,messageData:p?c:this._parseMessageData(c,h),rootStyle:y.isTextSquared?o?Nn.sentSquared:Nn.receivedSquared:void 0,withCta:d,withMessageBubble:u})):null;return i.a.createElement($t,{attachmentContent:_,isVisible:y.compositeRendered,textContent:k})}_getMediaContentWithGuard(e,l,t,n){const{displaySensitiveMedia:a,isDmNsfwMediaFilterEnabled:s}=this.props;if(e.possibly_sensitive&&this.context.featureSwitches.isTrue("dm_conversations_nsfw_media_filter_enabled")){if(s){const l="animated_gif"===e.type&&Un||"video"===e.type&&Pn||Dn;return i.a.createElement(wn,{contentType:e.type,ctaText:l,description:An,isSensitive:!0,withSquareBottomBorderRadius:n},t)}}else if(!a&&e.possibly_sensitive)return i.a.createElement(wn,{contentType:e.type,ctaText:Hn,description:Mn,isSensitive:!0,withSquareBottomBorderRadius:n},t);return l?t:i.a.createElement(wn,{contentType:e.type,ctaText:Hn,description:On,withSquareBottomBorderRadius:n},t)}_parseMessageData(e,l){var t;const n=null!=e&&null!=(t=e.entities)&&t.urls&&l?e.entities.urls.filter((e=>e.display_url!==l.display_url)):null;return e&&n?{...e,entities:{...e.entities,urls:n,media:l?[l]:[]}}:void 0}}Wn.contextType=m.a,Wn.defaultProps={hasUserText:!1};const Nn=f.a.create((e=>({equalComponentDimensionsSent:{borderBottomLeftRadius:e.borderRadii.none},equalComponentDimensionsReceived:{borderBottomRightRadius:e.borderRadii.none},invisible:{opacity:0},isSent:{borderBottomRightRadius:e.borderRadii.none},mediaAttachment:{borderRadius:e.borderRadii.xLarge,WebkitMaskImage:"url(data:image/png;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==)"},vdlBorderRadius:{borderRadius:Al},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},rapidFireReceived:{borderTopLeftRadius:e.borderRadii.none},rapidFireSent:{borderTopRightRadius:e.borderRadii.none},received:{borderBottomLeftRadius:e.borderRadii.none},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sentSquared:{borderTopLeftRadius:e.borderRadii.none},visible:{opacity:1}})));var qn=Wn,jn=Object(he.a)().propsFromActions((()=>({markSpamStatus:u.markSpamStatus})));const Bn=y.a.fd079470,Vn=y.a.c7a92dca,zn=y.a.f277e94a,Gn=y.a.fb3ccb56;class Qn extends i.a.PureComponent{constructor(...e){super(...e),this._handlePress=e=>()=>{const{conversationId:l,dmId:t,markSpamStatus:n}=this.props;n({conversationId:l,dmId:t,markSpam:e})}}render(){const{children:e}=this.props;return i.a.createElement(wn,{contentType:"dm",ctaText:zn,description:Gn},e,this._renderButtons())}_renderButtons(){return i.a.createElement(q.a,{style:Xn.buttons},i.a.createElement(Qe.a,{onPress:this._handlePress(!1),style:Xn.leftButton,type:"brandOutlined"},Vn),i.a.createElement(Qe.a,{onPress:this._handlePress(!0),type:"brandOutlined"},Bn))}}var Yn=jn(Qn);const Xn=f.a.create((e=>({buttons:{flexDirection:"row",paddingTop:e.spaces.space4},leftButton:{marginRight:e.spaces.space12}})));var $n=t("U+bB");const Jn=e=>{const l=e.images,t=l.svg||l.size_1x;if(t)return t.url},Zn=f.a.create((e=>({stickerItem:{height:`calc(3 * ${e.fontSizes.title2})`,width:`calc(3 * ${e.fontSizes.title2})`}})));var ea=({sticker:e})=>i.a.createElement($n.a,{accessibilityLabel:e.display_name,source:Jn(e),style:Zn.stickerItem}),la=t("XOJV");const ta=(e,l)=>{var t;const n=null==(t=l.messageData)?void 0:t.attachment;if(n&&n.tweet)return n.tweet.status};var na=Object(he.a)().propsFromState((()=>({tweet:la.a.createHydratedTweetSelector(ta)}))).propsFromActions((()=>({popOutConversation:u.popOutConversation}))),aa=t("b5s6");const ia=i.a.createElement(F.b,{link:"/settings/safety"});var sa=e=>i.a.createElement(y.a.I18NFormatMessage,{$i18n:"j3c7dd33"},i.a.cloneElement(ia,null,y.a.adcf07b6));const ra=y.a.e4df0ad8,oa=y.a.f277e94a,ca=y.a.b5b91d58,da=y.a.bb594d7c,ua=i.a.createElement(sa,null);const ma=f.a.create((e=>({received:{boxShadow:e.boxShadows.small},receivedAttachmentSquared:{borderTopRightRadius:e.borderRadii.none,boxShadow:e.boxShadows.small},sent:{boxShadow:e.boxShadows.small},sentAttachmentSquared:{borderTopRightRadius:e.borderRadii.none,boxShadow:e.boxShadows.small}}))),ga=f.a.create((e=>({attachment:{marginBottom:0},receivedMessageWrapper:{alignSelf:"flex-start"},sentMessageWrapper:{alignSelf:"flex-end"},received:{borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200},receivedAttachmentSquared:{borderBottomRightRadius:e.borderRadii.none},receivedSquared:{borderTopRightRadius:e.borderRadii.none},sent:{borderBottomRightRadius:e.borderRadii.none,borderColor:e.colors.primary},sentAttachmentSquared:{borderBottomLeftRadius:e.borderRadii.none},sentSquared:{borderTopLeftRadius:e.borderRadii.none}}))),pa={attachment:ga.attachment,receivedMessageWrapper:ga.receivedMessageWrapper,sentMessageWrapper:ga.sentMessageWrapper,received:ma.received,receivedAttachmentSquared:ma.receivedAttachmentSquared,receivedSquared:ga.receivedSquared,sent:ma.sent,sentAttachmentSquared:ma.sentAttachmentSquared,sentSquared:ga.sentSquared};var ya=na((function(e){const{featureSwitches:l}=i.a.useContext(m.a),{conversationId:t,displaySensitiveMedia:n,hasUserText:a=!1,isActive:s=!1,isDmNsfwMediaFilterEnabled:r,isFailedDraft:o,isFirstRapidFire:c=!1,isLastRapidFire:d=!1,isRapidFire:u=!1,isSent:g,isTrusted:p,isVdlEnabled:y,messageData:_,popOutConversation:h,tweet:k,withCta:v,withMessageBubble:b}=e,[f,F]=i.a.useState(void 0),[T,S]=i.a.useState(void 0),K=i.a.useMemo((()=>function(){t&&h(t)}),[t,h]),R=i.a.useMemo((()=>function(e){const{nativeEvent:{layout:{width:l}}}=e;f!==l&&F(l)}),[f]),E=i.a.useMemo((()=>function(e){const{nativeEvent:{layout:{width:l}}}=e;T!==l&&S(l)}),[T]);if(!_||!_.attachment||!_.attachment.tweet)return null;const L=_.attachment.tweet,C=g?"sent":"received",I=nl(a,f,T),w=y?pa:ga,x=i.a.createElement(aa.a,{onPress:K,style:[w[C],a&&w.attachment,I.isAttachmentSquared?g?w.sentAttachmentSquared:w.receivedAttachmentSquared:void 0],tweetId:L.status}),M=I.isAttachmentSquared?"both":g?"right":"left",O=(()=>{if(!k)return null;if(g)return x;if(k.possibly_sensitive&&l.isTrue("dm_conversations_nsfw_media_filter_enabled")){if(r||void 0===r)return i.a.createElement(wn,{contentType:"photo",ctaText:da,description:ca,withSquareBottomBorderRadius:M},x)}else if(!n&&k.possibly_sensitive)return i.a.createElement(wn,{contentType:"photo",ctaText:oa,description:ua,withSquareBottomBorderRadius:M},x);return p?x:i.a.createElement(wn,{contentType:"tweet",ctaText:oa,description:ra,withSquareBottomBorderRadius:M},x)})(),A=i.a.createElement(q.a,{onLayout:R,style:w.attachment},O),D=a?i.a.createElement(q.a,{onLayout:E,style:g?w.sentMessageWrapper:w.receivedMessageWrapper},i.a.createElement(ln,{hasAssociatedAttachment:!0,isActive:s,isFailedDraft:o,isFirstRapidFire:c,isLastRapidFire:d,isRapidFire:u,isSent:g,messageData:_,rootStyle:I.isTextSquared?g?w.sentSquared:w.receivedSquared:void 0,tweetId:L.status,withCta:v,withMediaLinks:!0,withMessageBubble:b})):null;return i.a.createElement($t,{attachmentContent:A,isVisible:I.compositeRendered,textContent:D})})),_a=t("htvZ"),ha=t("MH+I"),ka=t("5Ixf"),va=t("AtEG");function ba(e){var l,t;const n=i.a.useContext(_a.a),{isLowQuality:a,isSent:s,isTrusted:r}=e;if(null==(l=e.media)||!l.video_info)return null;const[o,c]=n.activeVoiceMessage,[d]=n.playerApi,[u]=n.playerState,{scribeAction:m}=n,[g]=o,p=e.messageId===g;if(!m)return null;const y=Fa(u),_=(null==(t=e.media)?void 0:t.video_info.duration_millis)||0,h={durationMs:_,isActive:p,isSent:s,playerApi:null,playerState:null,onImpression:()=>m.impression({isLowQuality:a,isTrusted:r}),onPlayRequest:()=>c([e.messageId,e.media]),onPlay:()=>m.play({data:{duration_ms:_}}),onPause:()=>m.pause()};return p&&y&&y.contentId===e.media.id_str&&(h.playerApi=d,h.playerState=u,null!=y&&y.durationMs&&(h.durationMs=null==y?void 0:y.durationMs)),i.a.createElement(fa,h)}function fa(e){const l=i.a.useContext(m.a),t=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),{isActive:n,isSent:a,playerApi:s,playerState:r}=e,o=null==r?void 0:r.isPlaying,c=Fa(r),d=(null==c?void 0:c.currentTimeMs)||0,u=(null==c?void 0:c.durationMs)||e.durationMs,g=Math.max(n?u-d:u,0);i.a.useLayoutEffect((()=>{e.onImpression()}),[]),i.a.useEffect((()=>{s&&0===d&&(s.play(),e.onPlay())}),[s]);const p=f.a.isDarkMode()||a,y={color:p?"whiteOnColor":"text"},_=[Ka.voiceMessage,Ra({isSent:a,isVDLEnabled:t,squared:n}),a?Ka.voiceMessageSent:Ka.voiceMessageReceived,Z(f.a.theme.scale).voiceMessage({isVoiceMessageActive:n,isSent:a})],h=o?ka.a:va.a;return i.a.createElement(q.a,{style:[Ka.container,Z(f.a.theme.scale).voiceMessageContainer({isVoiceMessageActive:n,isSent:a})]},i.a.createElement(q.a,{style:_},i.a.createElement(q.a,{style:Ka.startSpacer}),i.a.createElement(Qe.a,{accessibilityLabel:o?Sa:Ta,icon:i.a.createElement(h,{style:p?Ka.iconColorDark:Ka.iconColorDefault}),onPress:()=>{s?o?(s.pause(),e.onPause()):(s.play(),e.onPlay()):e.onPlayRequest()},type:"onMediaText"}),i.a.createElement(q.a,{style:Ka.durationSpacer}),i.a.createElement(q.a,{style:a?Ka.durationOpacity:void 0},i.a.createElement(ha.a,wl()({countdown:!0,timeMs:g},y,{color:"gray700",size:"subtext2",style:a?Ka.durationDark:void 0,weight:"bold",withCountdownSymbol:n}))),i.a.createElement(q.a,{style:Ka.endSpacer})))}const Fa=e=>e?e.tracks[e.currentTrackId]:null,Ta=y.a.c94b7d8a,Sa=y.a.eb6f9582,Ka=f.a.create((e=>({displayNone:{display:"none"},container:{flexDirection:"row",alignSelf:"flex-end",alignItems:"center",justifyContent:"center"},voiceMessage:{alignSelf:"flex-end",flexDirection:$.a.getConstants().isRTL?"row-reverse":"row",alignItems:"center",justifyContent:"center"},voiceMessageSent:{backgroundColor:e.colors.primary},voiceMessageReceived:{backgroundColor:e.colors.dmReceivedBubbleBackground},durationSpacer:{width:e.spaces.space4},durationOpacity:{opacity:.75},durationDark:{color:e.colors.whiteOnColor},iconColorDark:{color:e.colors.whiteOnColor},iconColorDefault:{color:e.colors.alwaysBaseGray1100},startSpacer:{width:e.spaces.space4},endSpacer:{width:e.spaces.space16}})));function Ra({isSent:e,isVDLEnabled:l,squared:t}){return[Ea.base,l&&Ea.vdlBorderRadius,!l&&e&&Ea.sent,!l&&!e&&Ea.received,t?e?Ea.sentSquared:Ea.receivedSquared:void 0]}const Ea=f.a.create((e=>({base:{borderRadius:e.borderRadii.xLarge,WebkitMaskImage:"url(data:image/png;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICRAEAOw==)"},vdlBorderRadius:{borderRadius:Al},sent:{borderBottomRightRadius:e.borderRadii.none},sentSquared:{borderTopRightRadius:e.borderRadii.none},received:{borderBottomLeftRadius:e.borderRadii.none},receivedSquared:{borderTopLeftRadius:e.borderRadii.none}})));class La extends i.a.Component{render(){const{entry:e,isSent:l,onCtaClick:t,onCtaImpression:n}=this.props,{message_data:a}=e,s=a&&a.attachment?a.attachment:{},o=e.marked_as_spam,c=ll(e),d=!!a&&!!a.ctas,u=el(e),m=(e=>{const{message_data:l}=e;if(!l)return!1;if(ll(e)&&!tl(e))return!1;if(!l.text)return!1;const t=Object(Je.parse)(l.text);if(!t||0===t.length)return!1;const n=t.sort(((e,l)=>l.indices[1]-e.indices[1])).reduce(((e,l)=>`${e.slice(0,l.indices[0])}${e.slice(l.indices[1])}`),l.text).trim();return t.length<=10&&0===n.length})(e),g=!(u&&m),p=tl(e);let y;y=s.sticker?i.a.createElement(ea,{sticker:s.sticker}):this._renderDMMessage(u,d,g);const _=o?i.a.createElement(Yn,{conversationId:e.conversation_id,dmId:e.id},y):y,h=c&&!p&&!Object(r.p)(null==a?void 0:a.attachment,this.context.featureSwitches),k=[l?Ca.isSent:Ca.isReceived,d&&Ca.withCta,h?Ca.mediaRoot:Ca.flexShrink,this.props.style];return i.a.createElement(q.a,{style:k},_,a&&a.ctas?i.a.createElement(Vt,{callToActions:a.ctas,isSent:l,onCtaClick:t,onImpression:n,withSticker:!!s.sticker||m,withUserText:u}):null)}_renderDMMessage(e,l,t){const{displaySensitiveMedia:n,entry:a,isActive:s,isDmNsfwMediaFilterEnabled:o,isFirstRapidFire:c,isLastRapidFire:d,isLowQuality:u,isRapidFire:m,isSent:g,isTrusted:p}=this.props,{error:y,message_data:_}=a,h=_&&{..._,entities:_&&_.entities||void 0,error:y},k=null==h?void 0:h.attachment,v={isActive:s,isFailedDraft:!!y,isFirstRapidFire:c,isLastRapidFire:d,isRapidFire:m,isSent:g,withCta:l,withMessageBubble:t},b=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled");if(h&&k){if(k.tweet)return i.a.createElement(ya,wl()({conversationId:a.conversation_id,displaySensitiveMedia:n,hasUserText:e,isDmNsfwMediaFilterEnabled:o,isTrusted:p,isVdlEnabled:b,messageData:h},v));if(k.photo||k.animated_gif||k.video)return k.video&&Object(r.p)(k,this.context.featureSwitches)?i.a.createElement(ba,{isLowQuality:u,isSent:!!g,isTrusted:p,media:k.video,messageId:a.id}):i.a.createElement(qn,wl()({displaySensitiveMedia:n,entry:a,hasUserText:e,isDmNsfwMediaFilterEnabled:o,isTrusted:p,messageData:h},v));if(k.card)return i.a.createElement(dn,wl()({cardUrl:k.card,conversationId:a.conversation_id,hasUserText:e,messageData:h},v));if(k.fleet)return i.a.createElement(yn,wl()({entry:a,hasUserText:e,messageData:h},v))}return i.a.createElement(tn,wl()({},v,{messageData:h}))}}La.contextType=m.a;const Ca=f.a.create((e=>({flexShrink:{flexShrink:1},mediaRoot:{flex:1},isSent:{alignItems:"flex-end"},isReceived:{alignItems:"flex-start"},withCta:{alignItems:"stretch"}})));var Ia=La;const wa=f.a.create((e=>({avatar:{borderRadius:e.borderRadii.infinite}})));var xa=({showAvatar:e,size:l="xLarge",user:t})=>e?i.a.createElement(R.default,{accessibilityLabel:t.name,link:{pathname:`/${t.screen_name}`},size:l,uri:t.profile_image_url_https}):i.a.createElement(q.a,{style:[wa.avatar,R.default.getSizeStyle(l)]}),Ma=t("B3eJ");function Oa({color:e,isActive:l,size:t,...n}){const a=i.a.useContext(_a.a),[s,r]=i.a.useState(.5),[o]=a.playerState;i.a.useEffect((()=>{l&&o&&o.isPlaying&&r(Math.random())}),[l,o]);const c=l&&(null==o?void 0:o.isPlaying),d=t+2*Aa,u=[Da.container,n.style,{width:t,height:t}];return i.a.createElement(q.a,{style:u},i.a.createElement(q.a,{style:[Da.container,Da.transitionOpacity,c?Da.show:Da.hide]},J.a.reducedMotionEnabled?null:i.a.createElement(Ma.a,{audioLevel:s,color:e,paused:!c,size:t})),i.a.createElement(q.a,{style:[Da.border,{width:d,height:d},Da.transitionOpacity,l?Da.show:Da.hide]}))}const Aa=parseInt(f.a.theme.spaces.space2,10),Da=f.a.create((e=>({container:{alignItems:"center",justifyContent:"center",pointerEvents:"none"},border:{position:"absolute",top:-1*Aa,left:-1*Aa,backgroundColor:e.colors.navigationBackground,borderRadius:e.borderRadii.infinite},transitionOpacity:{transition:"opacity 0.2s 0s ease-in-out"},hide:{opacity:0},show:{opacity:1}})));var Pa=t("uArA"),Ua="messageEntry";const Ha={element:"cta_dm"},Wa={viewType:"message"},Na={isGroupDM:!1,isRapidFire:!1,isFirstRapidFire:!1,isLastRapidFire:!1};class qa extends i.a.Component{constructor(...e){super(...e),this.state={shouldFadeHighlight:!1},this._handleClick=Object(Pa.a)((()=>{const{entry:{error:e,id:l,is_draft:t},isActive:n,setActiveEntry:a}=this.props;t||e||(a(n?null:l),this._handleScribeMessageEntryClick())})),this._handleScribeMessageEntryClick=()=>{const{isActive:e}=this.props;if(!Ye.a.isEnabled&&!e){const{entry:e}=this.props,l={component:"message",element:Object(r.c)(e),action:"click"};this._scribeAction(l)}},this._handleCtaImpression=()=>{this._scribeAction({...Ha,action:"show"})},this._handleCtaClick=()=>{this._scribeAction({...Ha,action:"click"})},this._isDMVoiceMessage=()=>{var e;return Object(r.p)(null==(e=this.props.entry.message_data)?void 0:e.attachment,this.context.featureSwitches)}}componentDidMount(){this.props.isHighlightedMessageSearchEntry&&this.setState({shouldFadeHighlight:!0})}shouldComponentUpdate(e,l){return!Object(N.a)(this.props,e)||!Object(N.a)(this.state.shouldFadeHighlight,l.shouldFadeHighlight)}render(){const{isActive:e,isGroupDM:l,isHighlightedMessageSearchEntry:t,isSent:n,user:a}=this.props,s=this._getRapidFireProps(),r=!s.isRapidFire||s.isLastRapidFire,o=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),c=[Ba.root.base,o&&Ba.root.vdlPadding,r&&Ba.root.contentSpacing,r&&o&&Ba.root.vdlContentSpacing,t&&Ba.root.highlightableEntry,t&&this.state.shouldFadeHighlight&&Ba.root.remove],d=this._isDMVoiceMessage(),u=o?l&&!n:!n||d;if(!a)return null;const m=!Ye.a.isEnabled||n;return i.a.createElement(se.a,{behavioralEventContext:Wa},i.a.createElement(q.a,{style:c},i.a.createElement(K.a,{accessibilityExpanded:!(!m||!e),focusable:!0,interactiveStyles:null,onPress:m?this._handleClick:void 0,style:n?Ba.root.sent:Ba.root.received,testID:Ua},(({isFocused:e,isHovered:l})=>this._renderMessage({isFocused:e,isHovered:l,rapidFireProps:s,withVDLRefresh:o,withUserAvatar:u}))),this._renderFooter(s,u)))}_renderMessage({isFocused:e,isHovered:l,rapidFireProps:t,withUserAvatar:n,withVDLRefresh:a}){const{displaySensitiveMedia:s,entry:r,inboxType:o,isActive:c,isDmNsfwMediaFilterEnabled:d,isGroupDM:u,isLowQuality:m,isReadOnly:g,isSent:p,isTrusted:y,isVoiceMessageActive:_,isWide:h,participants:k,perspective:v,scribeVoiceMessage:b,setShouldFreezeUpdates:F}=this.props,{isFirstRapidFire:T,isLastRapidFire:S,isRapidFire:K}=t,R=[p?Ba.messageContainer.sent:Ba.messageContainer.received,h?Ba.messageContainer.wide:Ba.messageContainer.narrow,p&&h&&Ba.messageContainer.sentWide,!p&&h&&Ba.messageContainer.receivedWide],E=y&&!g,L=this._isDMVoiceMessage(),C=(null==k?void 0:k.length)||0;return i.a.createElement(q.a,{style:R},r.error?null:i.a.createElement(El,{containerIsActive:c,containerIsFocused:e,containerIsHovered:l,entry:r,featureSwitches:this.context.featureSwitches,inboxType:o,isDraft:!!r.is_draft,isGroupDM:u,isSent:p,onReportMessage:L&&b?()=>b.report({isLowQuality:m,isTrusted:y}):void 0,participantsCount:C,perspective:v,setShouldFreezeUpdates:F,shouldShowReactionButton:E,style:L&&Z(f.a.theme.scale).actionsContainer({isSent:p,isVoiceMessageActive:_}),withVDLRefresh:a}),i.a.createElement(Ia,{displaySensitiveMedia:s,entry:r,isActive:c,isDmNsfwMediaFilterEnabled:d,isFirstRapidFire:T,isLastRapidFire:S,isLowQuality:m,isRapidFire:K,isSent:p,isTrusted:y,key:r.id,onCtaClick:this._handleClick,onCtaImpression:this._handleCtaImpression,style:L&&Z(f.a.theme.scale).messageContainer({isSent:p,isVoiceMessageActive:_})}),this._possiblyRenderUserAvatar(t,n))}_renderFooter({isLastRapidFire:e,isRapidFire:l},t){var n,a;const{entry:s,isActive:r,isGroupDM:o,isSent:c,participants:d,user:u}=this.props;return u?i.a.createElement(Ht,{conversationId:s.conversation_id,entryId:s.id,entryText:null==(n=s.message_data)?void 0:n.text,entryTime:s.time,isActive:r,isDraft:!!s.is_draft,isError:!!s.error,isGroupDM:o,isLastRapidFire:e,isRapidFire:l,isSent:c,localMediaId:null==(a=s.message_data)?void 0:a.localMediaId,onPress:this._handleClick,participants:d,user:u,withUserAvatar:t}):null}_possiblyRenderUserAvatar({isLastRapidFire:e,isRapidFire:l},t){const{isSent:n,isVoiceMessageActive:a,user:s}=this.props,r=this._isDMVoiceMessage();if(!s||!t&&!a)return null;const{DMUserAvatarSizePx:o,DMUserAvatarSizeType:c}=X(f.a.theme.scale),d={showAvatar:!!r||(!l||!!e),size:c,user:s},u=[Ba.userAvatar.base,n?Ba.userAvatar.sent:Ba.userAvatar.received,r&&Z(f.a.theme.scale).userAvatar({isVoiceMessageActive:a,isSent:n})];return i.a.createElement(q.a,{style:Ba.userAvatar.container},n?null:i.a.createElement(q.a,{style:Ba.userAvatar.spacer}),r?i.a.createElement(Oa,{color:n?f.a.theme.colors.primary:f.a.theme.colors.text,isActive:!!a,size:o,style:u}):null,i.a.createElement(q.a,{style:u},i.a.createElement(xa,d)))}_scribeAction(e){const{analytics:l}=this.props;l.scribe({...e})}_getRapidFireProps(){return{isFirstRapidFire:this.props.isFirstRapidFire,isLastRapidFire:this.props.isLastRapidFire,isRapidFire:this.props.isRapidFire}}}qa.contextType=m.a,qa.defaultProps=Na;var ja=Object(De.a)(ye(function(e){function l(l){const{entry:t}=l,n=i.a.useContext(_a.a),[a]=n.activeVoiceMessage,{scribeAction:s}=n,[r]=a,o=r===t.id,c={...l,isVoiceMessageActive:o,scribeVoiceMessage:s};return i.a.createElement(e,c)}return l.defaultProps=Na,l}(qa)));const Ba={root:f.a.create((e=>({base:{flexDirection:"column",paddingBottom:e.spaces.space2},vdlPadding:{paddingBottom:"0px"},received:{cursor:"default",alignItems:"flex-start"},sent:{cursor:"pointer",alignItems:"flex-end"},contentSpacing:{paddingBottom:e.spaces.space20},vdlContentSpacing:{paddingBottom:e.spaces.space24},highlightableEntry:{marginHorizontal:`calc(-${e.spaces.space16})`,paddingHorizontal:e.spaces.space16,transition:"background-color 3s ease-in",backgroundColor:e.colors.unreadCellBackground},remove:{backgroundColor:e.colors.cellBackground}}))),messageContainer:f.a.create((e=>({sent:{flexDirection:"row",justifyContent:"flex-end"},received:{flexDirection:"row-reverse",justifyContent:"flex-end"},narrow:{width:"100%"},wide:{width:Ol},receivedWide:{paddingRight:e.spaces.space12},sentWide:{paddingLeft:e.spaces.space12}}))),userAvatar:f.a.create((e=>({container:{flexDirection:"row",alignItems:"flex-end"},base:{position:"absolute"},sent:{right:0},received:{left:0},spacer:{width:X(e.scale).DMUserAvatarSpacerPx}})))};var Va=t("H4nC");const za=e=>{const{conversation:l,entry:t,inboxType:n,isActive:a,isFirstRapidFire:s,isHighlightedMessageSearchEntry:r,isLastRapidFire:c,isRapidFire:d,isWide:m,perspective:g,scribeNamespace:p,setActiveEntry:y,setShouldFreezeUpdates:_}=e;if(Object(o.b)(t)||Object(o.e)(t)){const{conversation_id:e,low_quality:o,participants:h,read_only:k,trusted:v,type:b}=l,{message_data:{sender_id:f}={}}=t,F=void 0===e||v;return i.a.createElement(ja,{entry:t,inboxType:n,isActive:a,isFirstRapidFire:s,isGroupDM:b===u.CONVERSATION_TYPE.GROUP,isHighlightedMessageSearchEntry:r,isLastRapidFire:c,isLowQuality:!!o,isRapidFire:d,isReadOnly:k,isSent:f===g,isTrusted:!!F,isWide:m,participants:h,perspective:g,scribeNamespace:p,senderId:f,setActiveEntry:y,setShouldFreezeUpdates:_})}return Object(o.a)(t)?i.a.createElement(Q,{conversation:l,entry:t,entryType:t.type,perspective:g}):Object(o.d)(t)?i.a.createElement(Va.a,{entry:t,isCompact:!1}):null};var Ga=t("0JOx");const Qa=Object(re.createSelector)(((e,l)=>{const t=Object(Re.o)(e,l.conversationId),n=t&&Object(d.a)(t);return n&&Object(u.selectEntry)(e,n)}),(e=>({lastEntry:e})));var Ya=Object(oe.c)(Qa),Xa=t("uDfI");const $a=Object(re.createSelector)(((e,l)=>ue.e.selectMany(e,l.userIds||[])),(e=>({users:e})));var Ja=Object(Xa.b)($a),Za=t("VPAj"),ei=t("Enqy"),li=t("+/1j");const ti="overflow",ni=(e,l)=>e.id_str<l.id_str?-1:e.id_str>l.id_str?1:0,ai={stiffness:1e3,damping:70},ii=140,si={scale:Object(ei.spring)(1,ai),translateY:Object(ei.spring)(0,ai)},ri=(e,l)=>({key:e.id_str,data:e,style:si}),oi=Object(Za.a)({translateY:ii,scale:0}),ci=Object(Za.a)({scale:Object(ei.spring)(1,ai),translateY:Object(ei.spring)(ii,ai)}),di=[{key:"bubble",style:{scale:Object(ei.spring)(1,ai),translateY:Object(ei.spring)(0,ai)}}],ui=Object(Za.a)({translateY:ii,scale:0}),mi=Object(Za.a)({scale:Object(ei.spring)(1,ai),translateY:Object(ei.spring)(ii,ai)}),gi=e=>[isFinite(e.scale)&&{scale:e.scale.toFixed(3)},isFinite(e.translateY)&&{translateY:`${Math.round(e.translateY)}%`}].filter(Boolean);class pi extends i.a.Component{constructor(...e){super(...e),this.state={isHidden:!0},this._afterLeave=()=>{const{users:e}=this.props;this.setState((l=>({isHidden:0===e.length})))}}componentDidUpdate(e,l){this.state.isHidden&&this.props.users&&this.props.users.length&&this.setState({isHidden:!1})}shouldComponentUpdate(e,l){return!Object(N.a)(this.props,e)||!Object(N.a)(this.state,l)}render(){const{isHidden:e}=this.state,{users:l}=this.props,t=l.sort(ni).slice(0,5).map(ri);return l.length>5&&t.push({key:ti,style:si}),i.a.createElement(q.a,{style:[yi.root,e&&yi.hidden]},i.a.createElement(q.a,{style:yi.avatarRow},i.a.createElement(ei.TransitionMotion,{styles:t,willEnter:oi,willLeave:ci},(e=>i.a.createElement(i.a.Fragment,null,e.map(((e,t)=>{if(e.style.scale<=.05)return null;const n=gi(e.style);return e.key===ti?i.a.createElement(q.a,{key:e.key,style:[yi.avatar,yi.avatarSpacer,yi.overflowAvatar,{transform:n}]},i.a.createElement(li.a,{style:yi.overflowAvatarText},"+",l.length-5)):i.a.createElement(q.a,{key:e.key,style:[yi.avatar,{transform:n}]},i.a.createElement(R.default,{accessibilityLabel:e.data&&e.data.name,size:"xLarge",uri:e.data&&e.data.profile_image_url_https}))})))))),i.a.createElement(ei.TransitionMotion,{didLeave:this._afterLeave,styles:l.length>0?di:[],willEnter:ui,willLeave:mi},(e=>i.a.createElement(i.a.Fragment,null,e.map((e=>i.a.createElement(q.a,{key:e.key,style:[yi.messageBubble,{transform:gi(e.style)}]},i.a.createElement(q.a,{style:yi.dot}),i.a.createElement(q.a,{style:[yi.dot,yi.dot1]}),i.a.createElement(q.a,{style:[yi.dot,yi.dot2]}))))))))}}const yi=f.a.create((e=>({root:{flexDirection:"row",paddingBottom:e.spaces.space20,paddingRight:e.spaces.space12,width:"calc(100% * 7/8)",position:"relative",transitionProperty:"height, padding-bottom",transitionDuration:"0.2s",overflow:"hidden"},hidden:{paddingBottom:0,paddingRight:0,height:0,width:0},avatarRow:{display:"inline-flex",alignItems:"flex-start",flexDirection:"row"},avatar:{marginEnd:e.spaces.space12,transformOrigin:"50% 100%"},avatarSpacer:{height:e.spaces.space40,width:e.spaces.space40},overflowAvatar:{borderRadius:e.borderRadii.infinite,backgroundColor:e.colors.primary,alignItems:"center",justifyContent:"center"},overflowAvatarText:{color:"white"},messageBubble:{alignItems:"center",borderRadius:e.borderRadii.infinite,maxWidth:"100%",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16,backgroundColor:e.colors.gray50,borderBottomLeftRadius:e.borderRadii.none,borderColor:e.colors.gray200,flexDirection:"row",height:e.spaces.space40,overflow:"hidden",transformOrigin:"0% 100%"},dot:{display:"flex-inline",position:"relative",width:e.spaces.space12,height:e.spaces.space12,overflow:"hidden",borderRadius:e.borderRadii.infinite,backgroundColor:e.colors.gray700,marginEnd:e.spaces.space4,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationKeyframes:[{"15%":{transform:[{scale:1.4}],backgroundColor:e.colors.primary},"30%":{transform:[{scale:1}]}}]},dot1:{animationDelay:"0.1s"},dot2:{animationDelay:"0.2s"}})));var _i=Ja(pi),hi=t("tn7R");class ki extends i.a.PureComponent{constructor(...e){super(...e),this._timers={},this.state={forceHide:!1,userIds:[]},this._handleLivePipelineUpdate=e=>{const{user_id:l}=e.dm_typing;l!==this.context.loggedInUserId&&(this._timers[l]&&clearTimeout(this._timers[l]),this._timers[l]=setTimeout((()=>this._removeAvatar(l)),4e3),this.setState((e=>({forceHide:!1,userIds:[...e.userIds.filter((e=>e!==l)),l]}))))},this._removeAvatar=(e,l=!1)=>{this.setState((t=>{const n=t.userIds.filter((l=>l!==e));return{forceHide:l&&0===n.length,userIds:n}}))}}componentDidMount(){this._initializeLivePipeline()}componentDidUpdate(e,l){if(this.props.lastEntry){const{lastEntry:l={}}=e||{},{lastEntry:t}=this.props;l&&l.id!==t.id&&t.message_data&&this._removeAvatar(t.message_data.sender_id,!0)}e.conversationId!==this.props.conversationId&&(this._teardownLivePipeline(),this._initializeLivePipeline())}componentWillUnmount(){this._teardownLivePipeline()}render(){const{forceHide:e,userIds:l}=this.state;return!e&&i.a.createElement(_i,{userIds:l})}_teardownLivePipeline(){Object(hi.a)(this._timers).forEach((e=>clearTimeout(e))),this._livePipelineSubscription&&this._livePipelineSubscription.teardown()}_initializeLivePipeline(){const{conversationId:e}=this.props;Object(Ga.h)().then((({LivePipeline:l})=>{l.isSupportedAndReady(this.context.featureSwitches)&&this.context.featureSwitches.isTrue("livepipeline_dm_features_enabled")&&!this._livePipelineSubscription&&(this._livePipelineSubscription=l.get().subscribeTopic(`/dm_typing/${e}`,this._handleLivePipelineUpdate))}))}}ki.contextType=m.a;var vi=Ya(ki),bi=t("3AAD"),fi=t("iBK2"),Fi=t("RJrc"),Ti=t("yw4N"),Si=t("mw9i");const Ki=y.a.i859a9d4,Ri=y.a.i8ecae5c,Ei=e=>e.entry.id,Li=e=>e.entry.type===W.b.MESSAGE;class Ci extends i.a.Component{constructor(e,l){super(e,l),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this._handleItemsRendered=e=>{var l,t;const n=e.positions.find((e=>"conversationProfileInfoHeader"===e.id)),a=void 0!==n&&e.viewport.getTop()<n.rectangle.getHeight();null==(l=(t=this.props).onConversationProfileVisibilityChange)||l.call(t,a)},this._handleScrollEnd=()=>{this.setState({didRenderMessageSearchEntry:!0})},this._renderItem=e=>{const{conversation:l}=this.props,t=l.conversation_id;switch(e.type){case W.b.TYPING_INDICATOR:return t?i.a.createElement(vi,{conversationId:t}):null;case W.b.READ_ONLY_INDICATOR:return t?i.a.createElement(q.a,{style:Ii.readOnly},i.a.createElement(F.b,{align:"center",color:"gray700",size:"subtext2"},Ri," ",i.a.createElement(F.b,{link:"https://support.twitter.com/articles/14606#faq"},Ki))):null;case W.b.CONVERSATION_PROFILE_INFO_HEADER:return i.a.createElement(A,{conversation:l,withVDLrefresh:this._isVDLEnabled});default:return this._renderDMEntry(e)}},this._setActiveEntry=e=>{this.setState({activeEntryId:e})},this._setShouldFreezeUpdates=e=>{this.setState({shouldFreezeUpdates:e})},this.state={activeEntryId:null,didRenderMessageSearchEntry:!1,shouldFreezeUpdates:!1}}shouldComponentUpdate(e,l){return!1===l.shouldFreezeUpdates}render(){const{conversation:e,drawerHeader:l,isWide:t,messageSearchEntryId:a,onForwardRequest:o,onHistoryRequest:m,shouldScrollToCenter:g,style:p}=this.props,{activeEntryId:y}=this.state,_=(({activeEntryId:e,canInjectConversationProfileInfoHeader:l,conversation:t,footer:n,messageSearchEntryId:a,readOnlyEntry:i})=>{const o=t&&t.entries||[],m=null==t?void 0:t.max_search_entry_id,g=null==t?void 0:t.min_search_entry_id,p=(null==t?void 0:t.status)===u.PAGINATION_STATUS.AT_END,y=m?Object(r.d)(o,m):o.length-1,_=g?Object(r.d)(o,g):-1,h=a&&-1===_?Object(r.d)(o,a):_,k=o.slice(p?0:h,y+1),v=(a?k:o).reduce(((n,i,r)=>{l&&0===r&&n.push(s.b);const u=Object(d.a)(n),m=r===o.length-1;if(n.push({isRapidFire:!1,isFirstRapidFire:!1,isLastRapidFire:!1,entry:i,isActive:a===i.id||e===i.id,isTrusted:!(null==t||!t.trusted),messageSearchEntryId:a}),u){const e=c(u.entry,i),l=n[n.length-2];e?(n[n.length-1].isRapidFire=!0,l.isRapidFire||(l.isFirstRapidFire=!0,l.isRapidFire=!0),m&&(n[n.length-1].isLastRapidFire=!0)):l.isRapidFire&&(l.isLastRapidFire=!0)}return n}),[]);return n&&!a&&v.push(n),t.read_only&&i&&!a&&v.push(i),v})({conversation:e,footer:s.d,readOnlyEntry:s.c,canInjectConversationProfileInfoHeader:e.status===W.c.AT_END&&e.type===W.a.ONE_TO_ONE,activeEntryId:y,messageSearchEntryId:a}),h=e.conversation_id,k=e=>{for(let l=e.length-1;l>=0;l--){const t=e[l];if(t&&Li(t))return t}return(e=>e[e.length-1])(e)},v=a?`dm-activity-${h}-${a}`:`dm-activity-${h}`,b=this.state.didRenderMessageSearchEntry&&(null==e?void 0:e.min_search_entry_id)&&e.status!==W.c.AT_END;return i.a.createElement(D.a.Consumer,null,(({isDrawer:s})=>{const r=s?P.b.drawerHeaderRadius:Ii.scrollSpace;return i.a.createElement(q.a,{style:[Ii.scrollContainer,r]},i.a.createElement(Ti.a,{style:[Ii.scrollContainer,t&&Ii.conversationsPadding,r,p]},l||null,e.status&&e.status!==W.c.AT_END&&!a||b?i.a.createElement(Fi.a,null):null,i.a.createElement(Si.a,{style:[Ii.content,Ii.alignTop],withGutter:!0},i.a.createElement(fi.b,{anchoring:bi.a,assumedItemHeight:50,cacheKey:v,canBeAnchorFunction:Li,centerInitialAnchor:a&&g,hasNewContentAtBottom:!0,identityFunction:Ei,initialAnchor:_.length>0?n.a(a&&g?a:Ei(k(_))):void 0,items:_,nearStartProximityRatio:2,onAtEnd:a&&this.state.didRenderMessageSearchEntry?o:void 0,onAtStart:a&&this.state.didRenderMessageSearchEntry?m:void 0,onItemsRendered:this._handleItemsRendered,onNearStart:a?void 0:m,onScrollEnd:a&&!this.state.didRenderMessageSearchEntry?this._handleScrollEnd:void 0,renderer:this._renderItem,withoutHeadroom:this._isVDLEnabled})),this.state.didRenderMessageSearchEntry&&a&&e.max_search_entry_id&&e.search_status!==W.c.AT_END?i.a.createElement(Fi.a,null):null))}))}_renderDMEntry({entry:e,isActive:l,isFirstRapidFire:t,isLastRapidFire:n,isRapidFire:a}){const{conversation:s,inboxType:r,isWide:o,messageSearchEntryId:c,perspective:d,scribeNamespace:u}=this.props,m=e.id===c;return e&&r?i.a.createElement(za,{conversation:s,entry:e,inboxType:r,isActive:l,isFirstRapidFire:t,isHighlightedMessageSearchEntry:m,isLastRapidFire:n,isRapidFire:a,isWide:o,key:e.id,perspective:d,scribeNamespace:u,setActiveEntry:this._setActiveEntry,setShouldFreezeUpdates:this._setShouldFreezeUpdates}):null}}Ci.contextType=m.a;const Ii=f.a.create((e=>({spinner:{alignItems:"center",marginVertical:"30px"},scrollContainer:{backgroundColor:e.colors.cellBackground,flexGrow:1,height:"100%",overflowX:"hidden",WebkitOverflowScrolling:"touch"},scrollSpace:{paddingTop:e.componentDimensions.appBarHeightPx,marginTop:-e.componentDimensions.appBarHeightPx},conversationsPadding:{paddingTop:e.spaces.space20},content:{flexGrow:1,transform:[{translate3d:"0,0,0"}]},alignTop:{justifyContent:"flex-start"},readOnly:{paddingBottom:e.spaces.space20}})))},"4bHO":function(e,l,t){"use strict";t.d(l,"a",(function(){return n}));const n=(e,l)=>{switch(e.type){case"user":return"users"===l?`@${e.data.screen_name} `:`@${e.data.name} `;case"hashtag":case"topic":case"event":return`${e.data.topic} `;case"dm_conversation":return`${e.data.name} `;case"no_result":return`${e.data.text} `;default:return""}}},"4hmp":function(e,l,t){"use strict";const n=t("rHpw").a.create((e=>({inboxPip:{backgroundColor:e.colors.blue500,borderWidth:e.borderWidths.medium,borderColor:e.colors.cellBackground,borderStyle:"solid",position:"absolute",height:e.baseFontSize-4,width:e.baseFontSize-4,top:e.spacesPx.space8+e.spacesPx.space2,right:e.spacesPx.space8+e.spacesPx.space2},requestPivotContainer:{backgroundColor:e.colors.cellBackground,zIndex:2},requestPivotContainerBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},root:{backgroundColor:e.colors.cellBackground,flexGrow:1},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small}})));l.a=n},"4n2h":function(e,l,t){"use strict";t.d(l,"b",(function(){return n})),t.d(l,"a",(function(){return a}));const n=e=>e?"medium":"normal",a=(e,l)=>e||l?"text":"gray700"},"5emT":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M14.548 11.634c-1.207 0-2.188-.98-2.188-2.188 0-.664.302-1.25.77-1.653-.363-.097-.736-.165-1.13-.165-2.416 0-4.375 1.96-4.375 4.376S9.585 16.38 12 16.38c2.418 0 4.377-1.96 4.377-4.376 0-.4-.07-.78-.17-1.146-.402.47-.992.776-1.66.776z"}),a.a.createElement("path",{d:"M12 19.79c-7.228 0-10.12-6.724-10.24-7.01-.254-.466-.254-1.105.035-1.642C1.88 10.923 4.772 4.2 12 4.2s10.12 6.723 10.24 7.01c.254.465.254 1.104-.035 1.64-.085.216-2.977 6.94-10.205 6.94zm0-14c-6.154 0-8.668 5.787-8.772 6.033-.068.135-.068.208-.033.273.137.316 2.65 6.104 8.805 6.104 6.18 0 8.747-5.973 8.772-6.033.07-.136.07-.21.034-.274-.138-.316-2.652-6.103-8.806-6.103z"})));r.metadata={width:24,height:24},l.a=r},"6bmY":function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E,L,C,I,w,x,M,O,A,D={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"evolutionDMInboxPrimaryQuery",selections:[{alias:"trusted",args:[a={kind:"Variable",name:"count",variableName:"count"},i={kind:"Literal",name:"desired_lists",value:["Trusted"]},s={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:17},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__evolutionDMInboxPrimaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[d={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[c={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"}],type:"DMConversation",abstractKey:null},u={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},m={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null},u],storageKey:null},{alias:"untrusted",args:g=[{kind:"Literal",name:"desired_lists",value:["Untrusted"]},s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionMessageRequestsPivot"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"low_quality",args:p=[{kind:"Literal",name:"desired_lists",value:["LowQuality"]},s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[h={kind:"InlineFragment",selections:_=[y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"pinned",args:k=[{kind:"Literal",name:"label",value:"Pinned"},{kind:"Literal",name:"s",value:20}],concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"items_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"pinnedInboxSectionConversation"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null},u],storageKey:'labeled_conversation_slice(label:"Pinned",s:20)'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMInboxPrimaryQuery",selections:[{alias:"trusted",args:v=[a,{kind:"Variable",name:"cursor",variableName:"cursor"},i,s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[b,f={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[d,y,F={alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},y],storageKey:null}],storageKey:null},L={alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[T={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},R={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},y],type:"User",abstractKey:null}],storageKey:null},E={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},y],storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},x={alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[y,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},T,w,S,K],storageKey:null},R,C],type:"User",abstractKey:null}],storageKey:null},E,y],storageKey:null}],storageKey:null}],storageKey:null},O={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[b,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:_,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[b,{kind:"InlineFragment",selections:M=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:M,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:M,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},y],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:_,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[T,w],storageKey:null},R,y],type:"User",abstractKey:null}],storageKey:null},E,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[C,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[w],storageKey:null},R,y],type:"User",abstractKey:null}],storageKey:null},E,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},C,y],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},A={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},u],storageKey:null},y],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},m],type:"DMConvoListSlice",abstractKey:null},u],storageKey:null},{alias:"trusted",args:v,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"evolutionDMInboxPrimaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"},{alias:"untrusted",args:g,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[b,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[I,{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},y],type:"DMConversation",abstractKey:null}],storageKey:null},y],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"low_quality",args:p,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[b,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,h],storageKey:null},y],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"pinned",args:k,concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"items_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},y,F,L,C,I,x,O,A,u],type:"DMConversation",abstractKey:null}],storageKey:null},y],storageKey:null},u],storageKey:'labeled_conversation_slice(label:"Pinned",s:20)'}]},params:{id:"sG_LGJOfXCIn3oM1IuMjIw",metadata:{sliceInfoPath:["trusted","slice_info"]},name:"evolutionDMInboxPrimaryQuery",operationKind:"query",text:null}};D.hash="f0cfbe9bc3038b3aeb91d76154d06102",e.exports=D},"6s7X":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M12 18.042c-.553 0-1-.447-1-1v-5.5c0-.553.447-1 1-1s1 .447 1 1v5.5c0 .553-.447 1-1 1z"}),a.a.createElement("circle",{cx:"12",cy:"8.042",r:"1.25"}),a.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));r.metadata={width:24,height:24},l.a=r},"6vad":function(e,l,t){"use strict";t.d(l,"a",(function(){return g}));var n=t("ERkP"),a=t.n(n),i=t("t62R"),s=t("EHV7"),r=t("rHpw");const o=r.a.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingRight:e.spaces.space12,width:e.fontSizes.title4}})));var c=t("7Mjr"),d=t("I4+6"),u=t("cm6r"),m=t("MWbm");const g=Object.freeze({TopicFilled:"TOPIC_FILLED"});const p=r.a.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}})));l.b=function({icon:e,landingUrl:l,nativeID:t,rightControl:n,style:y,subtext:_,testID:h,text:k}){const v=(e=>{switch(e){case g.TopicFilled:return a.a.createElement(s.a,{style:o.icon});default:return null}})(e),b=_?null:p.withSubtext,f=d.a.generate({backgroundColor:r.a.theme.colors.gray0,color:r.a.theme.colors.cellBackground,customFocusBackgroundColor:r.a.theme.colors.gray0,customHoverBackgroundColor:r.a.theme.colors.gray0,customPressedBackgroundColor:r.a.theme.colors.gray0});return a.a.createElement(u.a,{interactiveStyles:l?f:null,link:null==l?void 0:l.url,nativeID:t,style:[p.root,y],testID:h},a.a.createElement(m.a,{accessibilityLevel:2,accessibilityRole:"heading",style:p.mainContent},a.a.createElement(m.a,{style:p.icon},v),a.a.createElement(i.b,{numberOfLines:3,size:"headline1",style:b,weight:"heavy",withHashflags:!0},k),a.a.createElement(m.a,{style:p.rightControlGroup},l?a.a.createElement(m.a,{style:b},a.a.createElement(c.a,{style:p.iconArrow})):null,n?a.a.createElement(m.a,null,n):null)),_?a.a.createElement(i.b,{color:"gray700",numberOfLines:2,size:"subtext2",style:p.subtext,withHashflags:!0},_):null)}},"7myi":function(e,l,t){"use strict";t("kYxP"),t("849X");var n=t("ERkP"),a=t.n(n),i=t("oEoC"),s=t("2dXj"),r=t("4bHO"),o=t("dzqK"),c=t("GZwR");class d extends a.a.Component{constructor(...e){super(...e),this._genericWrapperRef=a.a.createRef(),this.state={queryContext:void 0,canShowTypeahead:!1},this.render=()=>{const{children:e,contextText:l,isInline:t,isInlineReply:n,onTypeaheadStateChange:i,source:r}=this.props,{canShowTypeahead:o,queryContext:d}=this.state,u=o&&d?{word:d.word,resultType:d.resultType}:void 0;return a.a.createElement(s.a,{contextText:l,isInline:t,isInlineReply:n,onDismiss:this._handleDismiss,onSelectItem:this._handleSelectItem,onTypeaheadStateChange:i,query:u,ref:this._genericWrapperRef,source:r||c.d.Compose},e(this._handleInputChange))},this._handleSelectItem=e=>{const{onTextUpdated:l}=this.props,{queryContext:t}=this.state;if(t){const n=Object(r.a)(e,t.resultType),{newCursor:a,newTweetText:i}=this._replaceToken(n,t);l({target:{value:i}}),this._updateDOMTextArea(a,i)}this._setQueryContext(void 0)},this._updateDOMTextArea=(e,l)=>{this._textAreaRef&&(this._textAreaRef.value=l,this._textAreaRef.selectionStart=e,this._textAreaRef.selectionEnd=e,this._textAreaRef.focus())},this._handleInputChange=e=>{if(Object(o.a)(e))throw new Error("PlainTextTypeaheadComposeWrapper cannot handle rich text input changes");const l=e&&(e.currentTarget||e.target),{queryContext:t}=this.state;this._textAreaRef=l;const n=t&&t.word,a=l.value,{end:s,start:r,word:c}=i.c(l.selectionStart,a),d=i.e(c||"","compose");if((null==d?void 0:d.q)!==n)if(this._genericWrapperRef.current&&this._genericWrapperRef.current.resetSelectedItem(),-1===r)this._setQueryContext(void 0);else if(d){const{q:e,result_type:t}=d;this._setQueryContext({word:e,resultType:t,fullText:l.value,startIndex:r,endIndex:s})}else this._setQueryContext(void 0)},this._setQueryContext=e=>this.setState({queryContext:e,canShowTypeahead:!!e}),this._handleDismiss=()=>this.setState({canShowTypeahead:!1})}_replaceToken(e,l){const{endIndex:t,fullText:n,startIndex:a}=l,i=n.slice(0,a);return{newTweetText:i+e+n.slice(t),newCursor:i.length+e.length}}}l.a=d},"883S":function(e,l,t){"use strict";t.d(l,"a",(function(){return b})),t.d(l,"c",(function(){return f})),t.d(l,"b",(function(){return F}));var n=t("k49u"),a=t("3XMw"),i=t.n(a),s=t("fs1G");const r=i.a.c3752568,o=i.a.f78aa3ea,c=i.a.f9690dc0,d=i.a.i859a9d4,u=i.a.b1d35408,m=i.a.g539cca6,g=i.a.bbac001a,p=i.a.a1d2a68e,y=i.a.d4f2d9d8,_=i.a.hf383be4,h=i.a.b25c5b2a,k=i.a.c4fdbd16,v=i.a.hf3e7e38,b={[n.a.DirectMessageConversationNotFound]:{customAction:()=>!1}},f={defaultToast:{text:o},showToast:!0},F={defaultToast:{text:r},[n.a.CurrentUserSuspended]:{toast:{text:m,action:{label:d,link:"https://support.twitter.com/articles/15790"}}},[n.a.DirectMessageCannotDmOtherUser]:{toast:{text:c}},[n.a.DirectMessageDuplicate]:{toast:{text:h}},[n.a.DirectMessageOtherUserNotFollowing]:{toast:{text:p,action:{label:d,link:"https://support.twitter.com/articles/14606"}}},[n.a.DirectMessagesSenderBlocksRecipient]:{toast:{text:k}},[n.a.DirectMessageTooLongError]:{toast:{text:g}},[n.a.DirectMessageTweetNotFound]:{toast:{text:y}},[n.a.GenericBadRequest]:{customAction:s.a},[n.a.MessageSendError]:{toast:{text:v}},[n.a.OverStatusUpdateLimit]:{toast:{action:{label:d,link:"https://support.twitter.com/articles/15364"},text:u}},[n.a.TargetUserNotFound]:{toast:{text:_}},showToast:!0}},"88ay":function(e,l,t){"use strict";t.d(l,"c",(function(){return P})),t.d(l,"e",(function(){return U})),t.d(l,"f",(function(){return H})),t.d(l,"d",(function(){return W})),t.d(l,"a",(function(){return j}));var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("ERkP")),s=t.n(i),r=t("6rlp"),o=t("zh9S"),c=t("G6rE"),d=t("rxPX"),u=t("0KEI");const m=(e,l)=>c.e.select(e,l.userId),g=(e,l)=>l.promotedContent;var p=Object(d.a)().propsFromState((()=>({promotedContent:g,user:m}))).adjustStateProps((({promotedContent:e,user:l})=>({promotedContent:e||(l?l.promoted_content:void 0),user:l}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("USER_CELL_CONTAINER"),log:r.a,scribeAction:o.c}))),y=t("I57f"),_=t("vMjK"),h=t("MWbm"),k=t("IG7M"),v=t("rHpw");const b=e=>{const{children:l,promotedContent:t,user:n}=e;return s.a.createElement(h.a,{style:f.decorationWrapper},l,s.a.createElement(k.a,{renderActionMenu:e=>s.a.createElement(_.b,{onClose:e,promotedContent:t,user:n,view:"follower"}),style:f.actionMenu}))},f=v.a.create((e=>({decorationWrapper:{flexDirection:"row"},actionMenu:{marginLeft:e.spaces.space12}})));var F=t("uIZp"),T=t("mN6z"),S=t("caTy"),K=t("3IPs"),R=t("Rp9C"),E=t("X04g"),L=t("Re5t"),C=t("TnY3"),I=t("hxu0"),w=t("v6aA"),x=t("7JQg"),M=t("nBUg"),O=t("IMA+"),A=t("cFuS");const D=e=>{const{user:l}=e;return l&&l.profile_image_url_https?s.a.createElement(N,a()({},e,{avatarUri:l.profile_image_url_https,description:l.description,entities:l.entities,followRequestReceived:l.follow_request_received,highlightedLabel:l.highlightedLabel,isAutoblocking:l.smart_blocking,isBlockedBy:l.blocked_by,isBlocking:l.blocking,isDeviceFollowing:l.notifications,isFollowedBy:l.followed_by,isFollowing:l.following,isProtected:l.protected,isVerified:l.verified,name:l.name,screenName:l.screen_name,translatorType:l.translator_type,user:l,withheldDescription:l.withheld_description,withheldEntities:l.withheld_entities})):null};D.defaultProps={cellClickable:!0,decoration:null,displayMode:L.a.UserCompact,followRequestReceived:!1,hideBlocked:!1,promotedItemType:A.c.USER,shouldScribeProfileClick:!0,shouldScribeImpression:!1,withFollowsYou:!1};const P=({isDeviceFollowing:e,userId:l})=>s.a.createElement(y.a,{isFollowing:e,style:q.followButton,userId:l}),U=({loggedInUserId:e,onFollowClick:l,promotedContent:t,userId:n})=>e!==n?s.a.createElement(F.a,{onFollowClick:l,promotedContent:t,size:"small",style:q.followButton,userId:n}):null,H=e=>s.a.createElement(b,{promotedContent:e.promotedContent,user:e.user},U(e)),W=e=>s.a.createElement(k.a,{renderActionMenu:l=>s.a.createElement(_.b,{onClose:l,promotedContent:e.promotedContent,user:e.user,view:"rito_flagged_accounts"})});class N extends s.a.Component{constructor(...e){super(...e),this._handleAvatarClick=()=>{const{shouldScribeProfileClick:e}=this.props;this._handleSaveAsRecentSearch(),e&&this._scribeAction({element:"avatar",action:"profile_click"}),this._handleAsyncPromotedEvent(A.b.PROFILE_IMAGE_CLICK)},this._handleCellClick=()=>{const{history:e,onClick:l,screenName:t,user:n}=this.props,a=this._getPromotedTweetState();this._handleSaveAsRecentSearch(),this._handleScreenNameClick(),l?l({user:n,state:a}):e.push({pathname:`/${t}`,state:a||void 0})},this._handleScreenNameClick=()=>{const{shouldScribeProfileClick:e}=this.props;this._handleSaveAsRecentSearch(),e&&this._scribeAction({action:"profile_click"}),this._handleAsyncPromotedEvent(A.b.SCREEN_NAME_CLICK)},this._handleSaveAsRecentSearch=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:l,userId:t}=this.props;e&&l&&l(E.a.ItemType.USER)&&e({user:{id:t,type:K.a.User}})},this._scribeAction=e=>{var l;const{promotedContent:t,scribeAction:n,scribeData:a,scribeNamespace:i,user:s,userId:r}=this.props,o=null==a||null==(l=a.items)?void 0:l.find((e=>e.item_type===E.a.ItemType.USER&&e.id===r)),c=a.search_details;n({...i,...e},{items:[{...o,...R.a.getUserItem(s,t)}],profile_id:r,search_details:c})}}componentDidMount(){this._shouldRender()&&this._handleImpression()}shouldComponentUpdate(e){return!Object(T.a)(this.props,e)}render(){const{avatarDecoration:e,bottomControl:l,cellClickable:t,createLocalApiErrorHandler:n,decoration:i,followRequestReceived:r,hideBlocked:o,history:c,isAutoblocking:d,isBlockedBy:u,isBlocking:m,isDeviceFollowing:g,isFollowing:p,isInSidebar:y,location:_,log:h,onClick:k,onFollowClick:v,promotedItemId:b,saveAsRecentSearch:f,scribeAction:F,scribeData:T,scribeNamespace:K,shouldScribeImpression:R,shouldScribeProfileClick:E,shouldStoreTypeaheadItem:L,socialContext:C,user:I,...w}=this.props;return this._shouldRender()?s.a.createElement(M.b.Provider,{value:{socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")}},s.a.createElement(O.a,a()({},w,{avatarDecoration:e,bottomControl:this._renderBottomControl(),decoration:this._renderDecoration(),highlightedLabel:this._getHighlightedLabel(),isBlocking:I.blocking,onAvatarClick:this._handleAvatarClick,onCellClick:t?this._handleCellClick:void 0,onScreenNameClick:this._handleScreenNameClick,socialContext:C?{contextType:C.contextType,text:C.text,link:C.landingUrl?Object(S.b)(C.landingUrl):void 0}:void 0,withDarkerInteractiveBackground:y}))):null}_renderBottomControl(){return this._renderControl(this.props.bottomControl||null)}_renderDecoration(){const{decoration:e,onFollowClick:l}=this.props;return this._renderControl(e,l)}_renderControl(e,l){const{loggedInUserId:t}=this.context,{displayMode:n,followRequestReceived:a,isAutoblocking:i,isBlocking:s,isDeviceFollowing:r,isFollowing:o,promotedContent:c,screenName:d,user:u,userId:m}=this.props;return"function"==typeof e?e({displayMode:n,followRequestReceived:a,isAutoblocking:i,isBlocking:s,isDeviceFollowing:!!r,isFollowing:!!o,loggedInUserId:t,promotedContent:c,screenName:d,user:u,userId:m,onFollowClick:l}):e}_shouldRender(){const{hideBlocked:e,isBlockedBy:l,isBlocking:t,screenName:n,userId:a}=this.props;return a&&n&&!(e&&(l||t))}_getHighlightedLabel(){const{highlightedLabel:e}=this.props.user,l="AutomatedLabel"===(null==e?void 0:e.userLabelType),t=!!l&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!l||t?e:void 0}_getPromotedTweetState(){const{promotedContent:e,promotedItemType:l}=this.props;return e&&l===A.c.TWEET?{promotedTweetState:e}:null}_handleAsyncPromotedEvent(e){const{createLocalApiErrorHandler:l,log:t,promotedContent:n,promotedItemId:a,promotedItemType:i,userId:s}=this.props;if(n){const{disclosure_type:r,impression_id:o}=n;t({disclosureType:r,itemId:a||s,itemType:i,params:{event:e,impression_id:o}}).catch(l())}}_handleImpression(){const{createLocalApiErrorHandler:e,log:l,promotedContent:t,promotedItemType:n,shouldScribeImpression:a,userId:i}=this.props;if(t&&n===A.c.USER){const{disclosure_type:n,impression_id:a}=t;l({disclosureType:n,itemId:i,itemType:A.c.USER,params:{event:A.b.IMPRESSION,impression_id:a}}).catch(e())}else a&&this._scribeAction({action:"impression"})}}N.contextType=w.a,N.defaultProps=D.defaultProps;const q=v.a.create((e=>({followButton:{marginLeft:e.spaces.space12}}))),j=Object(C.a)(Object(I.a)(p(D)));l.b=Object(x.a)({element:"user"})(j)},"8W85":function(e,l,t){"use strict";t("kYxP"),t("ERkP");var n=t("zb92");l.a=Object(n.a)({loader:()=>Promise.all([t.e(123),t.e(226)]).then(t.bind(null,"u2Vg")).then((e=>({default:e.__DANGEROUS_IMPORT__})))})},"8fJk":function(e,l,t){"use strict";var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"evolutionMessageRequestsPivot",selections:[{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null,hash:"90ff34717d6f33cb87d17d696fbedc86"};e.exports=n},"8hvq":function(e,l,t){"use strict";t.d(l,"a",(function(){return w}));t("MvUL");var n=t("MMRb"),a=t("ERkP"),i=t.n(a),s=t("1YZw"),r=t("v6aA"),o=t("EbOo"),c=t("tZH3"),d=t("3XMw"),u=t.n(d),m=t("5oT/"),g=t("YemM"),p=t("u0B7"),y=t("Irs7"),_=t("0KEI"),h=t("uDfI"),k=t("zCf4"),v=t("G6rE"),b=t("vMjK"),f=t("efqG"),F=t("/yvb"),T=t("6u/5"),S=t.n(T),K=t("PJTX"),R=t.n(K),E=t("pHkl"),L=t("X/yg"),C=t("fz3c");const I=u.a.d88d0790;function w(e){const{conversationId:l,conversationType:t,inboxType:a,participant:d}=e,u=Object(y.b)(),T=Object(_.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM"),K=Object(h.c)(),w=R()(),{featureSwitches:x}=i.a.useContext(r.a),M=Object(k.f)(),O=x.isTrue("dm_vdl_enabled")&&x.isTrue("dm_vdl_inbox_p0_enabled"),A=t===n.CONVERSATION_TYPE.GROUP,D=e=>{K(v.e.unblock(e)).catch(T(p.a)),u.scribeAction("unblock")},P=()=>{const{participantCount:i,position:s,relayId:r}=e,o=t===n.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",c={conversation_type:t===n.CONVERSATION_TYPE.GROUP?E.l.GROUP:E.l.ONE_TO_ONE,conversation_id:l,conversation_participant_count:i,position:s,inbox_type:Object(L.l)(a),entry_point:E.c.CELL_X_BUTTON};u.scribe({element:"thread",action:o,data:c}),K(n.leaveConversation({conversationId:l})).then((()=>{r&&S()(w,(e=>{e.delete(r)}))})).catch(T({showToast:!0})),M.replace(Object(L.g)(a))},U=()=>{const{userId:t}=e,n=C.a.DMConversation;if(u.scribeAction("report"),Object(C.g)(x,n)){const e=Object(C.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:n,reportedConversationId:l,reportedUser:t,scribeNamespace:u.contextualScribeNamespace});M.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=Object(L.j)(l,window.location.pathname,u.contextualScribeNamespace,a);M.push(e)}};return i.a.createElement(f.a,{renderContent:(e,l)=>i.a.createElement(c.a,{dismiss:e,flatBorders:"sheet"===l,isGroup:A,onBlockClick:()=>{return e=d.idStr,K(v.e.block(e)).then((()=>{K(Object(s.b)({action:{label:b.c,onAction:()=>D(e)},text:b.a}))}),T(o.a)),void u.scribeAction("block");var e},onDeleteClick:P,onReportClick:U,requestorScreenName:d.screenName,showBlock:!A,showCancel:"sheet"===l,showDelete:!0})},i.a.createElement(F.a,{accessibilityLabel:I,icon:i.a.createElement(m.a,{style:O?g.a.xIcon:void 0}),onPress:e=>{e.preventDefault()},style:O?g.a.vdlXButton:g.a.xButton,type:O?void 0:"destructiveText"}))}},"A/tJ":function(e,l,t){"use strict";t.r(l),t.d(l,"DMConversationCreator",(function(){return b}));t("MvUL");var n=t("ERkP"),a=t.n(n),i=t("RqPI"),s=t("3nOA"),r=t("rxPX"),o=t("0KEI"),c=t("G6rE");const d=(e,l)=>l.match.params.screenName,u=(e,l)=>{const t=i.s(e),n=((e,l)=>{const t=d(0,l);return t?c.e.selectIdByScreenName(e,t):null})(e,l);return t&&n?Object(s.a)(t,n):null};var m=Object(r.a)().propsFromState((()=>({screenName:d,conversationId:u}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(o.createLocalApiErrorHandlerWithContextFactory)("CREATE_CONVERSATION"),fetchOneByScreenNameWithExtraFieldsIfNeeded:c.e.createFetchOneByScreenNameWithExtraFieldsIfNeeded([c.a,c.d])}))),g=t("GOQE"),p=t("kGix"),y=t("v//M"),_=t("tI3i"),h=t.n(_),k=t("5FtR"),v=t("0zXz");const b=e=>{const{conversationId:l,createLocalApiErrorHandler:t,fetchOneByScreenNameWithExtraFieldsIfNeeded:n,history:i,screenName:s}=e;return a.a.useEffect((()=>{Promise.resolve().then((()=>(h()(!!s,"screenName must be defined"),n(s)))).catch((e=>{t(g.a)(e),i.replace("/messages")}))}),[s,n,t,i]),a.a.createElement(a.a.Fragment,null,l&&a.a.createElement(k.a,{to:`/messages/${l}`}),a.a.createElement(y.a,{fetchStatus:p.a.LOADING,render:v.a}))},f=m(b);l.default=f},AYcr:function(e,l,t){"use strict";var n,a,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"}],kind:"Fragment",metadata:null,name:"evolutionPinConversationMutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Literal",name:"label",value:"Pinned"},{kind:"Literal",name:"s",value:20}],concreteType:null,kind:"LinkedField",name:"add_dm_conversation_label_v3",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],type:"DMConversationLabelInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"failure_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"DMConversationLabelUnavailable",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionPinConversationMutation",selections:a},params:{id:"ZHTYqgRlFOIozAdfcLAF_A",metadata:{},name:"evolutionPinConversationMutation",operationKind:"mutation",text:null}};i.hash="3a550c6d2710cd81564e2c2508b2f30f",e.exports=i},Avzu:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M23.25 3.25h-2.425V.825c0-.414-.336-.75-.75-.75s-.75.336-.75.75V3.25H16.9c-.414 0-.75.336-.75.75s.336.75.75.75h2.425v2.425c0 .414.336.75.75.75s.75-.336.75-.75V4.75h2.425c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-3.175 6.876c-.414 0-.75.336-.75.75v8.078c0 .414-.337.75-.75.75H4.095c-.412 0-.75-.336-.75-.75V8.298l6.778 4.518c.368.246.79.37 1.213.37.422 0 .844-.124 1.212-.37l4.53-3.013c.336-.223.428-.676.204-1.012-.223-.332-.675-.425-1.012-.2l-4.53 3.014c-.246.162-.563.163-.808 0l-7.586-5.06V5.5c0-.414.337-.75.75-.75h9.094c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H4.096c-1.24 0-2.25 1.01-2.25 2.25v13.455c0 1.24 1.01 2.25 2.25 2.25h14.48c1.24 0 2.25-1.01 2.25-2.25v-8.078c0-.415-.337-.75-.75-.75z"})));r.metadata={width:24,height:24},l.a=r},CFcj:function(e,l,t){"use strict";t.r(l),t.d(l,"ConversationGroupInfoScreen",(function(){return W}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("LCtV"),s=(t("849X"),t("MMRb")),r=t("AspN"),o=t("RqPI"),c=t("hqKg"),d=t("p9G8"),u=t("AQOc"),m=t("/NU0"),g=t("G6rE"),p=t("0KEI"),y=t("oEGd");const _=(e,l)=>l.match.params.conversationId,h=Object(c.createSelector)(((e,l)=>s.selectConversation(e,_(0,l))),s.selectEntries,_,((e,l)=>s.selectConversationFetchStatus(e,_(0,l))),o.s,g.e.selectAll,((e,l)=>{const t=s.selectConversationAvatarMediaId(e,_(0,l)),[n]=Object(m.a)(t)?r.k(e,t):[];return n}),((e,l)=>s.selectConversationAvatarMediaIsUploading(e,_(0,l))),((e,l)=>s.selectConversationAvatarMediaUploadProgress(e,_(0,l))),((e,l,t,n,a,i,s,r,o)=>{const c=e&&e.data,m=c&&Object(u.b)(c,l,i),g=m&&Object(d.a)(m,a);if(!a)throw new Error("logged-in user not found");return{avatarMedia:s,conversation:m,conversationId:t,fetchStatus:n,isUploading:r,groupName:g,mediaUploadProgress:o,perspective:a}})),k={addAvatarMedia:s.addAvatarMedia,createLocalApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)("CONVERSATION_GROUP_INFO_SCREEN"),fetchConversation:s.fetchConversation,fetchConversationIfNeeded:s.fetchConversationIfNeeded,removeAvatarMedia:s.removeAvatarMedia,removeMediaUpload:r.i,setConversationAvatar:s.setConversationAvatar,updateConversationName:s.updateConversationName};var v=Object(y.f)(h,k),b=t("I2k/"),f=t("aA19"),F=t("v//M"),T=t("jHSc"),S=t("3XMw"),K=t.n(S),R=t("mN6z"),E=t("P68U"),L=t("eyty"),C=t("MWbm"),I=t("mw9i"),w=t("/yvb"),x=t("JYMr"),M=t("p+r5"),O=t("rHpw"),A=t("7JQg");const D=K.a.abd845fe,P=K.a.d87bff5a,U=K.a.i2209530,H=K.a.cabb453e;class W extends a.a.Component{constructor(e,l){super(e,l),this._renderContent=()=>a.a.createElement(C.a,null,this._renderGroupAvatarPicker(),this._renderGroupNameEditor()),this._handleFetch=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationIfNeeded:t}=this.props;t({conversationId:e}).catch(l(Object(b.a)(e)))},this._handleGroupNameUpdated=e=>{this.setState({groupNameEdit:e.target.value})},this._handleSavePress=()=>{this._savePress()},this._savePress=()=>{const{avatarMedia:e,conversationId:l,createLocalApiErrorHandler:t,fetchConversation:n,groupName:a,history:i,setConversationAvatar:s,updateConversationName:r}=this.props,{groupNameEdit:o}=this.state,c=[];return e&&c.push(s(l).catch(t())),o&&a!==o&&c.push(r({conversationId:l,name:o}).catch(t({showToast:!0}))),Promise.all(c).then((()=>{n({conversationId:l}).catch(t(Object(b.a)(l))),i.goBack({backLocation:`/messages/${l}/info`,shouldReplaceOnFallback:!0})}),(()=>e&&this._clearAvatarMedia(e.id)))},this._handleAvatarMediaChange=([e])=>{const{addAvatarMedia:l,avatarMedia:t,conversationId:n}=this.props;t&&this._clearAvatarMedia(t.id),l(n,e)},this._handleMediaFailure=e=>{this._clearAvatarMedia(e)},this.state={groupNameEdit:e.groupName}}static getDerivedStateFromProps(e,l){const{groupName:t}=e;return"string"==typeof t&&null===l.groupNameEdit?{groupNameEdit:t}:null}componentDidMount(){this._handleFetch()}componentWillUnmount(){const{avatarMedia:e}=this.props;e&&this._clearAvatarMedia(e.id)}shouldComponentUpdate(e,l){return!Object(R.a)(e,this.props)||!Object(R.a)(l,this.state)}render(){const{conversationId:e,fetchStatus:l,history:t}=this.props;return a.a.createElement(T.b,{backLocation:`/messages/${e}/info`,history:t,rightControl:this._renderRightControl(),title:D},a.a.createElement(I.a,{style:N.root},a.a.createElement(F.a,{accessibilityLabel:P,fetchStatus:l,onRequestRetry:this._handleFetch,render:this._renderContent})))}_renderRightControl(){const{avatarMedia:e,groupName:l,isUploading:t}=this.props,{groupNameEdit:n}=this.state,i=t||!(n&&n!==l||e);return a.a.createElement(w.a,{children:U,disabled:i,onPress:this._handleSavePress,size:"small",type:"primaryFilled"})}_renderGroupAvatarPicker(){const{avatarMedia:e,conversation:l,mediaUploadProgress:t,perspective:n}=this.props,s=a.a.createElement(f.a,{conversation:l,perspective:n});return a.a.createElement(C.a,null,a.a.createElement(x.a,{progress:t}),a.a.createElement(C.a,{style:N.avatarContainerRoot},a.a.createElement(E.default,{borderRadius:i.a.INFINITE,currentContent:s,location:L.d.Avatar,mediaItem:e||void 0,onChange:this._handleAvatarMediaChange,onFailure:this._handleMediaFailure,rootStyle:N.avatarContainer})))}_renderGroupNameEditor(){return a.a.createElement(M.a,{label:H,maxLength:50,name:"groupNameEdit",onChange:this._handleGroupNameUpdated,style:N.groupNameEditor,value:this.state.groupNameEdit||""})}_clearAvatarMedia(e){const{avatarMedia:l,conversationId:t,removeAvatarMedia:n,removeMediaUpload:a}=this.props;l&&l.uploading||a(e),n(t,e)}}const N=O.a.create((e=>({root:{backgroundColor:e.colors.gray0},avatarContainerRoot:{alignItems:"center",backgroundColor:e.colors.cellBackground,paddingVertical:e.spaces.space20},groupNameEditor:{backgroundColor:e.colors.cellBackground},avatarContainer:{height:`calc(5 * ${e.spaces.space20})`,width:`calc(5 * ${e.spaces.space20})`}})));l.default=Object(A.a)({page:"messages",section:"group_settings"})(v(W))},CVqr:function(e,l,t){"use strict";t.d(l,"b",(function(){return c})),t.d(l,"a",(function(){return d}));var n=t("3XMw"),a=t.n(n);const i=a.a.f041be05,s=a.a.a2fad0f3,r=a.a.cbddf365,o=a.a.fac945ad,c=a.a.h6beb5fb,d=e=>{const{newUntrustedWithSocialProof:l,newUntrustedWithoutSocialProof:t,oldUntrustedWithSocialProof:n,oldUntrustedWithoutSocialProof:a}=e;let c="normal",d="",m=!1;return l>0?(d=s({stringCount:u(l),count:l}),c="bold",m=!0):t>0?(d=o({stringCount:u(t),count:t}),c="bold",m=!0):n>0?(d=r({stringCount:u(n),count:n}),c="medium"):a>0&&(d=i({stringCount:u(a),count:a}),c="medium"),{titleWeight:c,description:d,showNotificationDot:m}},u=e=>e>10?c({count:10}):e},DQzJ:function(e,l,t){"use strict";t.d(l,"a",(function(){return k}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("kGix"),s=t("tI3i"),r=t.n(s),o=t("SrIh"),c=t("0KEI"),d=t("IAZG"),u=t("VYI2"),m=t.n(u),g=t("PJTX"),p=t.n(g),y=t("P74S"),_=t.n(y),h=t("YWiL");function k(e,l){const[t,n]=a.a.useState(!1),[s,u]=a.a.useState(null),g=p()(),[y]=m()(l),k=Object(c.useApiErrorHandler)(),v=Object(d.a)(e,y);return a.a.useMemo((()=>{var l,a;const c=null==(l=Object(h.getRequest)(e).params)||null==(a=l.metadata)?void 0:a.sliceInfoPath;r()(!!c,"The provided query does not have an associated sliceInfoPath. Make sure you are using the `@slice` directive with your query.");const{next_cursor:d,previous_cursor:m}=function(e,l){try{r()("slice_info"===l[l.length-1],"Invalid sliceInfoPath!");let n=e;for(const e of l){var t;r()(!!n,"The provided path is invalid."),r()("string"==typeof e,"Unexpected value for path!"),n=null==(t=n)?void 0:t[e]}return n}catch(e){return void Object(o.a)(e.message)}}(v,c)||{},p=l=>{t||(n(!0),_()(g,e,{...y,cursor:l}).subscribe({complete:()=>{n(!1)},error:e=>{n(!1),u(e),k(e)}}))},b=()=>{d&&p(d)},f=()=>{m&&p(m)};return s?{subsequentFetchStatus:i.a.FAILED,error:s,fetchNext:b,fetchPrevious:f,data:v,hasNext:Boolean(d),hasPrevious:Boolean(m)}:{subsequentFetchStatus:t?i.a.LOADING:i.a.NONE,error:void 0,fetchNext:b,fetchPrevious:f,data:v,hasNext:Boolean(d),hasPrevious:Boolean(m)}}),[e,v,t,s,g,y,k])}},DbJc:function(e,l,t){"use strict";var n=t("VPAj");const a={...t("7n04").a,initialScrollHeadroom:Object(n.a)(0),scrollHeadroom:Object(n.a)(0),pinToNewestWhenAtNewest:!0};l.a=a},EPsT:function(e,l,t){"use strict";t.d(l,"a",(function(){return r}));var n=t("ERkP"),a=t.n(n),i=t("jtO7"),s=t("eb3s");class r extends a.a.Component{constructor(e){super(e),this._handleClick=e=>{this.setState({showConfirmation:!0})},this._handleCancel=()=>{this.setState({showConfirmation:!1})},this._handleConfirm=()=>{this.setState({showConfirmation:!1}),this.props.onConfirmationSheetConfirm()},this.state={showConfirmation:!1}}render(){const{align:e,color:l,confirmationSheetConfirmButtonLabel:t,confirmationSheetConfirmButtonType:n,confirmationSheetHeadline:r,confirmationSheetText:o,label:c}=this.props;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{align:e,color:l,label:c,onPress:this._handleClick}),this.state.showConfirmation?a.a.createElement(s.a,{confirmButtonLabel:t,confirmButtonType:n,headline:r,onCancel:this._handleCancel,onConfirm:this._handleConfirm,text:o}):null)}}r.defaultProps={color:"red500",align:"center"}},FWve:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",selections:[{alias:"untrusted",args:[a={kind:"Variable",name:"count",variableName:"count"},i={kind:"Literal",name:"desired_lists",value:["Untrusted","LowQuality"]},s={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:17},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxSecondaryNoQualityFilterQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},d={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",selections:[{alias:"untrusted",args:u=[a,{kind:"Variable",name:"cursor",variableName:"cursor"},i,s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},h={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},g],type:"User",abstractKey:null}],storageKey:null},k={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},g],storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},p,b,y,_],storageKey:null},h,v],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:f=[g],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:F=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:F,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:F,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:f,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},b,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,b],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[b],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},v,g],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},d],storageKey:null},g],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"untrusted",args:u,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxSecondaryNoQualityFilterQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"}]},params:{id:"6YA3CFdh-WkgaC7_8ZJ_uA",metadata:{sliceInfoPath:["untrusted","slice_info"]},name:"EvolutionDMInboxSecondaryNoQualityFilterQuery",operationKind:"query",text:null}};T.hash="6fb9d9631c7c450980be91852c33c0c3",e.exports=T},GSsg:function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));var n=t("B5iK");class a{constructor(e,l=Object.freeze({})){const{interval:t=6e4,burstInterval:a=3e3,burstDuration:i=3e5}=l;this.pollTimer=new n.b(t).interval(e),this.burstTimer=new n.a(this.pollTimer,a,i)}start(e){return this.pollTimer.start(),e&&this.burstTimer.requestBurst(),this}stop(){return this.burstTimer.stopBurst(),this.pollTimer.stop(),this}restart(){return this.stop(),this.start(),this}}},GjeS:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E,L,C,I,w,x,M,O,A,D,P,U,H,W,N,q,j,B,V,z,G,Q,Y,X,$,J,Z,ee,le,te,ne,ae,ie,se,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,fe,Fe,Te,Se,Ke,Re,Ee,Le,Ce,Ie,we,xe,Me,Oe,Ae,De,Pe,Ue,He,We,Ne,qe,je,Be,Ve,ze,Ge,Qe,Ye,Xe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,fl,Fl,Tl,Sl,Kl,Rl,El,Ll,Cl,Il,wl,xl,Ml,Ol,Al,Dl,Pl,Ul,Hl,Wl,Nl,ql,jl,Bl,Vl,zl,Gl,Ql,Yl,Xl,$l,Jl,Zl,et,lt,tt,nt,at,it,st,rt,ot,ct,dt,ut,mt,gt,pt,yt,_t,ht,kt,vt,bt,ft,Ft,Tt,St,Kt,Rt,Et,Lt,Ct,It,wt,xt,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,Bt,Vt,zt,Gt,Qt,Yt,Xt,$t,Jt,Zt,en,ln,tn,nn=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},a={defaultValue:null,kind:"LocalArgument",name:"id"},i={defaultValue:!1,kind:"LocalArgument",name:"withAttachments"},s={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},o={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},c=[{kind:"Variable",name:"conversation_id",variableName:"id"},{kind:"Literal",name:"s",value:28}],d={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},f={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,b],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},K={kind:"InlineFragment",selections:[F,T,S],type:"ApiImage",abstractKey:null},R={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},L={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[R,v,b,E],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null},x={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[C,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null},M={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},z=[q,j,B,V],G={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:z,storageKey:null}],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Y={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:z,storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},le=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],te=[$,S,T,F,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[J,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},Z],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[ee,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:le,storageKey:null}],storageKey:null}],storageKey:null}],ne={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},se={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:te,storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},oe={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},re,V],storageKey:null},ce={kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[u,X,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[Q,{kind:"InlineFragment",selections:te,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ne,ae,ie,se,oe,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[$,ne,se,oe],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},de={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ue={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:le,storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ge={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[de,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},J,Z,V],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ue,ee],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},me,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},pe={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ye={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},_e={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ye,V],storageKey:null},he=[V],ke={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:he,storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Fe={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Te={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ke={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Re=[N],Ee={kind:"InlineFragment",selections:Re,type:"TimelineRichTextCashtag",abstractKey:null},Le={kind:"InlineFragment",selections:[u,V],type:"TimelineRichTextList",abstractKey:null},Ce={kind:"InlineFragment",selections:Re,type:"TimelineRichTextHashtag",abstractKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},we={kind:"InlineFragment",selections:[V,ye,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},Ie,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[de,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},xe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[b],storageKey:null},Me={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Ae={kind:"InlineFragment",selections:[Me,Oe],type:"UserUnavailable",abstractKey:null},De={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},Pe={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Ue={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},ze={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[q,j,V,B],storageKey:null},Ge=[ze],Qe=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:Ge,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:Ge,storageKey:null}],Ye={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:Qe,storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},yl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ee,ue],storageKey:null}],_l=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:yl,storageKey:null}],storageKey:null}],storageKey:null}],hl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:_l,storageKey:null},kl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},vl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:_l,storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},fl={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Cl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:Qe,storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},Ol={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[u,v,Ml],storageKey:null},Al={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[d,xl,Ol],storageKey:null},Dl={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Pl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},Ul={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},Wl={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},Bl=[me,jl],Vl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:Bl,storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},$l={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:he,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:he,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},Zl={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},et={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:yl,storageKey:null},lt={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},tt={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},nt={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},at={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},it={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[tt,nt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[at],storageKey:null}],storageKey:null},st={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},rt={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ot={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},dt=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[st,rt,ot,ct],storageKey:null}],ut={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},v,b,me],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:dt,storageKey:null}],storageKey:null},mt={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},gt=[ot,ct,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],pt={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:gt,storageKey:null}],storageKey:null},yt={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[J,Z,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[st,rt,ct,ot],storageKey:null}],storageKey:null},_t={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},ae,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},re,V],storageKey:null}],storageKey:null},ht={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[R,v,b,B],storageKey:null},kt=[B,N],vt={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:kt,storageKey:null},bt={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:kt,storageKey:null},ft={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},Ft={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Tt={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},St={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:Bl,storageKey:null},Kt={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},Rt={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Et={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},Lt={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},Ct={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},It={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},wt={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},xt={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},V],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[jl,me],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:[u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},v,u,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},V],storageKey:null},Mt={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Ot={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},At={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},Dt={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},Ml],storageKey:null},Pt={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Ut={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Ht={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},Wt={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Nt={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},qt={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},jt={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},Bt={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},Vt={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[R],storageKey:null},zt=[{kind:"Variable",name:"cursor",variableName:"cursor"}],Gt={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},Qt={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},Yt=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,f,Gt],type:"User",abstractKey:null}],storageKey:null},Qt,u],Xt=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[xe,Gt,d,u],type:"User",abstractKey:null},Ae],storageKey:null},u],$t={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Q,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Xt,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Xt,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Jt=[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,$t],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[He,We,Ne,qe,je,Be,Ve,ve,Ye,Xe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,fl,b,Fl,Tl,Sl,V,Kl,Rl,El,Ll,Cl,Il,wl],storageKey:null},Gt,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[d,xl,Ol,u],storageKey:null},Dl,Pl],Zt={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:Jt,storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"user_refs",handleArgs:[{kind:"Literal",name:"isPlural",value:!0}]}],storageKey:null},u],storageKey:null},en=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:Jt,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,$t,fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null},Qt,u],ln=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],tn=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:ln,storageKey:null}],storageKey:null},Zl,et,lt,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[tt,nt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[Q,at],storageKey:null}],storageKey:null},ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],{fragment:{argumentDefinitions:[n,a,i,s,r,o],kind:"Fragment",metadata:null,name:"evolutionDmConversationTimelineQuery",selections:[{alias:null,args:c,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"legacy_conversation_slice",args:null,concreteType:null,kind:"LinkedField",name:"__evolutionDmConversationTimelineQuery_legacy_conversation_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[d,u,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[m,g,p,y,_,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[u,d,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[h,k,v,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[K],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:L,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},C,I,w],storageKey:null},x],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[M,O,A,D,P,v,U,H,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.users_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.participants_snapshot_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.initiating_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,u,N,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[Q,ce,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy"},Al,Dl,Pl],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[Q,u,d,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy"},Al,Dl,Pl],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ul,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Hl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.conversation_control.conversation_owner.legacy"}],storageKey:null},Wl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Nl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},ql,Vl,zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Zl,et,lt,it,ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Zl,et,lt,it,ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],storageKey:null},{kind:"RequiredField",field:ft,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:Ft,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Tt,St,Kt,Rt,Et,Lt,Ct,It,pl,wt,xt,Mt,Ot,At,Dt,{kind:"RequiredField",field:Pt,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Ut,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Ht,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},Wt,Nt,qt,jt,wl,R,Bt,Vt],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[d],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.recipient_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.sender_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,i,o,r,s],kind:"Operation",name:"evolutionDmConversationTimelineQuery",selections:[{alias:null,args:c,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{alias:null,args:zt,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[Q,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[d,u,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[m,g,p,y,_,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[u,d,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[h,k,v,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:Yt,storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[Q,K],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,L,Gt],type:"User",abstractKey:null}],storageKey:null},Qt,u],storageKey:null},C,I,w],storageKey:null},x],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[M,O,A,D,P,v,U,H,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,u,N,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Yt,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[Q,ce,{kind:"InlineFragment",selections:[Y,Zt],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,Zt,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ul,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Hl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[xe,Gt,u],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"conversation_owner"},Wl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:en,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Nl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:en,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},ql,Vl,zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:tn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:tn,storageKey:null},ft,Ft,Tt,St,Kt,Rt,Et,Lt,Ct,It,pl,wt,xt,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,wl,R,Bt,Vt],storageKey:null},Gt,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:ln,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[d,u],type:"Tweet",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:zt,filters:null,handle:"slice",key:"evolutionDmConversationTimelineQuery_legacy_conversation_slice",kind:"LinkedHandle",name:"legacy_conversation_slice"},u],type:"DMConversation",abstractKey:null}],storageKey:null},u],storageKey:null}]},params:{id:"gMJdwyXlmibUo6PPGhZlSA",metadata:{sliceInfoPath:["dm_conversation_by_rest_id","result","legacy_conversation_slice","slice_info"]},name:"evolutionDmConversationTimelineQuery",operationKind:"query",text:null}});nn.hash="3ff92c43005f0752f6bffa53763babc4",e.exports=nn},H4nC:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("MWbm"),o=t("rHpw"),c=t("t62R"),d=t("4n2h");const u=o.a.create((e=>({root:{paddingBottom:e.spaces.space20}}))),m=s.a.d84b485e,g=s.a.be0c83d8;l.a=({entry:e,isCompact:l,isSelected:t=!1,unread:n=!1})=>{const i="follow"===e.reason?m:g,s=Object(d.b)(n),o=Object(d.a)(n,t);return l?a.a.createElement(c.b,{color:o,weight:s},i):a.a.createElement(r.a,{style:u.root},a.a.createElement(c.b,{align:"center",color:o,size:"subtext2",weight:s},i))}},HvW7:function(e,l,t){"use strict";var n=t("IGGJ")(t("yiKp")),a=t("XiYe"),i=t("PJTX"),s=t("ERkP"),r=t("e1/f").commitMutation,o=s.useState,c=s.useEffect,d=s.useRef,u=s.useCallback;e.exports=function(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,t=i(),s=a(),m=d(t),g=d(e),p=d(new Set),y=o(!1),_=y[0],h=y[1],k=u((function(l){m.current===t&&g.current===e&&(p.current.delete(l),s.current&&h(p.current.size>0))}),[t,s,e]);c((function(){m.current===t&&g.current===e||(p.current=new Set,s.current&&h(!1),m.current=t,g.current=e)}),[t,s,e]);var v=u((function(a){var i=l(t,(0,n.default)((0,n.default)({},a),{},{mutation:e,onCompleted:function(e,l){var t;k(i),null===(t=a.onCompleted)||void 0===t||t.call(a,e,l)},onError:function(e){var l;k(i),null===(l=a.onError)||void 0===l||l.call(a,e)},onUnsubscribe:function(){var e;k(i),null===(e=a.onUnsubscribe)||void 0===e||e.call(a)},onNext:function(){var e;null===(e=a.onNext)||void 0===e||e.call(a)}}));return p.current.add(i),s.current&&h(!0),i}),[k,l,t,s,e]);return[v,_]}},"I2k/":function(e,l,t){"use strict";t.d(l,"a",(function(){return s}));var n=t("k49u"),a=t("lRnM"),i=t("LVU8");const s=e=>({[n.a.ClientNotPermitted]:{customAction:()=>(Object(i.d)("/messages/",{statusCode:401}),Object(a.v)(e))}})},"IMA+":function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("SV7d")),s=t("ERkP"),r=t.n(s),o=t("TIdA"),c=t("t62R"),d=t("5mJL"),u=t("DNho"),m=t("nBUg"),g=t("qjak"),p=t("ir4X"),y=t("htQn"),_=t("e5HP"),h=t("FBXD"),k=t("Nqmc"),v=t("rHpw"),b=t("oSwX"),f=t("1I0O"),F=t("pBrB"),T=t("jV+4"),S=t("MWbm");const K=Object.freeze({TWEET:"tweets",USER:"users"}),R=Object.freeze({UserCompact:"UserCompact",UserConcise:"UserConcise",UserDetailed:"UserDetailed",ExperimentalUserTypeahead:"ExperimentalUserTypeahead"}),E=o.a.createLayoutCache(),L={viewType:"user_cell"};class C extends r.a.PureComponent{constructor(...e){super(...e),this._renderUserName=()=>{const{badgeContext:e,disabledMessage:l,displayNameLabel:t,isBlocking:n,isDisabled:a,isFollowedBy:i,isProtected:s,isVerified:o,name:d,onScreenNameClick:u,promotedContent:m,promotedItemType:g,screenName:p,screenNameSuffix:y,translatorType:_,withFollowsYou:h,withLink:k}=this.props,v=r.a.createElement(T.a,{badgeContext:e,displayNameLabel:t,isProtected:s,isVerified:o,name:d,onLinkClick:u,promotedContent:g===K.TWEET?m:void 0,screenName:p,screenNameSuffix:y,translatorType:_,withFollowsYou:h&&i,withHoverCard:!n&&!a&&k,withLink:!a&&k,withScreenName:!l,withStackedLayout:!0});return l?r.a.createElement(S.a,{style:I.disabledMessageContainer},v,r.a.createElement(c.b,{color:"gray700"},l)):v},this._renderSocialContext=()=>{const{avatarSize:e,displayMode:l,socialContext:t}=this.props;return t?r.a.createElement(m.b.UseProps,null,(n=>r.a.createElement(k.a,{avatarSize:e,contextType:t.contextType,iconSize:"large",link:t.link,style:I.socialContext,text:t.text,weight:"bold",withLeftPadding:!n.socialContextRefreshEnabled()&&l!==R.ExperimentalUserTypeahead}))):null},this._renderUserTypeaheadSocialContext=()=>{const{socialContext:e}=this.props,{Icon:l,text:t}=e&&Object(g.a)({link:e.link,text:e.text,iconSize:"small",contextType:e.contextType})||{};return e?r.a.createElement(S.a,{style:I.userTypeaheadSocialContext},r.a.createElement(S.a,{style:I.userTypeaheadSocialContextIcon},l),r.a.createElement(c.b,{color:"gray700",numberOfLines:1,style:I.userTypeaheadSocialContextText},t)):null},this._renderHighlightedUserLabel=()=>{const{highlightedLabel:e}=this.props;return e?r.a.createElement(p.a,{label:e}):null},this._isEligibleForBio=()=>{const{displayMode:e}=this.props;return-1!==[R.UserDetailed,R.UserConcise].indexOf(e)},this._handleKeyPress=e=>{e.defaultPrevented||"Enter"!==e.key||this._handleClick(e)},this._handleClick=Object(h.a)((e=>{const{onCellClick:l}=this.props;e.preventDefault(),l&&l()}))}render(){const{accessibilityLabel:e,accessibilityState:l,avatarDecoration:t,avatarSize:n,avatarUri:s,bottomControl:o,decoration:c,displayMode:m,isBlocking:g,isDisabled:p,onAvatarClick:h,onCellClick:k,onScreenNameClick:v,presenceIndicator:F,promotedContent:T,promotedItemType:C,screenName:w,style:x,testID:M,userId:O,withDarkerInteractiveBackground:A,withInteractiveStyling:D,withLink:P,withUsernameCenterAligned:U}=this.props,H=P&&!g,W=m===R.UserCompact||U,N=m===R.ExperimentalUserTypeahead,q=T&&C===K.USER&&"earned"!==(T.disclosure_type&&T.disclosure_type.toLowerCase())?r.a.createElement(_.a,{contentAuthorId:O,promotedContent:T,style:I.promotedIndicator}):null,j={accessibilityHidden:!0,decoration:t,focusable:!1,imageLayoutCache:E,onClick:h,onHoverCardScreenNameClick:v,promotedContent:T,screenName:w,style:I.avatar,uri:s,withHoverCard:H,withLink:P},B=r.a.createElement(u.a.Consumer,null,(({avatarSize:e})=>F?r.a.createElement(f.a,a()({},j,F,{size:e})):r.a.createElement(b.default,a()({size:e},j)))),V=l&&"boolean"==typeof l.checked,z=void 0!==k,G=(V?"radio":z&&"button")||"listitem",Q=this._renderUserName(),Y=this._renderHighlightedUserLabel(),X=this._renderBio(),$=Y||X||q||o,J=r.a.createElement(r.a.Fragment,null,Y,X,q,o?r.a.createElement(S.a,{style:I.bottomControl},o):null);return r.a.createElement(i.a,{behavioralEventContext:L},r.a.createElement(y.a,{accessibilityLabel:e,accessibilityRole:G,accessibilityState:l,disabled:!!p,focusable:V||z,onClick:this._handleClick,onKeyPress:this._handleKeyPress,pointerEvents:p?"none":void 0,style:[I.root,x],testID:M,withDarkerInteractiveBackground:A,withInteractiveStyling:null!=D?D:!!k},N?null:this._renderSocialContext(),r.a.createElement(d.a,{avatarCell:B,avatarCellStyle:[I.avatarColumn,W&&I.bodyColumnCentered],avatarSize:N?"xxxLarge":n,cellStyle:[I.bodyColumn,W&&I.bodyColumnCentered]},r.a.createElement(S.a,{style:I.body},Q,c),W?null:J,N?this._renderUserTypeaheadSocialContext():null),$&&W?r.a.createElement(d.a,{avatarCell:null,avatarCellStyle:I.avatarColumn,cellStyle:I.bodyColumn},J):null))}_renderBio(){const{description:e,displayMode:l,entities:t,userId:n,withheldDescription:a,withheldEntities:i}=this.props;return t&&e&&this._isEligibleForBio()?r.a.createElement(F.a,{description:e,entities:t,isConcise:l===R.UserConcise,style:I.bio,userId:n,withheldDescription:a,withheldEntities:i}):null}}C.defaultProps={testID:"UserCell",withLink:!0};const I=v.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},avatarColumn:{justifyContent:"flex-start"},bodyColumn:{flexGrow:1},bodyColumnCentered:{justifyContent:"center"},avatar:{display:"block",width:"100%"},bio:{paddingTop:e.spaces.space4,whiteSpace:"normal"},socialContext:{marginBottom:e.spaces.space4},userTypeaheadSocialContext:{alignItems:"center",flexDirection:"row",textColor:e.colors.gray700},userTypeaheadSocialContextIcon:{flexShrink:0},userTypeaheadSocialContextText:{paddingLeft:e.spaces.space2},body:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},promotedIndicator:{margin:0,paddingTop:e.spaces.space4,paddingBottom:0,paddingHorizontal:0},bottomControl:{paddingTop:e.spaces.space4},disabledMessageContainer:{flexShrink:1}})));l.a=C},IpT4:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M22.238 2.257c-.293-.293-.768-.293-1.06 0L2.52 20.917c-.293.292-.293.767 0 1.06.146.146.338.22.53.22s.384-.073.53-.22l18.658-18.66c.293-.293.293-.767 0-1.06zM2.986 17.82c.155 0 .312-.048.446-.148.112-.083 2.752-2.104 2.708-7.248-.02-2.16.643-3.98 1.913-5.266 1.093-1.107 2.577-1.72 4.18-1.727 1.325.006 2.562.42 3.578 1.195.137.104.297.153.455.153.227 0 .45-.102.598-.295.25-.33.188-.8-.142-1.052-1.278-.975-2.828-1.493-4.483-1.5h-.003c-2.008.008-3.87.78-5.248 2.173-1.536 1.551-2.368 3.8-2.348 6.332.037 4.33-2.02 5.967-2.103 6.03-.332.247-.4.718-.154 1.05.147.2.374.303.603.303zm16.844-7.382c.002-.246-.003-.487-.017-.723-.024-.414-.387-.74-.792-.706-.413.023-.728.378-.705.79.012.205.017.413.015.624-.024 2.868.785 4.765 1.526 5.896h-8.314c-.414 0-.75.336-.75.75s.336.75.75.75h3.522c-.1 1.48-1.323 2.66-2.828 2.66-1.003 0-1.913-.514-2.436-1.372-.214-.354-.675-.467-1.03-.25-.354.214-.467.675-.25 1.03.795 1.31 2.185 2.09 3.716 2.09 2.332 0 4.227-1.85 4.328-4.158h4.922c.32 0 .604-.206.707-.51.104-.305 0-.643-.255-.84-.087-.066-2.145-1.7-2.108-6.032z"})));r.metadata={width:24,height:24},l.a=r},J2UM:function(e,l,t){"use strict";var n=t("0JOx");l.a=()=>Object(n.h)().then((({inputDetect:e})=>e))},K8Kw:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"DMConversationSearchTabGroupsQuery",selections:[{alias:"dm_group_convo_slice_result",args:[a={kind:"Variable",name:"query",variableName:"query"},i={kind:"Literal",name:"s",value:21}],concreteType:null,kind:"LinkedField",name:"__DMConversationSearchTabGroupsQuery_dm_group_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[d,u={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"dm_group_convo_slice_result.items.dm_convo_search.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:m,action:"THROW",path:"dm_group_convo_slice_result.items.dm_convo_search.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:y={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},d,u,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"dm_group_convo_slice_result.items.dm_convo_search.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},v={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},b={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},f={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMConversationSearchTabGroupsQuery",selections:[{alias:null,args:F=[{kind:"Variable",name:"cursor",variableName:"cursor"},a,i],concreteType:null,kind:"LinkedField",name:"dm_group_convo_slice_result",plural:!1,selections:[T={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMGroupConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[s,r,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c,d,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:R=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[T,{kind:"InlineFragment",selections:[s,r,m,S={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},K={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},s],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:R,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[T,p],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[T,{kind:"InlineFragment",selections:[s,r,y,S],type:"User",abstractKey:null}],storageKey:null},K,s],storageKey:null},_,h,k],storageKey:null},v],storageKey:null}],storageKey:null},b],storageKey:null},f],type:"DMGroupConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:F,filters:["query","s"],handle:"slice",key:"DMConversationSearchTabGroupsQuery_dm_group_convo_slice_result",kind:"LinkedHandle",name:"dm_group_convo_slice_result"}]},params:{id:"8D8KoSq5q9d5Su3emu2dwg",metadata:{sliceInfoPath:["dm_group_convo_slice_result","slice_info"]},name:"DMConversationSearchTabGroupsQuery",operationKind:"query",text:null}};E.hash="168f0d588de606cabd620a5a97abc402",e.exports=E},KWCo:function(e,l,t){"use strict";var n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMConversationAvatar",selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"participants.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null};a.hash="730d72814d575d9d07f0685f80113703",e.exports=a},Ka95:function(e,l,t){"use strict";t.d(l,"a",(function(){return ke}));t("kYxP");var n,a=t("ERkP"),i=t.n(a),s=t("BUB3"),r=t("1YZw"),o=t("v6aA"),c=t("6M7t"),d=t("2Aal"),u=(t("YWiL"),t("CVPS")),m=t.n(u);const g=void 0!==n?n:n=t("KWCo");function p(e){var l,t;const{conversation:n,conversationId:a,conversationType:s,perspective:r,size:o,withBadge:u}=e,{metadata:p,participants:y}=m()(g,n),_=null==p||null==(l=p.avatar)?void 0:l.media_info,h=_&&"ApiImage"===_.__typename?{height:_.original_img_height,width:_.original_img_width,url:_.original_img_url}:void 0,k=y||[],v=[];for(let e=0;e<k.length;e++){var b,f;const l=k[e];if("User"===(null==l||null==(b=l.user_results)||null==(f=b.result)?void 0:f.__typename)){const{legacy:e}=l.user_results.result;if(e){const{id_str:l,profile_image_url_https:t,screen_name:n}=e;v.push({id_str:l,profile_image_url_https:t,screen_name:n})}}}const F=v.filter((e=>e.id_str!==r)).slice(0,d.a),T=Object(d.b)(h)||Object(d.c)(F,o),S=(null==(t=F[0])?void 0:t.screen_name)||"",K=Object(d.e)(a,S,s),R=u?v.length-1:0;return T?i.a.createElement(c.a,{avatar:T,avatarLink:K,badgeCount:R}):null}var y=t("OhSZ"),_=t("t62R"),h=t("zQEV"),k=t("4n2h");function v({entry:e,entryType:l,isSelected:t=!1,perspective:n,unread:a=!1,users:s}){const r=Object(h.a)(e,l,n,s),o=Object(k.b)(a),c=Object(k.a)(a,t);return i.a.createElement(_.b,{color:c,weight:o},r)}var b,f=t("ijJS"),F=t("XYIr");const T=void 0!==b?b:b=t("VGyq");function S({dm:e,isGroupDM:l,isSelected:t,perspective:n,senderId:a,senderName:s,unread:r}){const{attachments:o,text:c}=m()(T,e),d=o?o[0]:null,u=d&&(d.card||d.media||d.tweet_results),g=n===a,p=Boolean(u&&g)||Boolean(l&&!g);let y,_=Object(F.a)(s,p,c);if(d)if(d.card)_=Object(F.d)(g,s,p);else if(d.tweet_results)_=Object(F.i)(g,s,p);else if(d.media){const e=d.media.media_info;if("ApiGif"===(null==e?void 0:e.__typename))y=e.alt_text,_=Object(F.c)(g,s,p);else if("ApiImage"===(null==e?void 0:e.__typename))y=e.alt_text,_=Object(F.e)(g,s,p);else if("ApiVideo"===(null==e?void 0:e.__typename)){var h;y=null==(h=e.preview_image)?void 0:h.alt_text,_=Object(F.g)(g,s,p)}}return i.a.createElement(f.a,{accessibilityLabel:y,content:_,isSelected:t,unread:r})}var K,R=t("/8XK"),E=t("pHkl");const L=void 0!==K?K:K=t("vL4t"),C=(e,l)=>({created_at:"",description:"",entities:{description:{}},followed_by:!1,followers_count:0,following:!1,friends_count:0,id:parseInt(l,10),id_str:l,name:e||"",profile_image_url_https:"",protected:!1,screen_name:"",verified:!1});function I({entry:e,isGroupDM:l,isSelected:t,perspective:n,type:a,unread:s}){var r,o,c,d,u,g;const{legacy:p}=m()(L,e);let y=(null==p||null==(r=p.initiating_user_results)?void 0:r.rest_id)||"",_=(null==p||null==(o=p.initiating_user_results)||null==(c=o.result)||null==(d=c.legacy)?void 0:d.name)||"";const h=null==p?void 0:p.event_id;if(null!=p&&null!=(u=p.event_detail)&&u.is_spam_hide)return Object(R.a)(s,t);if(null!=p&&null!=(g=p.event_detail)&&g.dm&&a===E.e.MESSAGE_CREATE)return i.a.createElement(S,{dm:p.event_detail.dm,isGroupDM:l,isSelected:t,perspective:n,senderId:y,senderName:_,unread:s});if([E.e.CONVERSATION_NAME_UPDATE,E.e.PARTICIPANTS_JOIN,E.e.PARTICIPANTS_LEAVE].includes(a)){var k;const e=E.f[a];let l={},r=[];if(a===E.e.PARTICIPANTS_LEAVE){var b,f,F,T,K,I,w,x,M,O;if(null==p||null==(b=p.event_detail)||!b.users_results||(null==p||null==(f=p.event_detail)?void 0:f.users_results.length)<1)return null;if(y=null==p||null==(F=p.event_detail)||null==(T=F.users_results[0])||null==(K=T.result)||null==(I=K.legacy)?void 0:I.id_str,_=null==p||null==(w=p.event_detail)||null==(x=w.users_results[0])||null==(M=x.result)||null==(O=M.legacy)?void 0:O.name,!y)return null;r=[{user_id:y}],l={[y]:{name:_}}}else{l={[y]:C(_,y)};for(const e of(null==p||null==(A=p.event_detail)?void 0:A.users_results)||[]){var A,D,P,U,H;const t=null==e||null==(D=e.result)||null==(P=D.legacy)?void 0:P.id_str,n=null==e||null==(U=e.result)||null==(H=U.legacy)?void 0:H.name;t&&n&&(l[t]=C(n,t),r.push({user_id:t}))}}const o={by_user_id:y,conversation_name:(null==p||null==(k=p.event_detail)?void 0:k.name)||"",id:h||"",participants:r,sender_id:y,time:"",type:e};return i.a.createElement(v,{entry:o,entryType:e,isSelected:t,perspective:n,unread:s,users:l})}return null}var w=t("h3MB"),x=t("XnpN"),M=t("X/yg"),O=t("3XMw"),A=t.n(O),D=t("IpT4"),P=t("AQ79"),U=t("t0aI"),H=t("sNn6"),W=t("VcIV"),N=t("NjAB"),q=t("gEJU"),j=t("RqPI"),B=t("YemM"),V=t("Irs7"),z=t("0KEI"),G=t("zCf4"),Q=t("MWbm"),Y=t("8hvq");var X,$,J,Z=t("Znyr"),ee=t("GBcw"),le=t("cm6r"),te=t("htQn"),ne=t("5mJL"),ae=t("6u/5"),ie=t.n(ae),se=t("HvW7"),re=t.n(se),oe=t("PJTX"),ce=t.n(oe),de=t("MMRb"),ue=t("q8SM"),me=t("uDfI");const ge=A.a.d98e066c,pe=A.a.j302dba8,ye=void 0!==X?X:X=t("Sy9O"),_e=void 0!==$?$:$=t("AYcr"),he=void 0!==J?J:J=t("whlN");function ke({conversationIds:e,dm_conversation:l,dmDrawerOnClick:t,inboxType:n,isMessageItem:a,isPinned:c,pinnedSliceId:d}){var u,g;const _=Object(V.b)(),h=Object(z.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM_EVOLUTION"),k=Object(me.c)(),v=ce()(),b=Object(G.g)(),[f,F]=i.a.useState(!1),T=m()(ye,l),S=Object(N.b)([T],[w.a]).entities.conversations[null==T||null==(u=T.legacy)?void 0:u.conversation_id],K=((null==T||null==(g=T.legacy_conversation_slice)?void 0:g.items)||[]).map((e=>null==e?void 0:e.dm_event)).find((e=>{var l;return E.d.includes(null==e||null==(l=e.legacy)?void 0:l.event_type)})),{featureSwitches:R}=i.a.useContext(o.a),L=R.getNumberValue("dm_conversation_labels_max_pinned_count"),C=R.isTrue("dm_vdl_enabled")&&R.isTrue("dm_vdl_inbox_p0_enabled"),O=R.isTrue("dm_conversation_labels_pinned_enabled")&&R.isTrue("direct_messages_incremental_holdback_2022h1"),{conversation_id:A,id:X,last_read_event_id:$,last_readable_event_id:J,muted:ae,participants:se,type:oe}=S,ke=Object(me.d)(j.s)||"",ve=oe===de.CONVERSATION_TYPE.GROUP,be=e.findIndex((e=>e===X))+1,fe=Object.keys(se).length,Fe=!J||!($&&Object(U.c)($,J)),Te=C&&ve,Se=ve?"0":(()=>{const e=Object(x.a)(S,ke).map((({user:e})=>e)),l=e&&e[0]||null;return l?l.id_str:""})();i.a.useEffect((()=>{k(Object(de.updateLastSeenEventIdEvolution)(J,n)).catch(h({}))}),[h,k,J,n]);const Ke=e=>{_.scribe({element:"thread",action:"click",data:{event_value:0,conversation_id:A,conversation_participant_count:fe,conversation_type:ve?E.l.GROUP:E.l.ONE_TO_ONE,position:be}}),Fe&&k(Object(de.updateConversationReadState)(A)).then((()=>{ie()(v,(e=>{((e,l,t)=>{const n=t.get(e);if(!n)return;const a=n.getLinkedRecord("perspectival_conversation_metadata");a&&a.setValue(l,"last_read_event_id")})(X,J,e)}))})).catch(h({})),t&&t(e,A)},[Re]=re()(_e),Ee=i.a.useCallback((()=>{Re({variables:{conversation_id:A},onCompleted(e){var l,t;if("DMConversationLabelUnavailable"===(null==(l=e.add_dm_conversation_label_v3)?void 0:l.__typename)){const{failure_reason:l}=e.add_dm_conversation_label_v3;_.scribe({element:"thread",action:"error_shown",data:{error_type:E.i.MAX_PINS_REACHED}}),"ExceededMaxPinnedConversations"===l&&F(!0)}else"DMConversationLabelInfo"===(null==(t=e.add_dm_conversation_label_v3)?void 0:t.__typename)&&k(Object(r.b)({ariaOnly:!0,text:ge}))},updater(e,l){var t;"DMConversationLabelInfo"===(null==l||null==(t=l.add_dm_conversation_label_v3)?void 0:t.__typename)&&((e,l,t)=>{if(!t)return;const n=l.get(e),a=l.getRootField("add_dm_conversation_label_v3"),i=l.get(t);if(!n||!a||!i)return;const s=n.getLinkedRecord("result");if(!s)return;const r=n.getLinkedRecords("labels")||[];s.setLinkedRecords([...r,a],"labels"),n.setLinkedRecord(s,"result");const o=(i.getLinkedRecords("items_results")||[]).concat(n);i.setLinkedRecords(o,"items_results")})(X,e,d)},onError(e){h(ue.a)(e)}})}),[_,A,h,k,X,Re,d]),[Le]=re()(he),Ce=i.a.useCallback((()=>{Le({variables:{conversation_id:A},onCompleted(){k(Object(r.b)({ariaOnly:!0,text:pe}))},updater(e){((e,l)=>{const t=l.get(e);if(!t)return;const n=t.getLinkedRecord("result");if(!n)return;const a=n.getLinkedRecords("labels")||[],i=[];a.forEach((e=>{e&&e.getValue("label_type")!==P.a.PINNED&&i.push(e)})),n.setLinkedRecords(i,"labels")})(X,e),((e,l,t)=>{if(!t)return;const n=l.get(e),a=l.get(t);if(!n||!a)return;const i=a.getLinkedRecords("items_results")||[],s=[];i.forEach((l=>{if(!l)return;const t=l.getLinkedRecord("result");if(!t)return;const n=t.getValue("__id");n!==e&&n!==`DMConversation:${e}`&&s.push(l)})),a.setLinkedRecords(s,"items_results")})(X,e,d)},onError(e){h(ue.b)(e)}})}),[A,h,k,X,d,Le]),Ie=({isFocused:e,isFocusedWithin:l,isHovered:t})=>i.a.createElement(W.a,{conversationId:A,conversationType:oe,inboxType:n,isHovered:e||l||t,isPinned:c,isSnoozed:ae,participantCount:fe,position:be,relayId:X,togglePinStateEvolution:c?Ce:Ee,userId:Se}),we=()=>{var e;const l=Number(null==K||null==(e=K.legacy)?void 0:e.created_at_millis),t=[C||a?B.a.inlineNotificationsDisabledIcon:B.a.notificationsDisabledIcon,C&&B.a.inlineNotificationsDisabledIconVDL];return i.a.createElement(Q.a,{style:C&&B.a.inlineTimestamp},l?i.a.createElement(ee.a,{timestamp:l}):null,ae?i.a.createElement(D.a,{style:t}):null)},xe=()=>{const e=Object(M.m)(S,ke);return i.a.createElement(Y.a,{conversationId:A,conversationType:oe,inboxType:n,participant:e,participantCount:fe,position:be,relayId:X,userId:Se})},Me=e=>{const l=[B.a.root,Fe&&!C&&B.a.unread,e&&C&&B.a.active];let t="text",s="bold";return C&&!Fe&&(t="gray900",s="medium"),C&&e&&(t="text",s="medium"),i.a.createElement(le.a,null,(({isFocused:r,isFocusedWithin:o,isHovered:c})=>{var d;return i.a.createElement(te.a,{accessibilityRole:"none",accessibilityState:{selected:e},link:{pathname:`/messages/${A}`,anchorless:!0,state:{...b.state,entryPoint:a?null==K?void 0:K.rest_id:null,position:be,isMessageItem:a}},onPress:Ke,style:l},i.a.createElement(ne.a,{avatarCell:i.a.createElement(p,{conversation:T,conversationId:A,conversationType:oe,perspective:ke,withBadge:Te}),avatarSize:"xxLarge"},i.a.createElement(Q.a,{style:B.a.bodyColumn},i.a.createElement(Q.a,{style:B.a.titleContainer},i.a.createElement(y.b,{conversation:S,perspective:ke,renderTimestamp:()=>we(),textColor:t,titleWeight:s,withScreenName:!0,withVDLRefresh:C}),i.a.createElement(Q.a,{style:B.a.snippet},K?i.a.createElement(I,{entry:K,isGroupDM:ve,isSelected:C&&e,perspective:ke,type:(null==(d=K.legacy)?void 0:d.event_type)||E.e.MESSAGE_CREATE,unread:C&&Fe}):null)),i.a.createElement(Q.a,{style:B.a.endCell},(()=>{const e=Fe?i.a.createElement(Z.a,{pip:!0,style:B.a.unreadMessagePip,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;return C?e:we()})()),(({isFocused:e,isFocusedWithin:l,isHovered:t})=>{switch(n){case P.d.PRIMARY:return O?Ie({isFocused:e,isFocusedWithin:l,isHovered:t}):null;case P.d.SECONDARY:case P.d.TERTIARY:return xe();default:return null}})({isFocused:r,isFocusedWithin:o,isHovered:c}))))}))};return i.a.createElement(i.a.Fragment,null,f?i.a.createElement(q.a,{count:L,setShowPinError:F}):null,C?i.a.createElement(H.a,{exact:!1,path:`/messages/${A}`},Me):i.a.createElement(s.a,{exact:!1,path:`/messages/${A}`},Me))}},KqB4:function(e,l,t){"use strict";var n=t("IGGJ");Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,l){for(var t=[],n=(0,a.default)(e,l),i=0;i<n.length;i++)t.push(n[i].url);return t};var a=n(t("vwfs"));e.exports=l.default},KyXQ:function(e,l,t){"use strict";t.r(l),t.d(l,"ReportMessageListQuery",(function(){return h})),t.d(l,"default",(function(){return v}));t("kYxP");var n,a=t("ERkP"),i=t.n(a),s=t("h3MB"),r=(t("YWiL"),t("NjAB")),o=t("Fr3L"),c=t("RqPI"),d=t("s8G+"),u=t("zCf4"),m=t("uDfI"),g=t("DQzJ"),p=t("MWbm"),y=t("t62R"),_=t("rHpw");const h=void 0!==n?n:n=t("cayG");function k({userId:e}){const l=Object(m.d)(c.s)||"";let t="";if(e&&l){t=parseInt(l,10)>parseInt(e,10)?`${e}-${l}`:`${l}-${e}`}const n=Object(d.a)("rito_safety_mode_blocked_profile_enabled"),a=Object(d.a)("super_follow_user_api_enabled"),{data:o}=Object(g.a)(h,{id:t,withSafetyModeUserFields:n,withSuperFollowsUserFields:a});if(!o||!t)return null;const u=(e=>{var l,t,n;const a=null==e||null==(l=e.dm_conversation_by_rest_id)||null==(t=l.result)||null==(n=t.legacy_conversation_slice)?void 0:n.items;if(!a||!a.length)return[];const i=Object(r.b)(a,[s.b]).entities.entries,o=[];for(const e in i)o.push(i[e]);return o})(o);return i.a.createElement(p.a,{style:b.reportMessageListContainer},u.map((e=>{var t,n,a;if((null==(t=e.message_data)?void 0:t.sender_id)!==l)return i.a.createElement(p.a,{key:null==e||null==(n=e.message_data)?void 0:n.id,style:b.reportMessageListSingleMessage},i.a.createElement(y.b,null,null==(a=e.message_data)?void 0:a.text))})))}function v(){const{userId:e}=Object(u.h)();return e?i.a.createElement(o.a,{errorConfig:{context:"DM_REPORT_MESSAGE_LIST"}},i.a.createElement(k,{userId:e})):null}const b=_.a.create((e=>({reportMessageListContainer:{backgroundColor:e.colors.cellBackground,height:"600px",overflowY:"auto",padding:"5ex",width:"600px"},reportMessageListSingleMessage:{borderBottomWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,display:"block",padding:e.spaces.space12}})))},LCtV:function(e,l,t){"use strict";t.d(l,"a",(function(){return y}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("mN6z"),o=t("Qwev"),c=t("rHpw"),d=t("1auM"),u=t("ude7"),m=t("U+bB"),g=t("MWbm");const p=s.a.gff1f69e,y=Object.freeze({INFINITE:"infinite",MEDIUM:"medium",NONE:"none"});class _ extends a.a.Component{constructor(...e){super(...e),this.state={imagePreviewUrl:null},this._getImageSrc=()=>{const{enableGif:e,mediaItem:l}=this.props,{imagePreviewUrl:t}=this.state;if(l&&l.mediaFile)return l.mediaFile.isGif&&!e?t:l.mediaFile.url}}componentDidUpdate(){const{enableGif:e,mediaItem:{mediaFile:l}}=this.props,{imagePreviewUrl:t}=this.state;e||t||l instanceof d.a&&l.isGif&&Object(u.a)(l).then((e=>{this.setState({imagePreviewUrl:e})}))}shouldComponentUpdate(e,l){return!Object(r.a)(e,this.props)||!Object(r.a)(l,this.state)}render(){const{borderRadius:e,enableGif:l,mediaItem:t,onClick:n,resizeMode:i}=this.props,{imagePreviewUrl:s}=this.state||{},r=t.mediaFile&&t.mediaFile.isGif&&!l&&!s,c=t.needsProcessing||r,d=[k.root,h[e],c&&k.loadingBorder],u=this._getImageSrc();return a.a.createElement(g.a,{onClick:n,style:d},c||!u?a.a.createElement(o.a,{accessibilityLabel:p,style:k.activityIndicator}):a.a.createElement(m.a,{resizeMode:i,source:u,style:k.image}))}}_.defaultProps={borderRadius:y.NONE,enableGif:!0,resizeMode:"cover"};const h=c.a.create((e=>({[y.INFINITE]:{borderRadius:e.borderRadii.infinite},[y.MEDIUM]:{borderRadius:e.borderRadii.small},[y.NONE]:{borderRadius:e.borderRadii.none}}))),k=c.a.create((e=>({root:{borderRadius:e.borderRadii.xLarge,borderStyle:"solid",borderWidth:e.borderWidths.none,borderColor:"transparent",maxWidth:"100%",height:"100%",overflow:"hidden"},image:{display:"block",height:"100%",width:"100%"},loadingBorder:{borderColor:e.colors.gray300},activityIndicator:{height:"100%"}})));l.b=_},Lz2T:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("PnKw"),o=t("vYiB"),c=t("X3+4"),d=t("rcen"),u=t("k89r");function m(e){const{bodyRichText:l,bodyText:t,onImpression:n,primaryAction:i,titleRichText:m,titleText:g,...p}=e,y=Object(u.a)(),_=()=>{y.scribe({action:"click"})},h=m?s.a.createElement(d.a,{entities:m.entities,onEntityClick:_,text:m.text}):g&&g.length?g:null,k=l?s.a.createElement(d.a,{entities:l.entities,onEntityClick:_,text:l.text}):t&&t.length?t:null,v=e=>({...i,onClick:l=>{(null==i?void 0:i.onClick)&&i.onClick(l),e(l)}}),b=s.a.createElement(c.a.Consumer,null,(({handleNextSlide:e})=>s.a.createElement(r.a,a()({},p,{headline:h,primaryAction:i?v(e):void 0,subtext:k}))));return"function"==typeof n?s.a.createElement(o.a,{onImpression:n},b):b}m.defaultProps={shouldRenderBorder:!1},l.a=m},M2mT:function(e,l,t){"use strict";t("kYxP");var n=t("+/5o"),a=t("ERkP"),i=t.n(a),s=t("HPNB"),r=t("VAZu"),o=t("wiP2"),c=t("Es6L"),d=t("rHpw");var u=d.a.create((e=>({fill:{flex:1,alignSelf:"stretch"},viewportView:{...d.a.absoluteFillObject,overflowY:"auto"},appBarContainer:{position:"sticky",top:0,backfaceVisibility:"hidden",zIndex:e.componentZIndices.appBarZIndex}}))),m=t("MWbm"),g=t("yw4N"),p=t("TnY3"),y=t("cHvH"),_=t("3xLC");class h extends i.a.Component{constructor(...e){super(...e),this._renderChildren=()=>{const{children:e}=this.props;return this.context.rootDetailPerColumnScroll?i.a.createElement(m.a,{style:u.fill},i.a.createElement(g.a,{style:u.viewportView},this._renderInlineNav({isTwoColumnLayout:!0}),e)):e}}render(){return i.a.createElement(y.a,null,(({windowWidth:e})=>s.a.isTwoColumnLayout(e)?this._renderForTwoColumnLayout():this._renderForOneColumnLayout()))}_renderForOneColumnLayout(){const{appBarStyle:e,children:l,leftControl:t,screenType:n,showSubtitleOnRoot:a,showSubtitleOnWideDetail:s,withBottomBorder:r,withDetailOpen:d,...u}=this.props;return i.a.createElement(i.a.Fragment,null,Object(c.a)()?this._renderInlineNav({isTwoColumnLayout:!1}):i.a.createElement(o.a.Configure,u),l)}_renderForTwoColumnLayout(){const e=this.context.rootDetailPerColumnScroll;return i.a.createElement(i.a.Fragment,null,!e&&this._renderInlineNav({isTwoColumnLayout:!0}),this._renderChildren())}_renderInlineNav({isTwoColumnLayout:e}){const{SideNavButton:l,TabBar:t,TeamsSwitcher:a,appBarStyle:s,backLocation:c,documentTitle:d,headerless:g,history:p,leftControl:y,middleControl:_,onBackClick:h,rightControl:k,screenType:v,searchBoxOptions:b,secondaryBar:f,showSubtitleOnRoot:F,showSubtitleOnWideDetail:T,subtitle:S,title:K,titleIconCell:R,titleIconCellSize:E,withDetailOpen:L,withSearchBox:C,withTweetButton:I}=this.props,w="root"===v,x="secondaryRoot"===v,M="primaryDetail"===v,O=M&&T||w&&F,A=w||M&&e,D=w?n.c:M?n.a:void 0,P=i.a.createElement(m.a,{style:u.appBarContainer},i.a.createElement(r.a,{backLocation:c,fixed:!1,hideBackButton:A,history:p,leftControl:y,middleControl:_,onBackClick:h,rightControl:k,secondaryBar:f,style:s,subtitle:O?S:void 0,title:K,titleDomId:D,titleIconCell:R,titleIconCellSize:E})),U=w||x&&L?null:i.a.createElement(o.a.Configure,{SideNavButton:l,TabBar:t,TeamsSwitcher:a,backLocation:c,documentTitle:d,headerless:g,middleControl:_,onBackClick:h,rightControl:k,searchBoxOptions:b,subtitle:S,title:K,withSearchBox:C,withTweetButton:I});return i.a.createElement(i.a.Fragment,null,U,P)}}h.contextType=_.a,h.defaultProps={screenType:"secondaryDetail",showSubtitleOnWideDetail:!0};l.a=Object(p.a)(h)},MLl7:function(e,l,t){"use strict";t.d(l,"a",(function(){return n})),t.d(l,"b",(function(){return a})),t.d(l,"c",(function(){return i}));const n=Object.freeze({Composition:"composition",DMComposition:"dm_composition"}),a=e=>Object.values(n).indexOf(e)>=0,i=(e,l)=>"boolean"==typeof e?e:l},"Mbn/":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M3.5 5.25H2c-.414 0-.75.336-.75.75s.336.75.75.75h1.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm18.5 12H7.5c-.414 0-.75-.337-.75-.75V2c0-.414-.336-.75-.75-.75s-.75.336-.75.75v14.5c0 1.24 1.01 2.25 2.25 2.25H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-4 2.5c-.414 0-.75.336-.75.75V22c0 .414.336.75.75.75s.75-.336.75-.75v-1.5c0-.414-.336-.75-.75-.75z"}),a.a.createElement("path",{d:"M8.5 6.75h8c.414 0 .75.337.75.75v8c0 .414.336.75.75.75s.75-.336.75-.75v-8c0-1.24-1.01-2.25-2.25-2.25h-8c-.414 0-.75.336-.75.75s.336.75.75.75z"})));r.metadata={width:24,height:24},l.a=r},OOE2:function(e,l,t){"use strict";t.d(l,"b",(function(){return T})),t.d(l,"c",(function(){return S})),t.d(l,"a",(function(){return K}));var n=t("ERkP"),a=t.n(n),i=t("v6aA"),s=t("3XMw"),r=t.n(s),o=t("Lsrn"),c=t("k/Ka");const d=(e={})=>Object(c.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[o.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M20.075 10.12c-.414 0-.75.337-.75.75v8.08c0 .413-.337.75-.75.75H4.095c-.412 0-.75-.337-.75-.75V8.292l6.778 4.518c.368.247.79.37 1.213.37.422 0 .844-.123 1.212-.368l4.53-3.014c.336-.223.428-.676.204-1.012-.223-.334-.675-.427-1.012-.203l-4.53 3.015c-.246.162-.563.163-.808 0l-7.586-5.06V5.496c0-.414.337-.75.75-.75h8.092c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H4.096c-1.24 0-2.25 1.01-2.25 2.25V18.95c0 1.24 1.01 2.25 2.25 2.25h14.48c1.24 0 2.25-1.01 2.25-2.25v-8.078c0-.415-.337-.75-.75-.75zm3.165-6.87h-5.624l1.64-1.64c.315-.317.315-.828 0-1.144-.316-.315-.826-.316-1.143 0l-2.96 2.96c-.157.16-.236.367-.236.574 0 .207.08.414.237.57l2.96 2.962c.16.158.365.236.572.236s.413-.08.57-.236c.316-.315.316-.827 0-1.143l-1.64-1.64h5.623c.412 0 .75-.338.75-.75s-.338-.75-.75-.75z"})));d.metadata={width:24,height:24};var u=d,m=t("AQ79"),g=t("nySH"),p=t("4hmp"),y=t("aI6n"),_=t("Irs7"),h=t("MWbm"),k=t("Znyr"),v=t("csss"),b=t("t62R"),f=t("j7Bv"),F=t("CVqr");const T=r.a.cf2d1048,S=r.a.da2f9225;function K(e){const l=a.a.useContext(i.a),t=Object(_.b)(),{allowUntrustedInbox:n,allowUntrustedVDLInbox:s,secondaryInboxCounts:r,untrustedUnreadCount:o}=e,c=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),d=[p.a.requestPivotContainer,c?void 0:p.a.requestPivotContainerBorder],{description:K,showNotificationDot:R,titleWeight:E}=Object(F.a)(r);return n||s?a.a.createElement(h.a,{style:d},a.a.createElement(v.a,{description:c?K:void 0,label:c?a.a.createElement(b.b,{weight:E},T):T,link:Object(g.b)(m.d.SECONDARY),onPress:()=>{t.scribe({element:"requests_pivot",action:"click"})},renderRightContent:c?(L=R,L?()=>a.a.createElement(k.a,{pip:!0,standalone:!0,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):()=>null):()=>o>0?a.a.createElement(k.a,{count:o,standalone:!0,truncatedCountFormatter:F.b,unreadCountLabel:S}):null,thumbnail:c?a.a.createElement(h.a,{testID:y.a.untrustedThumbnail},a.a.createElement(f.a,{Icon:u,color:"neutral"})):null,withoutArrow:c})):null;var L}},OOKO:function(e,l,t){"use strict";t.d(l,"a",(function(){return r}));var n=t("ERkP"),a=t.n(n),i=t("rHpw"),s=t("MWbm");function r({spacing:e}){return a.a.createElement(s.a,{accessibilityRole:"separator",style:[o.divider,{marginVertical:null!=e?i.a.theme.spaces[e]:void 0}]})}const o=i.a.create((e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}})))},Oi4X:function(e,l,t){"use strict";t("Qavd"),t("MvUL"),t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("0JOx"),s=t("MMRb"),r=t("CDB5"),o=t("RqPI"),c=t("1YZw"),d=t("hqKg"),u=t("kGix"),m=t("AQOc"),g=t("UhuB"),p=t("pNZL"),y=t("G6rE"),_=t("rxPX"),h=t("X/yg"),k=t("0KEI"),v=t("P1r1");const b=(e,l)=>l.conversationId,f=(e,l)=>s.selectConversation(e,b(0,l)),F=Object(d.createSelector)(s.selectFetchStatus,((e,l)=>s.selectConversationFetchStatus(e,b(0,l))),((e,l)=>e===u.a.LOADED?l:e)),T=Object(d.createSelector)(((e,l)=>s.selectEntriesForConversation(e,b(0,l))),o.s,((e,l)=>l?Object(h.e)(e,l):void 0)),S=(e,l)=>r.j(e,b(0,l)),K=(e,l)=>r.i(e,b(0,l)),R=(e,l)=>r.k(e,b(0,l)),E=(e,l)=>r.h(e,b(0,l)),L=(e,l)=>r.l(e,b(0,l)),C=(e,l)=>r.g(e,b(0,l)),I=(e,l)=>{const t=b(0,l);return s.selectInboxTypeByConversation(e,t)},w=e=>(l,t)=>r.a(e,l,t);var x=Object(_.a)().propsFromState((()=>({cardUrl:C,conversation:f,dataSaverMode:v.j,draftText:L,dtabBarInfo:v.m,entries:s.selectEntries,fetchStatus:F,gifMetadata:E,inboxType:I,isDmReceiptSettingEnabled:g.n,isNewGroupConversation:h.q,isUploading:S,media:K,mediaUploadProgress:R,newConversationParticipants:h.r,perspective:o.s,quickReplyOptions:T,tweetAttachment:h.s,users:y.e.selectAll}))).adjustStateProps((({cardUrl:e,conversation:l,dataSaverMode:t,draftText:n,dtabBarInfo:a,entries:i,fetchStatus:s,gifMetadata:r,inboxType:o,isDmReceiptSettingEnabled:c,isNewGroupConversation:d,isUploading:u,media:g,mediaUploadProgress:p,newConversationParticipants:y,perspective:_,quickReplyOptions:h,tweetAttachment:k,users:v})=>{const b=null==l?void 0:l.data;return{conversation:b&&Object(m.a)(b,i,v)||void 0,dataSaverMode:t,draftText:n,dtabBarInfo:a,entries:i,fetchStatus:s,gifMetadata:r,inboxType:o,isDmReceiptSettingEnabled:c,cardUrl:e,isNewGroupConversation:d,isUploading:u,media:g,mediaUploadProgress:p,newConversationParticipants:y,perspective:_,quickReplyOptions:h,tweetAttachment:k}})).propsFromActions((({conversationId:e})=>({acceptConversation:s.acceptConversation,addMedia:w(e),saveText:r.f,addToast:c.b,addWelcomeMessageToConversation:s.addWelcomeMessageToConversation,cancelUpload:Object(h.a)(e),createLocalApiErrorHandler:Object(k.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),fetchConversationFuture:s.fetchConversationFuture,fetchConversationHistoricalSnapshot:s.fetchConversationHistoricalSnapshot,fetchConversationHistory:s.fetchConversationHistory,fetchConversationIfNeeded:s.fetchConversationIfNeeded,fetchInboxIfNeeded:s.fetchInboxIfNeeded,fetchUpdatesIfNeeded:s.fetchUpdatesIfNeeded,leaveConversation:s.leaveConversation,removeMedia:Object(h.b)(e),removeText:r.d,sendMessage:r.m,updateConversationReadState:s.updateConversationReadState,updateTweetDetailNav:p.b,updateTyping:s.updateTyping,removeConversation:s.removeConversation,popOutConversation:s.popOutConversation}))).withAnalytics(),M=t("I2k/"),O=t("4AMG"),A=t("uB9N"),D=t("htvZ"),P=t("v//M"),U=t("3XMw"),H=t.n(U),W=t("J2UM"),N=t("07FG"),q=t("I8M8"),j=t("yoO3"),B=t("7myi"),V=t("pHkl"),z=t("883S"),G=t("z0MJ"),Q=t.n(G),Y=t("Es6L"),X=t("LsPn"),$=t("sl05"),J=t("GSsg"),Z=t("v6aA"),ee=t("EbOo");var le=Object(_.a)().propsFromActions((()=>({addToast:c.b,block:y.e.block,createLocalApiErrorHandler:Object(k.createLocalApiErrorHandlerWithContextFactory)("UNTRUSTED_CONVERSATION_ACTIONS"),muteDMUser:s.muteDMUser,unmuteDMUser:s.unmuteDMUser,unblock:y.e.unblock}))).withAnalytics({element:"untrusted_interstitial"}),te=(t("AQ79"),t("u0B7")),ne=t("97Jx"),ae=t.n(ne),ie=t("tZH3"),se=t("/yvb"),re=t("efqG");const oe=H.a.ccf2f24e,ce=H.a.ib3fe8aa;var de=({isGroup:e,onBlockClick:l,onReportClick:t,requestorScreenName:n})=>{const i={type:"destructiveOutlined"},s=a.a.createElement(se.a,ae()({},i,{accessibilityRole:"button"}),ce),r=a.a.createElement(se.a,ae()({},i,{onPress:t}),oe),o=a.a.useCallback(((e,i)=>a.a.createElement(ie.a,{dismiss:e,flatBorders:"sheet"===i,onBlockClick:l,onReportClick:t,requestorScreenName:n,showBlock:!0,showCancel:"sheet"===i})),[l,t,n]);return e?r:a.a.createElement(re.a,{renderContent:o},s)},ue=t("MWbm"),me=t("cHvH"),ge=t("rHpw");const pe=e=>{const l=a.a.useContext(Z.a),t=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),{loggedInUserId:n}=l,i=()=>e.onAccept(),s=()=>e.onBlock(),r=()=>e.onReport(),o=()=>e.onLeave();return a.a.createElement(me.a,null,(({windowWidth:l})=>{const c=l<=ge.a.theme.breakpoints.small;return a.a.createElement(ue.a,{style:ye.actionsContainer},t&&a.a.createElement(se.a,{onPress:i,size:"medium",style:[ye.actionFullWidth,ye.actionMarginBottom],type:"primaryOutlined"},e.acceptButtonText),a.a.createElement(ue.a,{style:c?ye.actionFullWidth:[ye.actionHalfWidth,ye.actionMarginRight]},a.a.createElement(de,{isGroup:e.isGroup,onBlockClick:s,onReportClick:r,requestorScreenName:Object(h.m)(e.conversation,n).screenName})),a.a.createElement(se.a,{onPress:o,size:"medium",style:c?[ye.actionFullWidth,ye.actionMarginTop]:[ye.actionHalfWidth,ye.actionMarginLeft],type:"destructiveOutlined"},e.declineButtonText),!t&&a.a.createElement(se.a,{onPress:i,size:"medium",style:[ye.actionFullWidth,ye.actionMarginTop],type:"primaryOutlined"},e.acceptButtonText))}))},ye=ge.a.create((e=>({actionsContainer:{display:"flex",flexWrap:"wrap",flexDirection:"row"},actionFullWidth:{width:"100%"},actionHalfWidth:{width:`calc(50% - ${e.spaces.space4})`},actionMarginRight:{marginRight:e.spaces.space4},actionMarginLeft:{marginLeft:e.spaces.space4},actionMarginTop:{marginTop:e.spaces.space12},actionMarginBottom:{marginBottom:e.spaces.space12}})));var _e=t("aITJ"),he=t("t62R"),ke=t("eb3s"),ve=t("vMjK"),be=t("24HD"),fe=t("zCf4");const Fe=H.a.da878dc0,Te=H.a.d96cf7ce,Se=(H.a.gde6b425,H.a.e308019b,H.a.gf5e9ea6,H.a.hc52446c),Ke=H.a.f7e1ad65,Re={headline:H.a.gdf4b790,text:H.a.bbf83d84,confirmButtonLabel:H.a.bb1d57b6},Ee=ge.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space20,paddingHorizontal:e.componentDimensions.gutterHorizontal},copy:{paddingBottom:e.spaces.space20}})));var Le=le((e=>{const{analytics:l,conversation:t}=e,n=a.a.useContext(Z.a),i=Object(fe.f)(),r=Object(fe.g)(),[o,c]=a.a.useState(!1),[d,u]=a.a.useState(!1),m=a.a.useCallback((()=>({items:[{conversation_type:t.type===s.CONVERSATION_TYPE.GROUP?V.l.GROUP:V.l.ONE_TO_ONE}]})),[t.type]),g=a.a.useCallback(((e,t)=>{l.scribe({action:e,data:t||m()})}),[l,m]);a.a.useEffect((()=>{g("impression")}),[g]);const p=()=>{c(!0),u(!1)},y=()=>{c(!1)},_=()=>{u(!1)},k=()=>{var l;const{conversationId:n,inboxType:a,leaveConversation:i}=e,o=t.type===s.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",d=(null==t?void 0:t.participants.length)||0,u=(null==r||null==(l=r.state)?void 0:l.position)||0,m={conversation_type:(null==t?void 0:t.type)===s.CONVERSATION_TYPE.GROUP?V.l.GROUP:V.l.ONE_TO_ONE,conversation_id:n,conversation_participant_count:d,position:u,inbox_type:Object(h.l)(a),entry_point:V.c.REQUEST_ACTION_SHEET};c(!1),i({conversationId:n}),g(o,m),v()},v=()=>{const{inboxType:l}=e;i.push(Object(h.g)(l))},b=()=>{(()=>{var l;const{acceptConversation:n,analytics:a,conversationId:i,inboxType:o}=e,c=(null==t?void 0:t.participants.length)||0,d=(null==r||null==(l=r.state)?void 0:l.position)||0;i&&(n(i),a.scribe({action:"accept",data:{conversation_id:i,conversation_type:t.type===s.CONVERSATION_TYPE.GROUP?V.l.GROUP:V.l.ONE_TO_ONE,conversation_participant_count:c,entry_point:V.c.REQUEST_ACTION_SHEET,inbox_type:Object(h.l)(o),position:d}}))})()},f=l=>()=>{const{addToast:t,block:n,createLocalApiErrorHandler:a}=e;u(!1),n(l).then((()=>{t({action:{label:ve.c,onAction:F(l)},text:ve.a})}),a(ee.a)),g("block")},F=l=>()=>{const{createLocalApiErrorHandler:t,unblock:n}=e;n(l).catch(t(te.a)),g("unblock")},T=(t&&t.type)===s.CONVERSATION_TYPE.GROUP;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ue.a,{style:Ee.root},(e=>{const{loggedInUserId:l}=n;return a.a.createElement(he.b,{style:Ee.copy},e?Se:Ke({senderName:Object(h.m)(t,l).name}))})(T),a.a.createElement(pe,{acceptButtonText:Fe,conversation:t,declineButtonText:Te,isGroup:T,onAccept:b,onBlock:()=>{c(!1),u(!0)},onLeave:p,onReport:()=>{const{analytics:l,conversationId:t,inboxType:n}=e;t&&(g("report"),i.push(Object(h.j)(t,window.location.pathname,l.contextualScribeNamespace,n)))}})),_e.b.isKaiOS()?a.a.createElement(X.a,{leftText:Te,onLeftClick:p,onRightClick:b,rightText:Fe}):null,o?a.a.createElement(ke.a,{confirmButtonLabel:Re.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:Re.headline,onCancel:y,onConfirm:k,text:Re.text}):null,d?(()=>{const{loggedInUserId:e}=n,{idStr:l,screenName:a}=Object(h.m)(t,e);return Object(be.j)({confirmation:Object(be.f)(a),onClose:_,handleConfirm:f(l)})})():null)})),Ce=t("yw4N"),Ie=t("rFBM"),we=t("mw9i");const xe=(e,l,t)=>{let n;return t?n={tweet:t}:l?l.mediaFile?n={media:l}:l.externalMediaDetails&&e&&(n={media:l,provider:e.provider,gifUrl:e.url}):n=null,n};var Me=t("jTgF"),Oe=t("+d3d"),Ae=t("mN6z");const De=H.a.badb01a0,Pe=H.a.d6b11d9c,Ue=H.a.i7ca1446,He=e=>e&&(e.tweet||e.media);class We extends a.a.PureComponent{constructor(e,l){super(e,l),this._composer=a.a.createRef(),this._handleLivePipelineUpdate=()=>{this._fetchUpdatesIfNeeded(),this._updatePolling&&this._updatePolling.restart()},this._fetchUpdatesIfNeeded=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchUpdatesIfNeeded:t,isDmReceiptSettingEnabled:n}=this.props;t(n?{active_conversation_id:e,dm_users:!0}:{}).catch(l())},this._handleInitialFetch=()=>{this._initialFetch()},this._initialFetch=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchInboxIfNeeded:t,fetchUpdatesIfNeeded:n}=this.props;return t().then((()=>{if(e)return this._fetchConversation(e).then((()=>this._requestWelcomeMessage(e)))})).then((()=>n())).catch(l()).finally((()=>{this._updatePolling&&this._updatePolling.start()}))},this._isUntrustedConversation=e=>{const{isNewGroupConversation:l}=this.props;return!(null!=e&&e.trusted||l)},this._leaveConversation=()=>{const{conversationId:e,createLocalApiErrorHandler:l,leaveConversation:t}=this.props;t({conversationId:e}).catch(l({showToast:!0}))},this._acceptConversation=e=>{const{acceptConversation:l,createLocalApiErrorHandler:t}=this.props;l(e).then((()=>{_e.b.isMobileOS()&&this._fetchConversation(e)})).catch(t({showToast:!0}))},this._renderActions=()=>{const{conversation:e,conversationId:l,inboxType:t}=this.props;return e&&this._isUntrustedConversation(e)?e.read_only?null:l&&a.a.createElement(Le,{acceptConversation:this._acceptConversation,conversation:e,conversationId:l,inboxType:t,leaveConversation:this._leaveConversation}):a.a.createElement(a.a.Fragment,null,this._renderComposerBar(),_e.b.isKaiOS()?a.a.createElement(X.a,{leftText:Ue,onLeftClick:this._handleInfoClick,onRightClick:this._handleComposeClick,rightText:De}):null)},this._render=()=>{var e,l,t;const{analytics:n,conversation:i,conversationId:s,drawerHeader:r,inboxType:o,isWide:c,location:d,onConversationProfileVisibilityChange:u,perspective:m}=this.props,{attachment:g,composerHeight:p}=this.state;return a.a.createElement(D.b,{key:s},a.a.createElement(Ie.a,{allowDragDrop:!He(g),onFilesAdded:this._handleDragDrop,style:$.a.dragDrop},a.a.createElement(Ce.a,{style:[$.a.scrollView,!Object(Y.a)()&&!this._isUntrustedConversation(i)&&{paddingBottom:p}]},m&&i&&(null==d||null==(e=d.state)||!e.entryPoint||this.state.hasLoadedSnapshot)?a.a.createElement(O.a,{conversation:i,drawerHeader:r,inboxType:o,isWide:c,messageSearchEntryId:null==d||null==(l=d.state)?void 0:l.entryPoint,onConversationProfileVisibilityChange:u,onForwardRequest:this._handleForwardRequest,onHistoryRequest:null!=d&&null!=(t=d.state)&&t.entryPoint?this._handleRelativeHistoryRequest:this._handleHistoryRequest,perspective:m,scribeNamespace:n.contextualScribeNamespace,shouldScrollToCenter:this.state.shouldScrollToCenter,style:$.a.activity}):null),this._renderActions()))},this._handleNavHeightChange=e=>{this.setState({composerHeight:`${e}px`})},this._handleTyping=()=>{this._throttleSaveDraftText(),this._throttleUpdateTyping()},this._throttleUpdateTyping=Object(Oe.a)((()=>{const{conversationId:e,createLocalApiErrorHandler:l,updateTyping:t}=this.props;e&&t({conversationId:e}).catch(l())}),2e3,{trailing:!1}),this._throttleSaveDraftText=Object(Oe.a)((()=>{const{conversationId:e}=this.props;e&&this._handleSaveDraftText()}),1e3,{leading:!1}),this._handleDragDrop=e=>{this._currentComposer&&this._currentComposer.handleAddMediaFiles(e)},this._handleForwardRequest=()=>{const{conversation:e,conversationId:l,createLocalApiErrorHandler:t,fetchConversationFuture:n}=this.props;this.setState({shouldScrollToCenter:!1}),null!=e&&e.max_search_entry_id&&n({conversationId:l}).catch(t())},this._handleHistoryRequest=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationHistory:t}=this.props;t({conversationId:e}).catch(l())},this._handleRelativeHistoryRequest=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationHistory:t}=this.props;this.setState({shouldScrollToCenter:!1}),t({conversationId:e,isSearch:!0}).catch(l())},this._willSendMessage=(e,l,t)=>{const{analytics:n,cardUrl:a,conversation:i,conversationId:r,gifMetadata:o,tweetAttachment:c}=this.props,{attachment:d}=this.state,u=null!=i&&i.participants?i.participants.length:0,m=(null==i?void 0:i.type)===s.CONVERSATION_TYPE.GROUP;e.quickReply||t||(this._currentComposer&&this._currentComposer.clear(),this._currentComposer&&this._currentComposer.focus());const g=((e,l,t,n,a)=>{var i;if(e)return"gif";if(l)return"card";if(n)return"tweet";const s=null==a||null==(i=a.media)?void 0:i.mediaFile,r=null!=s&&s.isVideo?"video":null!=s&&s.isGif?"gif":"photo";return s?r:t?"text":"unknown"})(o,a,l,c,d);return r&&n.scribe({...n.contextualScribeNamespace,element:g,action:"send_dm",data:{conversation_id:r,conversation_participant_count:u,conversation_type:m?V.l.GROUP:V.l.ONE_TO_ONE}}),this.setState({isSending:!0}),g},this._didSendMessage=(e,l,t,n,a)=>{if(a){const{analytics:e,history:n,newConversationParticipants:a}=this.props;e.scribe({...e.contextualScribeNamespace,element:t,action:"send_dm",data:{conversation_id:l,conversation_participant_count:a?a.length+1:0,conversation_type:V.l.GROUP}}),this.setState({attachment:null}),n.replace(`/messages/${l}`)}else!e.quickReply&&n&&(this._currentComposer&&this._currentComposer.clear(),this._currentComposer&&this._currentComposer.focus());this.setState({isSending:!1})},this._failedToSendMessage=(e,l)=>{const{createLocalApiErrorHandler:t}=this.props;if(l){const{addToast:l,createLocalApiErrorHandler:t}=this.props;if(this.setState({isSending:!1}),Object(Me.d)(e)&&e.code===q.b.CANCELED)return;if(Object(Me.d)(e)){const t=Object(Me.b)(e,Pe);t&&l(t)}else t(z.b)(e)}else t(z.b)},this._handleSendMessage=(e,l,t)=>{var n,a;const{cardUrl:i,conversationId:s,history:r,location:o,newConversationParticipants:c,perspective:d,sendMessage:u,tweetAttachment:m}=this.props,{attachment:g}=this.state,p=!(!g||!g.media),y=this._willSendMessage(e,l,p);if(!s){return u({senderId:d,recipients:c&&c.map((({data:e})=>e.id_str)),text:l,tweetAttachment:m}).then((l=>{this._didSendMessage(e,l,y,p,!0)})).catch((e=>{this._failedToSendMessage(e,!0)})),Promise.resolve()}return!this.state.attachment||null!=(n=this.state.attachment)&&null!=(a=n.media)&&a.uploading||(this.setState({attachment:null}),r.replace(o.pathname)),u({senderId:d,cardUrl:i,conversationId:s,text:l,tweetAttachment:m,...e&&e.quickReply&&{quickReply:e.quickReply}}).then((()=>{this._didSendMessage(e,s,y,p,!1)})).catch((e=>{this._failedToSendMessage(e,!1)}))},this._handlePopOutConvo=()=>{const{conversationId:e,popOutConversation:l}=this.props;l(e)},this._handleInfoClick=()=>{const{conversationId:e,history:l}=this.props;e&&l.push(`/messages/${e}/info`)},this._handleComposeClick=()=>{this._currentComposer&&this._currentComposer.focus()},this._handleSaveDraftText=()=>{const{conversationId:e,saveText:l}=this.props;e&&this._currentComposer&&l(e,this._currentComposer.value())},this.state={attachment:xe(e.gifMetadata,e.media,e.tweetAttachment),composerHeight:ge.a.theme.componentDimensions.appBarHeight,hasLoadedSnapshot:!1,isSending:!1,shouldScrollToCenter:!1}}componentDidMount(){var e,l;return this._initializePolling({interval:3e3}),this._initializeLivePipeline(),this._focusComposerIfNeeded(),null!=(e=this.props.location)&&null!=(l=e.state)&&l.entryPoint&&this.setState({shouldScrollToCenter:!0}),this._initialFetch()}_focusComposerIfNeeded(){Q()((()=>Object(W.a)().then((({KEYBOARD:e,MOUSE:l,detectedType:t})=>{const n=this.props.quickReplyOptions;(t(e)||t(l))&&!n&&this._currentComposer&&this._currentComposer.focus()}))))}_initializeLivePipeline(){const{conversationId:e}=this.props;Object(i.h)().then((({LivePipeline:l})=>{e&&l.isSupportedAndReady(this.context.featureSwitches)&&this.context.featureSwitches.isTrue("livepipeline_dm_features_enabled")&&!this._livePipelineSubscription&&(this._livePipelineSubscription=l.get().subscribeTopic(`/dm_update/${e}`,this._handleLivePipelineUpdate),this._initializePolling({interval:1e4}))}))}_initializePolling({interval:e}){this._updatePolling&&this._updatePolling.stop(),this._updatePolling=new J.a(this._fetchUpdatesIfNeeded,{interval:e})}componentWillUnmount(){const{conversation:e,conversationId:l,removeConversation:t}=this.props,n=(null==e?void 0:e.entries)||[];this._updatePolling&&this._updatePolling.stop(),this._updatePolling=void 0,this._livePipelineSubscription&&this._livePipelineSubscription.teardown(),0===n.length&&t(l),1===n.length&&"welcome_message_create"===n[0].type&&t(l)}componentDidUpdate(e,l){var t,n,a;const{conversation:i,conversationId:s,fetchStatus:r,isUploading:o,location:c,quickReplyOptions:d,updateConversationReadState:m}=this.props;var g;((null==c||null==(t=c.state)?void 0:t.entryPoint)!==(null==(n=e.location)||null==(a=n.state)?void 0:a.entryPoint)&&s&&this._fetchConversation(s),s!==e.conversationId)?(s&&this._fetchConversation(s),this._focusComposerIfNeeded(),this._livePipelineSubscription&&this._livePipelineSubscription.teardown(),this._initializeLivePipeline()):((null==i?void 0:i.sort_event_id)!==(null==(g=e.conversation)?void 0:g.sort_event_id)&&m(s),o||!e.isUploading||d||this._currentComposer&&this._currentComposer.focus(),e.fetchStatus===u.a.LOADED&&r!==u.a.LOADED&&s&&this._fetchConversation(s))}UNSAFE_componentWillReceiveProps(e){const{media:l}=this.props,{media:t}=e;Object(Ae.a)(l,t)||this.setState({attachment:xe(e.gifMetadata,e.media,e.tweetAttachment)})}render(){const{fetchStatus:e}=this.props;return a.a.createElement(j.a,null,a.a.createElement(we.a,{style:[$.a.root,_e.b.isKaiOS()&&$.a.kaiOSFix]},a.a.createElement(P.a,{fetchStatus:e,onRequestRetry:this._handleInitialFetch,render:this._render})))}_renderComposerBar(){const{addMedia:e,analytics:l,cardUrl:t,conversation:n,conversationId:i,dataSaverMode:s,draftText:r,dtabBarInfo:o,history:c,isUploading:d,mediaUploadProgress:u,quickReplyOptions:m,removeMedia:g,richTextInputContext:p,typeaheadWrapper:y}=this.props,{attachment:_,isSending:h}=this.state,k=this.props.prefillText||r;return null!=n&&n.read_only?null:a.a.createElement(A.a,{attachment:_,conversationId:i,disabled:d,dtabBarInfo:o,history:c,isCardPreviewTombstoned:Object(N.a)(t),isSending:h,isUploading:d,key:i,mediaUploadProgress:u,onAddMedia:e,onBlur:this._handleSaveDraftText,onHeightChange:this._handleNavHeightChange,onPrimaryAction:this._handleSendMessage,onTyping:s?this._throttleSaveDraftText:this._handleTyping,prefillText:"string"==typeof k?k:void 0,quickReplyOptions:m,ref:this._composer,removeMedia:g,richTextInputContext:p,scribeNamespace:l.contextualScribeNamespace,showPrimaryActionIconInsteadOfLabel:!0,typeaheadWrapper:y})}get _currentComposer(){return this._composer.current}_fetchConversation(e){var l;const{createLocalApiErrorHandler:t,fetchConversationHistoricalSnapshot:n,fetchConversationIfNeeded:a,location:i,updateConversationReadState:r}=this.props;var o;return null!=i&&null!=(l=i.state)&&l.entryPoint?(this.setState({hasLoadedSnapshot:!1}),n({conversationId:e,entryId:null==i||null==(o=i.state)?void 0:o.entryPoint}).then((e=>{var l,t;let n=!0;(null==e||null==(l=e.result)||null==(t=l.conversation_timeline)?void 0:t.status)===s.PAGINATION_STATUS.AT_END&&(n=!1),this.setState({hasLoadedSnapshot:!0,shouldScrollToCenter:n})})).catch((e=>(this.setState({hasLoadedSnapshot:!0}),t(e))))):a({conversationId:e}).then((()=>r(e))).catch(t(Object(M.a)(e)))}_requestWelcomeMessage(e){var l;const{addWelcomeMessageToConversation:t,conversation:n,createLocalApiErrorHandler:a,location:i}=this.props,{text:r}=i.query,o=Array.isArray(i.query.welcome_message_id)?i.query.welcome_message_id[0]:i.query.welcome_message_id,c=!!this.state.attachment||!(!r||o),d=!n||!n.type||n.type===s.CONVERSATION_TYPE.GROUP,u=n&&(null==n||null==(l=n.participants)?void 0:l.length)<=1;return c||d||u?Promise.resolve():t(e,o).catch(a({showToast:!1}))}}We.contextType=Z.a,We.defaultProps={isNewGroupConversation:!1,typeaheadWrapper:B.a};const Ne=x(We);l.a=Ne},P68U:function(e,l,t){"use strict";t.r(l),t.d(l,"MediaPickerWithPreview",(function(){return d}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("AspN"),s=t("rxPX"),r=Object(s.a)().propsFromActions((()=>({addMedia:i.b,processMultipleMedia:i.g}))),o=t("2Daw"),c=t("VPdC");class d extends a.a.Component{constructor(...e){super(...e),this._handleAddMediaFiles=e=>{const{addMedia:l,location:t,onChange:n,onFailure:a,processMultipleMedia:i}=this.props,s=this._getAcceptedFileInputs(),r=Array.from(e).find((e=>s.includes(e.type)));r&&l([r],{location:t}).then((e=>{n&&n(e.map((e=>e.id))),i(e,{onFailure:a})}))},this._getAcceptedFileInputs=()=>{const{acceptGifs:e,acceptVideo:l}=this.props;return Object(c.b)({acceptGifs:e,acceptVideo:l})}}render(){const{acceptGifs:e,acceptVideo:l,accessibilityLabel:t,aspectRatio:n,borderRadius:i,currentContent:s,description:r,innerStyle:c,maskStyle:d,mediaItem:u,onCrop:m,onRemove:g,rootStyle:p}=this.props;return a.a.createElement(o.a,{acceptGifs:e,acceptVideo:l,accessibilityLabel:t,aspectRatio:n,borderRadius:i,currentContent:s,description:r,innerStyle:c,maskStyle:d,mediaItem:u,onAddMediaFiles:this._handleAddMediaFiles,onCrop:m,onRemove:g,rootStyle:p,withDragDrop:!0})}}d.defaultProps={acceptGifs:!1,acceptVideo:!1};const u=r(d);l.default=u},PnKw:function(e,l,t){"use strict";t.d(l,"a",(function(){return y}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("TIdA"),s=t("t62R"),r=t("A91F"),o=t("/yvb"),c=t("rHpw"),d="inlinePrompt",u="inlinePrompt-primaryAction",m="inlinePrompt-secondaryAction",g="inlinePrompt-centeredImageContainer",p=t("MWbm");class y extends a.a.Component{constructor(...e){super(...e),this._renderImage=(e,l)=>{const t=a.a.createElement(i.a,{accessibilityLabel:"",aspectMode:r.a.exact(e.width/e.height),backgroundColor:e.backgroundColor,customVariants:l,image:e});return e.isCentered?a.a.createElement(p.a,{style:_.centeredImage,testID:g},a.a.createElement(p.a,{style:{width:`${e.width}px`,height:`${e.height}px`}},t)):t},this._renderTitle=()=>{const{headline:e}=this.props;return e?a.a.createElement(s.b,{accessibilityRole:"heading",align:"left",size:"title3",style:_.flexGrow,weight:"heavy",withHashflags:!0},e):null},this._renderBodyText=()=>{const{subtext:e}=this.props;return e?a.a.createElement(s.b,{align:"left",color:"gray700",style:this.styles.body,withHashflags:!0},e):null},this._renderAction=({action:e,buttonSize:l,buttonType:t,style:n,testID:i})=>{const{secondaryAction:s}=this.props,{link:r,onClick:c,text:d}=e;return a.a.createElement(p.a,{style:[this.styles.actionContainer,n,{justifyContent:"flex-start"}],testID:i},a.a.createElement(o.a,{link:r,onPress:c,size:l,style:{width:s?"100%":"auto"},type:t},d))}}render(){const{image:e,imageVariants:l,primaryAction:t,rightControl:n,secondaryAction:i,shouldRenderBorder:s}=this.props;return a.a.createElement(p.a,{style:s?[h.root,h.rootMargin]:_.root},a.a.createElement(a.a.Fragment,null,e?this._renderImage(e,l):null,a.a.createElement(p.a,{style:this.styles.rootPadding,testID:d},this._renderTitle(),this._renderBodyText(),t?this._renderAction({action:t,buttonType:"primaryFilled",style:this.styles.primaryAction,buttonSize:"large",testID:u}):null,i?this._renderAction({action:i,buttonType:"primaryOutlined",style:this.styles.secondaryAction,buttonSize:"large",testID:m}):null)),n?a.a.createElement(p.a,{style:_.rightControl},n):null)}get styles(){return this.props.isCompact?v:k}}y.defaultProps={shouldRenderBorder:!1};const _=c.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},flexGrow:{flexGrow:1},centeredImage:{display:"flex",flexDirection:"row",justifyContent:"center"},rightControl:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,position:"absolute",right:0,top:0}}))),h=c.a.create((e=>({root:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,overflow:"hidden"},rootMargin:{marginLeft:e.spaces.space16,marginRight:e.spaces.space16}}))),k=c.a.create((e=>({rootPadding:{padding:e.spaces.space32},body:{marginTop:e.spaces.space8},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space28},secondaryAction:{marginTop:e.spaces.space16}}))),v=c.a.create((e=>({rootPadding:{padding:e.spaces.space16},body:{marginTop:e.spaces.space2},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space4},secondaryAction:{marginTop:e.spaces.space2}})))},QvgI:function(e,l,t){"use strict";t("kYxP"),t("Qavd");var n=t("ERkP"),a=t.n(n),i=t("BUB3"),s=t("rxPX"),r=t("0KEI");const o=(e,{module:l})=>l.selectItems(e),c=(e,{module:l})=>l.selectFetchStatus(e);var d=Object(s.a)().propsFromState((()=>({fetchStatus:c,sliceItems:o}))).adjustStateProps((({fetchStatus:e,sliceItems:l})=>{const t=(e=>{var l,t;return(null==(l=e.find((e=>e.groupData)))||null==(t=l.groupData)?void 0:t.result)||[]})(l),n=(e=>{var l,t;return(null==(l=e.find((e=>e.peopleData)))||null==(t=l.peopleData)?void 0:t.result)||[]})(l),a=(e=>{var l,t;return(null==(l=e.find((e=>e.messageData)))||null==(t=l.messageData)?void 0:t.conversationIds)||[]})(l);return{entryIds:(e=>{var l,t;return(null==(l=e.find((e=>e.messageData)))||null==(t=l.messageData)?void 0:t.entryIds)||[]})(l),fetchStatus:e,groupConversationIds:t,groupHighlightingTokens:(e=>{var l,t;return null==(l=e.find((e=>e.groupData)))||null==(t=l.groupData)?void 0:t.highlightingTokens})(l),messageConversationIds:a,messageHighlightingTokens:(e=>{var l,t;return null==(l=e.find((e=>e.messageData)))||null==(t=l.messageData)?void 0:t.highlightingTokens})(l),peopleHighlightingTokens:(e=>{var l,t;return null==(l=e.find((e=>e.peopleData)))||null==(t=l.peopleData)?void 0:t.highlightingTokens})(l),peopleSearchConversationIds:n,sliceItems:l}})).propsFromActions((({module:e})=>({createLocalApiErrorHandler:Object(r.createLocalApiErrorHandlerWithContextFactory)("DM_SEARCH_ALL_CONTEXT"),fetchSearchIfNeeded:e.fetchIfNeeded}))),u=t("d9IC"),m=t("MDbM"),g=t("v//M"),p=t("3XMw"),y=t.n(p),_=t("MWbm"),h=t("0yYu"),k=t("t62R"),v=t("rHpw"),b=t("v6aA"),f=t("lBmi"),F=t("91AQ"),T=t("6ZHn");const S=y.a.c94ac69e,K=y.a.a2f81050,R=y.a.g2fd3206,E=y.a.ffd9cfe6;class L extends a.a.Component{constructor(...e){super(...e),this._groupBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_groups_bucket_size"),this._messagesBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_messages_bucket_size"),this._peopleBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_people_bucket_size"),this._renderSearchResults=()=>{const{groupConversationIds:e,messageConversationIds:l,peopleSearchConversationIds:t,renderEmptyState:n}=this.props,i=t.length&&e.length,s=this._groupBucketSize<e.length,r=this._messagesBucketSize<l.length,o=this._peopleBucketSize<t.length;return(null==e?void 0:e.length)||t.length||l.length?a.a.createElement(a.a.Fragment,null,t.length?this._renderPeopleSection():null,i&&!o?a.a.createElement(h.a,null):null,o?this._renderDMSearchFooter(R):null,e.length?this._renderGroupsSection():null,s?this._renderDMSearchFooter(S):null,l.length?this._renderMessagesSection():null,r?this._renderDMSearchFooter(K):null):n()},this._handleFetch=()=>{const{createLocalApiErrorHandler:e,fetchSearchIfNeeded:l}=this.props;l().catch(e())},this._renderDMSearchFooter=e=>{const{location:l}=this.props;return a.a.createElement(_.a,{style:C.header},a.a.createElement(k.b,{link:{pathname:l.pathname,state:{tab:e}}},E))},this._renderDMHeader=({headerText:e,icon:l})=>a.a.createElement(u.a,{headerText:e,icon:l}),this._renderGroupsSection=()=>{const{groupConversationIds:e,groupHighlightingTokens:l,pinConversation:t,renderInboxItem:n,unpinConversation:i}=this.props;return a.a.createElement(a.a.Fragment,null,this._renderDMHeader({icon:f.a,headerText:S}),e.map(((a,s)=>a?n({conversationIds:e,pinConversation:t,unpinConversation:i,highlightingTokens:l})(a):null)).slice(0,this._groupBucketSize))},this._renderMessagesSection=()=>{const{entryIds:e,messageConversationIds:l,messageHighlightingTokens:t,pinConversation:n,renderInboxItem:i,unpinConversation:s}=this.props;return a.a.createElement(a.a.Fragment,null,this._renderDMHeader({icon:F.a,headerText:K}),e.map(((a,r)=>a?((a,r)=>i({conversationIds:l,isMessageItem:!0,messageIds:e,pinConversation:n,unpinConversation:s,highlightingTokens:t})(a))(a):null)).slice(0,this._messagesBucketSize))},this._renderPeopleSection=()=>{const{peopleHighlightingTokens:e,peopleSearchConversationIds:l,pinConversation:t,renderInboxItem:n,unpinConversation:i}=this.props;return a.a.createElement(a.a.Fragment,null,this._renderDMHeader({icon:T.a,headerText:R}),l.map(((a,s)=>a?n({conversationIds:l,pinConversation:t,unpinConversation:i,highlightingTokens:e})(a):null)).slice(0,this._peopleBucketSize))}}componentDidUpdate(e){const{fetchStatus:l,module:t}=this.props;e.module!==t&&l!==m.a.FAILED&&this._handleFetch()}componentDidMount(){this._handleFetch()}render(){const{fetchStatus:e,loadingLabel:l}=this.props;return a.a.createElement(g.a,{accessibilityLabel:l,fetchStatus:e,onRequestRetry:this._handleFetch,render:this._renderSearchResults})}}L.contextType=b.a;const C=v.a.create((e=>({header:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space12,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,borderTopColor:e.colors.borderColor}})));var I=d(L),w=t("hqKg"),x=t("wAC9"),M=t("q+MS"),O=t("pHkl");var A=e=>Object(x.a)({contextSuffix:"DM_SEARCH_SLICE",getFetchApiEndpoint:e=>e.DirectMessagesGraphQL.fetchDMAllSearch,sliceKey:`${O.j}-${e}`,getEndpointParams:l=>({...l,query:e}),mapEntitiesToActions:M.a});const D=(e,l)=>l.query;var P=Object(s.a)().propsFromState((()=>({sliceModule:Object(w.createSelector)(D,(e=>e?A(e):void 0))})))((e=>{const{loadingLabel:l,location:t,pinConversation:n,query:i,renderEmptyState:s,renderInboxItem:r,sliceModule:o,unpinConversation:c}=e;return o?a.a.createElement(I,{loadingLabel:l,location:t,module:o,pinConversation:n,query:i,renderEmptyState:s,renderInboxItem:r,unpinConversation:c}):s()})),U=t("MMRb"),H=t("kGix");const W=U.selectRecentSearches,N=(e,l)=>l.query?U.selectSearchConversations(e,l.query):[],q=(e,l)=>l.query?U.selectSearchFetchStatus(e,l.query):H.a.LOADED,j=(e,l)=>l.conversationIds||[],B=(e,l)=>null!=e&&e.length?l.filter((l=>e.indexOf(l)>-1)):e;var V,z,G=Object(s.a)().propsFromState((()=>({conversationIds:j,recentSearches:W,searchFetchStatus:q,searchConversationIds:N}))).adjustStateProps((({conversationIds:e,recentSearches:l,searchConversationIds:t,searchFetchStatus:n})=>({conversationIds:e,recentSearches:l,searchFetchStatus:n,searchConversationIds:B(t,e)}))).propsFromActions((()=>({addRecentSearch:U.addRecentSearches,createLocalApiErrorHandler:Object(r.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_SEARCH"),search:U.searchConversations,clearRecentSearch:U.clearRecentSearch,clearRecentSearches:U.clearRecentSearches}))),Q=t("s14A"),Y=t("h3MB"),X=(t("YWiL"),t("mN6z")),$=t("TEoO"),J=t("NjAB"),Z=t("Fr3L"),ee=t("uDfI"),le=t("s8G+"),te=t("DQzJ");const ne=void 0!==V?V:V=t("K8Kw"),ae=void 0!==z?z:z=t("uMiA"),ie="DM_CONVERSATION_SEARCH",se={context:ie},re=e=>e,oe=e=>{const{footer:l,noItemsRenderer:t,onScrollEnd:n,pinConversation:i,renderInboxItem:s,searchTerm:r,tabType:o,unpinConversation:c}=e,d=Object(ee.c)(),u=Object(le.a)("dm_inbox_search_query_highlighting_conversation_results_enabled"),m=o===O.k.GROUPS?ne:ae,{data:g,fetchNext:p,hasNext:y}=Object(te.a)(m,{query:r,withConversationQueryHighlights:u});let _;var h;if(null!=g&&g.dm_group_convo_slice_result)_=null==g||null==(h=g.dm_group_convo_slice_result)?void 0:h.items;else if(null!=g&&g.dm_people_convo_slice_result){var k;_=null==g||null==(k=g.dm_people_convo_slice_result)?void 0:k.items}const{entities:v,highlightingTokens:b,normalizedConversations:f}=a.a.useMemo((()=>{var e,l;const t=(null==(e=_)?void 0:e.map((e=>null==e?void 0:e.dm_convo_search)))||{},n=u?null==(l=_)?void 0:l.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0,a=Object(J.b)(t,[Y.a]);return{normalizedConversations:a,entities:{...null==a?void 0:a.entities},highlightingTokens:n}}),[_,u]),F=(e=>{const l=a.a.useRef();return a.a.useEffect((()=>{l.current=e})),l.current})(g);return a.a.useEffect((()=>{Object(X.a)(g,F)||d(Object(M.a)(v,!0))}),[v,g,F,d]),a.a.createElement($.a,{cacheKey:ie,footer:y?null:l,identityFunction:re,items:null==f?void 0:f.result,noItemsRenderer:t,onNearEnd:p,onScrollEnd:n,renderer:s({conversationIds:null==f?void 0:f.result,isMessageItem:!1,pinConversation:i,unpinConversation:c,highlightingTokens:b}),withoutHeadroom:!0})};function ce(e){return a.a.createElement(Z.a,{errorConfig:se},a.a.createElement(oe,e))}var de,ue=t("ZYFu");const me=void 0!==de?de:de=t("y59G"),ge="DM_MESSAGE_SEARCH",pe={context:ge},ye=e=>e,_e=e=>{var l;const{footer:t,noItemsRenderer:n,onScrollEnd:i,pinConversation:s,renderInboxItem:r,searchTerm:o,unpinConversation:c}=e,d=Object(ee.c)(),u=Object(le.a)("dm_inbox_search_message_attachment_previews_enabled"),m=Object(le.a)("dm_inbox_search_query_highlighting_message_results_enabled"),g=Object(le.a)("rito_safety_mode_blocked_profile_enabled"),p=Object(le.a)("super_follow_user_api_enabled"),{data:y,fetchNext:_,hasNext:h}=Object(te.a)(me,{query:o,withAttachments:u,withMessageQueryHighlights:m,withSafetyModeUserFields:g,withSuperFollowsUserFields:p}),{entities:k,highlightingTokens:v,normalizedConversations:b,normalizedMessages:f}=a.a.useMemo((()=>{var e,l,t;const n=null==y||null==(e=y.dm_message_slice_result)||null==(l=e.items)?void 0:l.map((e=>{var l,t;return null==e||null==(l=e.dm_event)||null==(t=l.legacy)?void 0:t.conversation})),a=null==y||null==(t=y.dm_message_slice_result)?void 0:t.items,i=m?null==a?void 0:a.map((e=>{var l;return null==e||null==(l=e.highlighting)?void 0:l.query_tokens})):void 0,s=Object(J.b)(n,[Y.a]),r=Object(J.b)(a,[Y.b]);return{normalizedConversations:s,normalizedMessages:r,entities:{...null==s?void 0:s.entities,...null==r?void 0:r.entities},highlightingTokens:i}}),[null==y||null==(l=y.dm_message_slice_result)?void 0:l.items,m]),F=(e=>{const l=a.a.useRef();return a.a.useEffect((()=>{l.current=e})),l.current})(y);return a.a.useEffect((()=>{Object(X.a)(y,F)||d(Object(M.a)(k,!0))}),[k,y,F,d]),a.a.createElement($.a,{cacheKey:ge,footer:h?null:t,identityFunction:ye,items:null==f?void 0:f.result,noItemsRenderer:n,onNearEnd:_,onScrollEnd:i,renderer:r({conversationIds:null==b?void 0:b.result,isMessageItem:!0,messageIds:null==f?void 0:f.result,pinConversation:s,unpinConversation:c,highlightingTokens:v}),withoutHeadroom:!0})};function he(e){return a.a.createElement(Z.a,{errorConfig:pe},a.a.createElement(_e,e))}var ke=t("j7Bv"),ve=t("htQn"),be=t("5mJL"),fe=t("/yvb"),Fe=t("VwDm"),Te=t("hOZg");const Se=y.a.dbd5d400;class Ke extends a.a.PureComponent{render(){const{clearRecentSearch:e,handleRecentSearchClick:l,recentSearch:t}=this.props,n=a.a.createElement(ke.a,{Icon:Fe.a,color:"neutral",size:"xLarge",style:Re.searchIcon}),i=[Re.listItemView,Re.bottomBorder];return a.a.createElement(ve.a,{onPress:l,style:i},a.a.createElement(_.a,null,a.a.createElement(be.a,{avatarCell:n,avatarSize:"xLarge",cellStyle:Re.avatarColumn},a.a.createElement(_.a,{style:Re.container},a.a.createElement(k.b,{numberOfLines:1},t),a.a.createElement(fe.a,{accessibilityLabel:Se,borderColor:"transparent",icon:a.a.createElement(Te.a,null),onPress:e,type:"brandText"})))))}}const Re=v.a.create((e=>({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},searchIcon:{marginRight:e.spaces.space12,padding:e.spaces.space4},avatarColumn:{flexGrow:1,minWidth:"32px"},bottomBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},listItemView:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space12,width:"100%"}})));var Ee=Ke,Le=t("DbJc"),Ce=t("AQ79"),Ie=t("tI3i"),we=t.n(Ie),xe=t("sNn6"),Me=t("IG4P"),Oe=t("RJrc"),Ae=t("TnY3"),De=t("FIs5"),Pe=t("cm6r"),Ue=t("6OUF"),He=t("k/OQ"),We=t("BcsE"),Ne=t("VY6S"),qe=t("95Se");const je=e=>e,Be=y.a.b08821f4,Ve=y.a.a66ac766,ze=y.a.fe61929e,Ge=y.a.a846382a,Qe=y.a.b9dae4f4,Ye=y.a.e7fb2028,Xe=y.a.ae111c99,$e=y.a.efb6c154,Je=y.a.e8581cce,Ze=y.a.f08940ac,el=y.a.gaae1fd6,ll=y.a.i5d7593a,tl=y.a.f8321d82,nl=y.a.c94ac69e,al=y.a.a2f81050,il=y.a.g2fd3206,sl=y.a.fb3c8e74;class rl extends a.a.Component{constructor(...e){super(...e),this.state={debouncedQuery:"",isLoadingMore:!1,isRefreshing:!1},this._conversationHighlightingEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_query_highlighting_conversation_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._setInputRef=e=>{this._textInputRef=e},this._handleConversationClick=(e,l,t,n)=>{const{analytics:a}=this.props,i=(null==t?void 0:t.participants.length)||0,s=(null==t?void 0:t.type)===U.CONVERSATION_TYPE.GROUP;a.scribe({element:"thread",action:"click",data:{event_value:this.props.query.length,conversation_id:l,conversation_participant_count:i,conversation_type:s?O.l.GROUP:O.l.ONE_TO_ONE,position:n}})},this._renderEmptyDMSearchInbox=()=>{const{analytics:e,query:l}=this.props,{debouncedQuery:t}=this.state;return t&&l?(e.scribe({component:"search",element:"results",action:"empty"}),a.a.createElement(De.a,{buttonLink:"/messages/compose",buttonText:Ze,header:Xe({query:t}),message:this._messageSearchEnabled?Je:$e,onButtonPress:this._handleComposeButtonPress})):a.a.createElement(_.a,{style:ol.emptyState},a.a.createElement(k.b,{align:"center",color:"gray700"},this._messageSearchEnabled?ll:el))},this._renderRecentSearches=()=>{const{analytics:e,query:l,recentSearches:t}=this.props;return t.length&&!l?a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{analytics:e,clearRecentSearches:this._clearRecentSearches,headerText:sl,withClearButton:!0}),t.map((e=>a.a.createElement(Ee,{clearRecentSearch:l=>this._handleClearRecentSearch(l,e),handleRecentSearchClick:()=>this._handleRecentSearchClick(e),key:e,recentSearch:e})))):this._renderEmptyDMSearchInbox()},this._renderAllDMSearchResultsTab=()=>{const{location:e,pinConversation:l,unpinConversation:t}=this.props,{debouncedQuery:n}=this.state;return n?a.a.createElement(P,{loadingLabel:Ve,location:e,pinConversation:l,query:n,renderEmptyState:this._renderEmptyDMSearchInbox,renderInboxItem:this._renderSearchInboxItem,unpinConversation:t}):this._renderEmptyDMSearchInbox()},this._renderConversationsTab=e=>{const{pinConversation:l,unpinConversation:t}=this.props,{debouncedQuery:n}=this.state;return a.a.createElement(ce,{footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinConversation:l,renderInboxItem:this._renderSearchInboxItem,searchTerm:n,tabType:e?O.k.GROUPS:O.k.PEOPLE,unpinConversation:t})},this._renderMessagesTab=()=>{const{pinConversation:e,unpinConversation:l}=this.props,{debouncedQuery:t}=this.state;return t?a.a.createElement(he,{footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinConversation:e,renderInboxItem:this._renderSearchInboxItem,searchTerm:t,unpinConversation:l}):this._renderEmptyDMSearchInbox()},this._renderTabContent=()=>{const{location:e}=this.props,{tab:l}=(null==e?void 0:e.state)||{};switch(l){case il:return this._renderConversationsTab(!1);case nl:return this._renderConversationsTab(!0);case al:return this._renderMessagesTab();default:return this._renderAllDMSearchResultsTab()}},this._renderSearchInboxItem=({conversationIds:e,highlightingTokens:l,isMessageItem:t=!1,messageIds:n,pinConversation:s,unpinConversation:r})=>(o,c)=>{const{loggedInUserId:d}=this.context,{location:u}=this.props,{query:m}=this.props,g=t?(n||[]).indexOf(o):-1,p=-1!==g&&null!=e&&e.length?e[g]:null,y=p?o:"",_=p||o,h={pathname:`/messages/${_}`,state:{...null==u?void 0:u.state,entryPoint:null,searchQuery:m}},k=_&&null!=e&&e.length?e.indexOf(_):null,v=k?k+1:0;we()(!!d,"loggedInUserId must be defined"),c&&c(!0);const b=null!=l&&l.length&&Object(We.a)(k)&&k>=0?l[k]:void 0,f=e=>a.a.createElement(ue.a,{conversationId:_,highlightingTokens:b,inboxType:Ce.d.PRIMARY,isActive:e,isMessageItem:t,key:_,link:h,messageId:y,onClick:this._handleConversationClick,perspective:d,pinConversation:s,position:v,searchQuery:m,unpinConversation:r});return this._isVDLEnabled?a.a.createElement(xe.a,{exact:!1,path:h.pathname},f):a.a.createElement(i.a,{exact:!1,path:h.pathname},f)},this._renderSearchResults=()=>{const{accessibilityTitle:e,pinConversation:l,searchConversationIds:t,unpinConversation:n}=this.props,{isRefreshing:i}=this.state;return a.a.createElement(Q.a,null,a.a.createElement(Me.a,{isRefreshing:i,onRefresh:this._handlePullToRefresh},a.a.createElement($.a,{accessibilityRole:"tablist",accessibilityTitle:e,anchoring:Le.a,assumedItemHeight:100,cacheKey:"dmSearchInbox",footer:this._renderFooter(),identityFunction:je,items:t,noItemsRenderer:this._renderRecentSearches,onNearEnd:this._handleNearEnd,onScrollEnd:this._handleScrollEnd,renderer:this._renderSearchInboxItem({conversationIds:t,pinConversation:l,unpinConversation:n}),withoutHeadroom:!0})))},this._renderFooter=()=>this.state.isLoadingMore?a.a.createElement(Oe.a,null):a.a.createElement(_.a,{style:ol.footerContainer},a.a.createElement(k.b,{align:"center",size:"body",weight:"bold"},Ye),a.a.createElement(Pe.a,{interactiveStyles:null},a.a.createElement(k.b,{align:"center",color:"primary",onPress:this._handleFooterClick,size:"subtext2",withInteractiveStyling:!0},Qe))),this._clearRecentSearches=()=>{const{analytics:e,clearRecentSearches:l}=this.props;e.scribe({component:"recent_search",action:"clear"}),l()},this._handleComposeButtonPress=()=>{const{analytics:e}=this.props;e.scribe({component:"search",element:"empty_results",action:"compose"})},this._handleFooterClick=()=>{var e,l;null==(e=this._textInputRef)||e.clear(),null==(l=this._textInputRef)||l.focus()},this._handleRefetchSearch=()=>{const{analytics:e,createLocalApiErrorHandler:l,search:t}=this.props,{debouncedQuery:n}=this.state;t&&n&&(e.scribe({component:"search",element:"retry",action:"click"}),t({query:n.toLowerCase(),preserveResults:!1,fetchNextPage:!1}).catch(l()))},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,search:l}=this.props,{debouncedQuery:t}=this.state;this.setState({isRefreshing:!0}),l&&t&&l({query:t.toLowerCase(),preserveResults:!0,fetchNextPage:!1}).then((()=>this.setState({isRefreshing:!1}))).catch((l=>(this.setState({isRefreshing:!1}),e()(l))))},this._handleSearchChangeInner=e=>{const{createLocalApiErrorHandler:l,onQueryChange:t,search:n}=this.props;t(e),this.setState({debouncedQuery:e}),n&&e&&!this._modularSearchEnabled&&n({query:e,preserveResults:!1,fetchNextPage:!1}).catch(l())},this._handleSearchChangeDebounced=Object(Ne.a)(this._handleSearchChangeInner,200),this._handleSearchChange=({currentTarget:{value:e}})=>{const{onQueryChange:l}=this.props;(e&&e.trim()||!e)&&(l(e),this._handleSearchChangeDebounced(e))},this._handleNearEnd=()=>{const{analytics:e,search:l}=this.props,{debouncedQuery:t}=this.state;this.setState({isLoadingMore:!0}),t&&(e.scribe({component:"search",element:"results",action:"get_older"}),l({query:t,preserveResults:!1,fetchNextPage:!0}).finally((()=>this.setState({isLoadingMore:!1}))))},this._handleScrollEnd=()=>{const{addRecentSearch:e,analytics:l,query:t}=this.props,{debouncedQuery:n}=this.state;n&&t&&(e(t),l.scribe({component:"recent_search",action:"add"}))},this._handleSearchClear=()=>this._handleSearchChangeInner(""),this._handleHideRecentSearches=()=>{const{hideRecentSearches:e}=this.props;e()},this._handleAddRecentSearch=({currentTarget:{value:e}})=>{const{addRecentSearch:l,analytics:t}=this.props;e&&(l(e),t.scribe({component:"recent_search",action:"add"}),this._textInputRef&&this._textInputRef.blur())},this._handleRecentSearchClick=e=>{const{analytics:l,onQueryChange:t}=this.props;t(e),l.scribe({component:"recent_search",action:"click"}),this._handleSearchChangeInner(e)},this._handleClearRecentSearch=(e,l)=>{const{analytics:t,clearRecentSearch:n}=this.props;e.stopPropagation(),e.preventDefault(),t.scribe({component:"recent_search",action:"clear"}),n(l)}}componentDidMount(){var e;const{location:l}=this.props;var t;null!=l&&null!=(e=l.state)&&e.searchQuery&&this._handleSearchChangeInner(null==l||null==(t=l.state)?void 0:t.searchQuery);this._textInputRef&&this._textInputRef.focus()}componentDidUpdate(e){const{analytics:l,query:t,recentSearches:n}=this.props;e.query||!t||n.includes(t)||l.scribe({component:"search",action:"began_typing"})}render(){const{location:e,query:l,searchFetchStatus:t}=this.props,n=!(this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled")||this._modularSearchEnabled&&l),i=[ol.searchInput,n?ol.searchInputBorder:void 0],{tab:s}=(null==e?void 0:e.state)||{},r=[tl,il,nl];this._messageSearchEnabled&&r.push(al);const o=r.map((l=>({key:l,label:l,accessibilityLabel:l,isActive:()=>s===l||!s&&l===tl,to:{...e,state:{...e.state,tab:l}}}))),c=s===al&&this._messageSearchEnabled;return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{style:i},a.a.createElement(fe.a,{accessibilityLabel:Be,icon:a.a.createElement(qe.a,null),onPress:this._handleHideRecentSearches,pullLeft:!0,type:"primaryText"}),a.a.createElement(Ue.a,{Icon:Fe.a,autoComplete:"off",onChange:this._handleSearchChange,onClear:this._handleSearchClear,onSubmitEditing:this._handleAddRecentSearch,placeholder:this._messageSearchEnabled?Ge:ze,ref:this._setInputRef,value:l,withClearButton:!0})),this._modularSearchEnabled&&(l||s===il||s===nl||c)?a.a.createElement(a.a.Fragment,null,a.a.createElement(He.a,{links:o}),this._renderTabContent()):a.a.createElement(g.a,{accessibilityLabel:Ve,fetchStatus:t,onRequestRetry:this._handleRefetchSearch,render:this._renderSearchResults}))}}rl.contextType=b.a,rl.defaultProps={recentSearches:[],searchConversationIds:[],query:""};const ol=v.a.create((e=>({emptyState:{marginTop:e.spaces.space32},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,flexDirection:"row",alignItems:"center",zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},footerContainer:{marginVertical:e.spaces.space32}})));l.a=Object(Ae.a)(G(rl))},RJrc:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("MWbm"),o=t("Qwev"),c=t("rHpw");const d=s.a.ffde2fdc,u=c.a.create((e=>({spinner:{alignItems:"center",marginVertical:"30px"}})));l.a=()=>a.a.createElement(r.a,{style:u.spinner},a.a.createElement(o.a,{accessibilityLabel:d}))},SDjT:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"evolutionDMInboxTertiaryQuery",selections:[{alias:"dm_convo_list_slice",args:[a={kind:"Variable",name:"count",variableName:"count"},i={kind:"Literal",name:"desired_lists",value:["LowQuality"]},s={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:17},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxTertiaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDMInboxTertiaryQuery",selections:[{alias:null,args:u=[a,{kind:"Variable",name:"cursor",variableName:"cursor"},i,s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},h={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},g],type:"User",abstractKey:null}],storageKey:null},k={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},g],storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[g,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},p,b,y,_],storageKey:null},h,v],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:f=[g],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[m,{kind:"InlineFragment",selections:F=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:F,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:F,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:f,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},b,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,b],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[b],storageKey:null},h,g],type:"User",abstractKey:null}],storageKey:null},k,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},v,g],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},c],storageKey:null},g],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:null,args:u,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxTertiaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"}]},params:{id:"n9y7xrXgQq4xLR1fVh0hOg",metadata:{sliceInfoPath:["dm_convo_list_slice","slice_info"]},name:"evolutionDMInboxTertiaryQuery",operationKind:"query",text:null}};T.hash="24482eb5cbdc697f7bf3d475cdd9cdcd",e.exports=T},"ShJ/":function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M20.472 14.738c-.388-1.808-2.24-3.517-3.908-4.246l-.474-4.307 1.344-2.016c.258-.387.28-.88.062-1.286-.218-.406-.64-.66-1.102-.66H7.54c-.46 0-.884.254-1.1.66-.22.407-.197.9.06 1.284l1.35 2.025-.42 4.3c-1.667.732-3.515 2.44-3.896 4.222-.066.267-.043.672.222 1.01.14.178.46.474 1.06.474h3.858l2.638 6.1c.12.273.39.45.688.45s.57-.177.688-.45l2.638-6.1h3.86c.6 0 .92-.297 1.058-.474.265-.34.288-.745.228-.988zM12 20.11l-1.692-3.912h3.384L12 20.11zm-6.896-5.413c.456-1.166 1.904-2.506 3.265-2.96l.46-.153.566-5.777-1.39-2.082h7.922l-1.39 2.08.637 5.78.456.153c1.355.45 2.796 1.78 3.264 2.96H5.104z"})));r.metadata={width:24,height:24},l.a=r},Sy9O:function(e,l,t){"use strict";var n,a,i,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMInboxItem",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"evolutionDMConversationAvatar"},a={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"legacy.participants_metadata.user_results.result.legacy"},a],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMEntryPreview"},{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null};s.hash="f052fa01019907de89b033bd2795b7d7",e.exports=s},T8pk:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),a.a.createElement("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})));r.metadata={width:24,height:24},l.a=r},UPvq:function(e,l,t){"use strict";t.d(l,"a",(function(){return _}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("RCZO"),s=t("3XMw"),r=t.n(s),o=t("hOZg"),c=t("MWbm"),d=t("mw9i"),u=t("cm6r"),m=t("/yvb"),g=t("7N4s"),p=t("rHpw");const y=r.a.ia5e7488;class _ extends a.a.Component{constructor(...e){super(...e),this._handleCloseButtonPress=e=>{e.stopPropagation();const{onCloseButtonPress:l}=this.props;l()},this._handleBackgroundPress=()=>{const{onCloseButtonPress:e}=this.props,{isModal:l}=this.context;l&&e()}}render(){const{backgroundColor:e,children:l,footerButtons:t,forceModalStyle:n,hideButtons:s,mediaItem:r,mediaUrl:g,overlayFooter:p,topRightButton:_}=this.props,{isModal:k}=this.context,v={backgroundColor:e.rgba,...i.a},b={backgroundColor:e.rgb,...i.a},f=[h.root,k?v:b,{position:k||n?"relative":"fixed"}];return a.a.createElement(a.a.Fragment,null,a.a.createElement(c.a,{onClick:this._handleBackgroundPress,style:f},l,t?a.a.createElement(c.a,{pointerEvents:s?"none":void 0,style:[h.footerButtons,p&&v,p&&h.footerButtonsAbsolute,s&&h.fadeOut]},a.a.createElement(d.a,{withGutter:!0},t)):null),a.a.createElement(u.a,{accessibilityRole:"none",interactiveStyles:null,onClick:this._handleCloseButtonPress,pointerEvents:s?"none":void 0,style:[h.buttonWrapper,h.buttonWrapperLeft,i.a,s&&h.fadeOut]},(l=>a.a.createElement(m.a,{accessibilityLabel:y,dominantColor:e.rgb,hoverLabel:{label:y},icon:a.a.createElement(o.a,null),interactivityState:l,onClick:this._handleCloseButtonPress,type:r||g?"onMediaDominantColorFilled":"onMediaWhiteFilled"}))),_?a.a.createElement(c.a,{pointerEvents:s?"none":void 0,style:[h.buttonWrapper,h.buttonWrapperRight,i.a,s&&h.fadeOut]},_):null)}}_.contextType=g.b,_.defaultProps={hideButtons:!1};const h=p.a.create((e=>({root:{overflowX:"hidden",overflowY:"hidden",height:"100%",width:"100%"},buttonWrapper:{position:"absolute",top:0,padding:e.spaces.space12,alignItems:"center",justifyContent:"center",cursor:"pointer"},buttonWrapperLeft:{left:0},buttonWrapperRight:{right:0},fadeOut:{opacity:0},footerButtons:{width:"100%",alignSelf:"center"},footerButtonsAbsolute:{position:"absolute",bottom:0,paddingBottom:p.a.iPhoneOffsetBottom,zIndex:1}})))},UgB4:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M21.13 11.358L3.614 2.108c-.29-.152-.64-.102-.873.126-.23.226-.293.577-.15.868l4.362 8.92-4.362 8.92c-.143.292-.08.643.15.868.145.14.333.212.523.212.12 0 .24-.028.35-.087l17.517-9.25c.245-.13.4-.386.4-.664s-.155-.532-.4-.662zM4.948 4.51l12.804 6.762H8.255l-3.307-6.76zm3.307 8.26h9.498L4.948 19.535l3.307-6.763z"})));r.metadata={width:24,height:24},l.a=r},"V/6K":function(e,l,t){"use strict";var n=t("ERkP");const a=t.n(n).a.createContext({isDrawer:!1});l.a=a},VGyq:function(e,l,t){"use strict";var n,a,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMMessageEntry",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:a,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:n,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"DirectMessageInfo",abstractKey:null};i.hash="92f772325badd93bf2f53eadbc54446b",e.exports=i},VPdC:function(e,l,t){"use strict";t.d(l,"b",(function(){return k}));var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("3XMw"),o=t.n(r),c=t("cjZk"),d="fileInput",u=t("sjK1"),m=t("/Imo"),g=t("rHpw"),p=t("9HgX");const y=o.a.b9960f32,_={viewType:"media_picker"},h=s.a.createElement(c.a,null),k=({acceptGifs:e,acceptImages:l=!0,acceptVideo:t})=>(l?p.b:[]).concat(e?[p.a]:[]).concat(t?u.a:[]);class v extends s.a.PureComponent{render(){const{acceptGifs:e,acceptImages:l,acceptVideo:t,customMimeTypes:n,icon:i,style:r,withIcon:o,...c}=this.props,u=k({acceptGifs:e,acceptImages:l,acceptVideo:t}).concat(n).join(",");return s.a.createElement(m.a,a()({},c,{accept:u,behavioralEventContext:_,icon:o?i:void 0,style:[b.root,r],testID:d}))}}v.defaultProps={acceptGifs:!0,acceptImages:!0,acceptVideo:!0,customMimeTypes:[],accessibilityLabel:y,icon:h,size:"medium",withIcon:!0};const b=g.a.create((e=>({root:{margin:`-${e.spaces.space12}`}})));l.a=v},Vc8w:function(e,l,t){"use strict";t.d(l,"a",(function(){return s}));var n=t("ERkP"),a=t.n(n),i=t("pxuL");const s=()=>{const{decrementDmDrawerSuppressorCount:e,incrementDmDrawerSuppressorCount:l}=a.a.useContext(i.a);a.a.useEffect((()=>(l(),()=>e())),[l,e])}},VcIV:function(e,l,t){"use strict";t.d(l,"a",(function(){return te}));t("kYxP"),t("MvUL");var n=t("MMRb"),a=t("ERkP"),i=t.n(a),s=t("1YZw"),r=t("HPNB"),o=t("v6aA"),c=t("V/6K"),d=t("3XMw"),u=t.n(d),m=t("tI3i"),g=t.n(m),p=t("xZGM"),y=t("YemM"),_=t("Irs7"),h=t("0KEI"),k=t("uDfI"),v=t("ii+P"),b=t("zCf4"),f=t("MWbm"),F=t("mjJ+"),T=t("eb3s"),S=t("ZToW"),K=t("cHvH"),R=t("kb9v"),E=t("IG7M"),L=t("6u/5"),C=t.n(L),I=t("PJTX"),w=t.n(I),x=t("pHkl"),M=t("X/yg"),O=t("0Bjv"),A=t("ShJ/"),D=t("Lsrn"),P=t("k/Ka");const U=(e={})=>Object(P.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[D.a.root,e.style],viewBox:"0 0 32 32"},i.a.createElement("g",null,i.a.createElement("path",{d:"M28.05 6.52h-5.42V4.887c0-1.548-1.26-2.808-2.81-2.808h-7.54c-1.548 0-2.807 1.26-2.807 2.808v1.63H4.05c-.414 0-.75.337-.75.75s.336.75.75.75h.753L7 26.435c.27 1.504 1.657 2.554 3.37 2.554h11.36c1.713 0 3.1-1.05 3.376-2.598l2.19-18.37h.753c.413 0 .75-.337.75-.75s-.336-.75-.75-.75zM10.972 4.887c0-.72.586-1.308 1.307-1.308h7.542c.72 0 1.308.587 1.308 1.308v1.63H10.972V4.89zm12.65 21.28c-.163.91-1.068 1.32-1.893 1.32H10.37c-.824 0-1.73-.41-1.887-1.276L6.313 8.02h19.472l-2.162 18.148z"}),i.a.createElement("path",{d:"M13.312 23.123c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75zm5.486 0c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75z"})));U.metadata={width:32,height:32};var H=U,W=t("zIWA"),N=t("5pef"),q=t("IpT4"),j=t("fz3c");const B=u.a.a30a206e,V=u.a.ib4b1b86,z=u.a.bd3ca2ef,G={confirmButtonLabel:u.a.bb1d57b6,actionTextLeave:u.a.g9074da4,header:u.a.gdf4b790,text:u.a.h09b49f8},Q=u.a.ad63377e,Y=u.a.e1c9ec9c,X=u.a.i6b19b08,$=u.a.e3cfff7c,J=u.a.f398722e,Z=u.a.bdd91964,ee=u.a.a8ed0eca,le=u.a.jac4eb1e;function te(e){const{conversation:l,conversationId:t,conversationType:a,inboxType:d,isHovered:u,isMessageSearchResult:m,isPinned:L,isSnoozed:I,participantCount:D,pinConversation:P,position:U,relayId:te,unpinConversation:ne}=e,ae=Object(_.b)(),ie=Object(h.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM"),se=Object(k.c)(),re=w()(),{featureSwitches:oe}=i.a.useContext(o.a),ce=Object(b.f)(),{isDrawer:de}=i.a.useContext(c.a),ue=oe.getValue("dm_conversation_labels_max_pinned_count"),me=oe.isTrue("dm_conversation_labels_pinned_education_enabled")&&!L&&1===U,[ge,pe]=i.a.useState(!1),[ye,_e]=i.a.useState(!1),[he,ke]=Object(v.a)(p.t),[ve,be]=i.a.useState(me&&he);i.a.useEffect((()=>{if(ve)return ke}),[ke,ve]);const fe=()=>{const e=a===n.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",l={conversation_type:a===n.CONVERSATION_TYPE.GROUP?x.l.GROUP:x.l.ONE_TO_ONE,conversation_id:t,conversation_participant_count:D,position:U,inbox_type:Object(M.l)(d),entry_point:x.c.THREE_DOT_MENU};_e(!1),ae.scribe({element:"thread",action:e,data:l}),L&&Ke(),se(n.leaveConversation({conversationId:t})).then((()=>{te&&C()(re,(e=>{e.delete(te)}))})).catch(ie({showToast:!0})),ce.replace(Object(M.g)(d))},Fe=e=>()=>{e&&e(),pe(!1)},Te=l=>()=>{const{userId:n}=e,a=j.a.DMConversation;if(ae.scribeAction("report"),Object(j.g)(oe,a)){const e=Object(j.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:a,reportedConversationId:t,reportedUser:n,scribeNamespace:ae.contextualScribeNamespace});l.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(e)}}})}else{const e=Object(M.j)(t,window.location.pathname,ae.contextualScribeNamespace,d);l.push(e)}},Se=()=>{if(I)se(n.enableNotifications({conversationId:t})).then((()=>{te&&C()(re,(e=>{const l=e.get(te);g()(l,"relayId must be defined");const t=l.getLinkedRecord("perspectival_conversation_metadata");g()(t,"metadataRef must be defined"),t.setValue(!1,"muted")})),se(Object(s.b)({ariaOnly:!0,text:le}))}));else{const e={conversation_type:a===n.CONVERSATION_TYPE.GROUP?x.l.GROUP:x.l.ONE_TO_ONE,conversation_id:t,conversation_participant_count:D,entry_point:x.c.THREE_DOT_MENU};ae.scribe({element:"thread",action:"mute_dm_thread_forever",data:e}),se(n.disableNotifications({conversationId:t})).then((()=>{te&&C()(re,(e=>{const l=e.get(te);g()(l,"relayId must be defined");const t=l.getLinkedRecord("perspectival_conversation_metadata");g()(t,"metadataRef must be defined"),t.setValue(!0,"muted")})),se(Object(s.b)({ariaOnly:!0,text:J}))}))}},Ke=()=>{const{togglePinStateEvolution:i}=e,s=L?"unpin_dm_conversation":"pin_dm_conversation",r=L?ne:P,o={conversation_type:a===n.CONVERSATION_TYPE.GROUP?x.l.GROUP:x.l.ONE_TO_ONE,conversation_id:t,conversation_participant_count:D,position:U};ae.scribe({element:"thread",action:s,data:o}),i?i():l&&r&&r(t,l)},Re=e=>{const l=[{Icon:L?O.a:A.a,onClick:Ke,text:L?Z:Y,withBottomBorder:!0},{Icon:H,isEmphasized:!0,onClick:()=>_e(!0),text:Q,withBottomBorder:!0},{Icon:W.a,onClick:Te(ce),text:X,withBottomBorder:!0},{Icon:I?N.a:q.a,onClick:Se,text:I?ee:$,withBottomBorder:!0}];return i.a.createElement(F.a,{items:l,onCloseRequested:Fe(e),shouldCloseOnClick:!0})},Ee=!S.a.isEnabled||u||ge||ve;return i.a.createElement(i.a.Fragment,null,ye?i.a.createElement(T.a,{confirmButtonLabel:G.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:G.header,onCancel:()=>_e(!1),onConfirm:fe,text:G.text}):null,Ee?i.a.createElement(K.a,null,(({windowWidth:e})=>{const l=r.a.isTwoColumnLayout(e);return i.a.createElement(f.a,{style:[y.a.menuContainer,m&&y.a.messageSearchResultMenuContainer]},i.a.createElement(R.a,{actionPrimary:{text:B,onClick:()=>be(!1)},headline:V,onDismiss:()=>be(!1),shouldDisplay:ve&&!de,text:z({count:ue}),withMask:!l},l?i.a.createElement(E.a,{onClick:()=>pe(!0),renderActionMenu:Re,style:Ee?y.a.menu:y.a.hiddenMenu}):null),l?null:i.a.createElement(E.a,{onClick:()=>pe(!0),renderActionMenu:Re,style:Ee?y.a.menu:y.a.hiddenMenu}))})):null)}},"X3+4":function(e,l,t){"use strict";t.d(l,"a",(function(){return s}));var n=t("ERkP"),a=t.n(n),i=t("fs1G");const s=a.a.createContext({handleNextSlide:i.a})},X8um:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxQuery",selections:[{alias:"labeled_conversation_slice",args:a=[{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:20}],concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"__DMPinnedInboxQuery_labeled_conversation_slice_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,s,{kind:"RequiredField",field:m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"labeled_conversation_slice.items.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null},p={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null},y={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},_={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxQuery",selections:[{alias:null,args:a,concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[i,s,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o,c,d,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[h,{kind:"InlineFragment",selections:[i,s,m,{alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},i],storageKey:null}],storageKey:null},g],storageKey:null},p],storageKey:null},y,_],storageKey:null},{alias:null,args:a,filters:["label","s"],handle:"slice",key:"DMPinnedInboxQuery_labeled_conversation_slice",kind:"LinkedHandle",name:"labeled_conversation_slice",handleArgs:[{kind:"Literal",name:"itemsFieldName",value:"items_results"}]}]},params:{id:"_gBQBgClVuMQb8efxWkbbQ",metadata:{sliceInfoPath:["labeled_conversation_slice","slice_info"]},name:"DMPinnedInboxQuery",operationKind:"query",text:null}};k.hash="ce2e2976cf1d1610f3238a158593facf",e.exports=k},XG7v:function(e,l,t){"use strict";t.r(l),t.d(l,"Mode",(function(){return ue})),t.d(l,"DMComposeScreen",(function(){return me}));t("kYxP"),t("849X"),t("MvUL");var n=t("ERkP"),a=t.n(n),i=t("s14A"),s=t("uB9N"),r=t("3nOA"),o=t("jHSc"),c=t("wO1l"),d=t("p9G8"),u=t("AQOc"),m=t("3XMw"),g=t.n(m),p=t("S+H3"),y=t("zTrU"),_="nextButton",h=t("aITJ"),k=t("2dXj"),v=t("MWbm"),b=t("w9LO"),f=t("/yvb"),F=t("t62R"),T=t("htQn"),S=t("7N4s"),K=t("rHpw"),R=t("v6aA"),E=t("MMRb"),L=t("CDB5"),C=t("1YZw"),I=t("hqKg"),w=t("tn7R"),x=t("Hw0q"),M=t("RqPI"),O=t("X/yg"),A=t("G6rE"),D=t("rxPX"),P=t("0KEI");const U={page:"messages",section:"compose",component:"dm"},H="text",W="recipient_id",N=Object(x.b)(H),q=(Object(x.b)(W),e=>{const l=Object(M.s)(e);if(!l)throw new Error("logged-in user not found");return l});var j=Object(D.a)().propsFromState((()=>({conversations:Object(I.createSelector)(E.selectConversations,(e=>{const l=[];for(const t of Object(w.a)(e))!t.isDeleted&&t.data&&l.push(t.data);return l})),initialMessage:N,perspective:q,tweetAttachment:O.s,users:A.e.selectAll,recipientId:Object(x.b)(W)}))).propsFromActions((()=>({addToast:C.b,createLocalApiErrorHandler:Object(P.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_COMPOSE"),fetchConversationFromParticipants:E.fetchConversationFromParticipants,fetchInboxIfNeeded:E.fetchInboxIfNeeded,popOutConversation:E.popOutConversation,sendMessage:L.m}))).withAnalytics(U),B=t("883S"),V=t("GZwR");const z=g.a.de4669e2,G=g.a.ff599112,Q=g.a.c602600a,Y=g.a.f61c4bb0,X=g.a.cdcebd22,$=g.a.a7013cb6,J=g.a.f277e94a,Z=g.a.a2ccb2e8,ee=g.a.a6add33a,le=g.a.aca6eb1c,te=g.a.e3275464,ne=g.a.hbbc401c,ae=g.a.c1df579e,ie=g.a.e1bde73f,se=g.a.f7289cd6,re=g.a.e6cced4e,oe=g.a.a893d602,ce=Object.freeze({BACK:"back",CLOSE:"close"}),de=Object.freeze({COMPOSE_ROUTE:"/messages/compose",GROUP_COMPOSE_ROUTE:"/messages/compose/group",MESSAGES_ROUTE:"/messages"}),ue=Object.freeze({COMPOSE_MESSAGE:0,CREATE_GROUP:1,SHARE_TWEET:2,SHARE_TWEET_INDIVIDUALLY:3});class me extends a.a.Component{constructor(e,l){super(e,l),this._composer=a.a.createRef(),this._determineMode=e=>{var l,t;const n=this.context.featureSwitches,a=e.tweetAttachment||!!e.initialMessage;return null!=(l=this.props.location)&&null!=(t=l.state)&&t.isNewGroup?ue.CREATE_GROUP:a?n.isTrue("dm_share_sheet_send_individually_enabled")&&n.isTrue("direct_messages_incremental_holdback_2022h1")?ue.SHARE_TWEET_INDIVIDUALLY:ue.SHARE_TWEET:ue.COMPOSE_MESSAGE},this._isSharingMode=e=>e===ue.SHARE_TWEET||e===ue.SHARE_TWEET_INDIVIDUALLY,this._renderScreen=({isModal:e})=>{const{history:l}=this.props,{mode:t,participants:n}=this.state;let s,r;switch(t){case ue.COMPOSE_MESSAGE:s=X;break;case ue.CREATE_GROUP:s=G,r=Q;break;case ue.SHARE_TWEET:s=Y;break;case ue.SHARE_TWEET_INDIVIDUALLY:s=n.length>1?$:Y;break;default:s=""}const c=this._isSharingMode(t);return a.a.createElement(o.b,{backButtonType:t===ue.CREATE_GROUP?ce.BACK:ce.CLOSE,backLocation:t===ue.CREATE_GROUP?de.COMPOSE_ROUTE:de.MESSAGES_ROUTE,containerStyle:pe.fill,documentTitle:s,history:l,onBackClick:t===ue.CREATE_GROUP?this._handleBackClick:this._handleClose,rightControl:c?void 0:this._renderAppBarRightControl(),subtitle:r,title:s},a.a.createElement(b.a.Context.Consumer,null,this._setDisableFocusingPreviousActiveElement),a.a.createElement(i.a,{style:pe.fill},this._renderUserPicker(),c&&!e?a.a.createElement(v.a,{style:pe.placeholder}):null,this._renderComposer(e)))},this._setDisableFocusingPreviousActiveElement=({disableFocusingPreviousActiveElement:e})=>{this._disableFocusingPreviousActiveElement=e},this._renderAppBarRightControl=()=>{const{tweetAttachment:e}=this.props,l=e?te:ae;return a.a.createElement(v.a,{style:pe.rightColumn},a.a.createElement(f.a,{disabled:0===this.state.participants.length,onPress:this._handleConversationRouting,size:"small",style:pe.button,testID:_,type:"primaryFilled"},l))},this._renderComposer=e=>{const{history:l,initialMessage:t,tweetAttachment:n}=this.props,{isSending:i,mode:r,participants:o}=this.state,c=this._isSharingMode(this.state.mode);return c?a.a.createElement(s.a,{canSendEmptyMessage:!!n,conversationId:"DMComposeScreen",disabled:0===o.length||i,history:l,isSending:i,isShareViaDM:!!c,isUploading:!1,mediaUploadProgress:0,onPrimaryAction:this._handleShareTweet,onSecondaryAction:this._handleShareTweetToGroup,placeholderText:z,prefillText:t,ref:this._composer,scribeNamespace:U,secondaryActionDisabledPopoverRenderer:this._renderSendToGroupDisabledPopover,secondaryActionLabel:r===ue.SHARE_TWEET_INDIVIDUALLY?ne:void 0,shouldEnableSecondaryActionFunc:this._shouldEnableSendToGroup,shouldShowSecondaryActionFunc:this._shouldShowSendToGroup,showPrimaryActionIconInsteadOfLabel:r!==ue.SHARE_TWEET_INDIVIDUALLY,style:[pe.shadow,!e&&pe.fixToBottom],withEmojiPicker:!1,withGifPicker:!1,withMediaPicker:!1}):null},this._renderUserPicker=()=>{const{conversations:e,perspective:l}=this.props,{mode:t,participants:n,query:i}=this.state;return a.a.createElement(k.d,{getItemDisabledMessage:this._getItemDisabledMessage,getItemIsDisabled:this._getItemIsDisabled(this._separateShareLimit),injections:this._getInjections(e,l,i),onQueryChange:this._handleQueryChange,onRemove:this._handleRemoveParticipant,onSelect:this._getHandleSuggestionSelected(),renderHeader:this._renderHeader(),selectedUsers:n,shouldAutoFocus:!this._isSharingMode(t)||!h.b.isIOS(),source:V.d.ComposeMessage,withCompactPills:!0})},this._handleBackClick=()=>{const{history:e}=this.props;e.goBack()},this._handleClose=()=>{const{history:e}=this.props;e.goBackThroughModals()},this._handleCreateGroup=()=>{const{analytics:e}=this.props;e.scribe({element:"create_group",action:"click"}),this.setState({mode:ue.CREATE_GROUP})},this._shouldShowSendToGroup=()=>this.state.participants.length>1,this._shouldEnableSendToGroup=()=>!this._hasAtLeastOneGroupSelected(),this._renderSendToGroupDisabledPopover=e=>a.a.createElement(v.a,{style:pe.popover},a.a.createElement(F.b,{size:"headline1",style:pe.popoverElement,weight:"bold"},se),a.a.createElement(F.b,{style:pe.popoverElement},re),a.a.createElement(f.a,{onPress:e,style:[pe.popoverElement,pe.popoverButton],type:"primaryFilled"},oe)),this._renderHeader=()=>()=>{const{mode:e,participants:l,query:t}=this.state,{tweetAttachment:n}=this.props;return l.length||t||e!==ue.COMPOSE_MESSAGE?null:a.a.createElement(T.a,{link:{pathname:de.GROUP_COMPOSE_ROUTE,state:{...this.state,isNewGroup:!0,participants:l,tweetAttachment:n},anchorless:!0},onPress:this._handleCreateGroup,style:pe.container},a.a.createElement(f.a,{accessibilityLabel:G,borderColor:"blue500",color:"blue500",hoverLabel:{label:G},icon:a.a.createElement(p.a,{style:pe.searchIcon}),onPress:this._handleCreateGroup,size:"small",style:pe.createGroupButton,type:"brandOutlined"}),a.a.createElement(F.b,{color:"link",numberOfLines:1,weight:"bold"},G))},this._isShareLimitMet=e=>{const{mode:l,participants:t}=this.state,n=l===ue.SHARE_TWEET_INDIVIDUALLY&&this._separateShareLimit&&t.length>=this._separateShareLimit,a=t.filter((l=>l.id===e.id)).length;return!(!n||a)},this._isGroupOptionDisabled=e=>{const{mode:l,participants:t}=this.state;if(!this._isSelectedGroup(e)&&l!==ue.SHARE_TWEET_INDIVIDUALLY&&(this._hasAtLeastOneGroupSelected()||e.type===V.b.DMConversation&&(t.length>0||l===ue.CREATE_GROUP)))return!0},this._canDMUser=e=>{if(e.type===V.b.User)return!(e.data.can_dm||e.data.is_dm_able)},this._hasAtLeastOneGroupSelected=()=>{for(const e of this.state.participants)if(e.type===V.b.DMConversation)return!0;return!1},this._isSelectedGroup=e=>{const{participants:l}=this.state;if(this._hasAtLeastOneGroupSelected()&&l[0].id===e.id)return!0},this._getItemIsDisabled=e=>e=>{const l=this._isShareLimitMet(e),t=this._isGroupOptionDisabled(e),n=this._canDMUser(e);return t||l||n},this._getItemDisabledMessage=e=>e.type===V.b.User?ie({screenName:e.data.screen_name}):void 0,this._getInjections=Object(y.a)(((e,l,t)=>Object(c.a)(t,e.map((e=>Object(u.b)(e,void 0,this.props.users))),l).slice(0,12))),this._handleQueryChange=e=>{this.setState({query:e})},this._getHandleSuggestionSelected=()=>e=>{const{perspective:l}=this.props,{mode:t,participants:n}=this.state;if(e.type===V.b.User||e.type===V.b.DMConversation)if(this._hasAtLeastOneGroupSelected()&&t!==ue.SHARE_TWEET_INDIVIDUALLY)e.id===n[0].id&&this._handleRemoveParticipant(e);else if(e.type===V.b.DMConversation)if(t===ue.SHARE_TWEET||t===ue.SHARE_TWEET_INDIVIDUALLY)this._createConversationObjectForSelectionPill(e,t===ue.SHARE_TWEET_INDIVIDUALLY);else{const t=ge(e,l);this._goToConversation(t)}else this._handleParticipantToggle(e)},this._createConversationObjectForSelectionPill=(e,l)=>{const{conversations:t,perspective:n,users:a}=this.props,{participants:i}=this.state,s=t.find((l=>e.id===l.conversation_id));if(s){const t=Object(u.b)(s,void 0,a),r=Object(d.a)(t,n);e.data={...t,conversationId:e.data.conversationId,name:r||""},l?i.find((({id:l})=>l===e.id))?this._handleRemoveParticipant(e):this.setState({participants:i.concat(e)}):this.setState({participants:[e]})}},this._handleParticipantToggle=e=>{const l=this.state.participants;if(l.find((({id:l})=>l===e.id)))this._handleRemoveParticipant(e);else{const t=l.concat(e);this.setState({participants:t})}},this._handleRemoveParticipant=e=>{const l=this.state.participants.filter((l=>l.id!==e.id));this.setState({participants:l})},this._handleConversationRouting=()=>{const{tweetAttachment:e}=this.props;e?this._handleShareTweet():this._handleCreateConversation()},this._getExistingGroupConversationFromCache=e=>{const{conversations:l}=this.props;return l.find((l=>{const t=l.participants.length-1;return!l.name&&t===e.length&&e.every((e=>Boolean(l.participants.find((l=>e.id===l.user_id)))))}))},this._getExistingGroupConversationFromApi=e=>{const l=e.map((e=>e.id)).join(",");return this.props.fetchConversationFromParticipants(l)},this._getExistingGroupConversation=e=>{if(e.length<=1)return Promise.resolve();const l=this._getExistingGroupConversationFromCache(e);return l?Promise.resolve(l):this._getExistingGroupConversationFromApi(e)},this._handleCreateConversation=()=>{const{history:e,initialMessage:l,perspective:t,tweetAttachment:n}=this.props,{participants:a}=this.state;if(1===a.length){const e=ge(a[0],t);this._goToConversation(e)}else{const t=this._getExistingGroupConversation(a);this._disableFocusingPreviousActiveElement&&this._disableFocusingPreviousActiveElement(),t.then((e=>{if(!e)throw new Error("No conversation found");this._goToConversation(e.conversation_id)})).catch((()=>{e.replace({pathname:"/messages/group",query:{[H]:l},state:{participants:a,tweetAttachment:n,isNewGroupConversation:!0}})})),this._disableFocusingPreviousActiveElement&&this._disableFocusingPreviousActiveElement()}},this._handleShareTweetToGroup=(e,l)=>(this.setState({mode:ue.CREATE_GROUP,isSending:!0}),this._handleShareTweet(e,l)),this._handleShareTweet=(e,l)=>{const{createLocalApiErrorHandler:t,perspective:n,tweetAttachment:a}=this.props,{participants:i}=this.state,s=1===i.length;this.setState({isSending:!0});let r=i;s&&(r=i[0]);const o={senderId:n,tweetAttachment:a,text:l},c=ge(r,n);if(c)return this._sendMessage(c,i,o);return this._getExistingGroupConversation(i).catch(t(B.a)).then((e=>{const l=e?e.conversation_id:null;return this._sendMessage(l,i,o)}))},this._sendMessage=(e,l,t)=>{const{analytics:n,createLocalApiErrorHandler:a,history:i,sendMessage:s}=this.props,{mode:r}=this.state,o={conversationId:void 0,recipients:void 0,...t};if(!e&&Array.isArray(l)){const e=l.map((e=>{if(e.type===V.b.User)return e.data.id_str})).filter(Boolean);o.recipients=e}else o.conversationId=e;const c=a(B.b),d=a(B.c),u={action:"send_tweet_dm"},m={action:"share_error"};if(this._isSharingMode(r)&&null!=l&&l.length&&l.forEach((()=>{n.scribe(u)})),r===ue.SHARE_TWEET_INDIVIDUALLY&&(null==l?void 0:l.length)>1){const e=null==l?void 0:l.map((e=>{const l=ge(e,this.props.perspective);return{...o,conversationId:l,recipients:void 0}}));return Promise.all(e.map((e=>s(e)))).then((()=>{this._displayDMMessageSentSuccessToast(),this.setState({isSending:!1}),i.goBack()})).catch((e=>{n.scribe(m),this.setState({isSending:!1}),d(e)}))}return s(o).then((e=>{this._displayDMMessageSentSuccessToast(e),this.setState({isSending:!1}),i.goBackThroughModals()}),(e=>{this._isSharingMode(r)&&n.scribe(m),this.setState({isSending:!1}),c(e)}))},this._goToConversation=e=>{const{history:l,initialMessage:t,popOutConversation:n,tweetAttachment:a}=this.props;var i,s;(this._disableFocusingPreviousActiveElement&&this._disableFocusingPreviousActiveElement(),e)&&("drawer"===(null==(i=l.location)||null==(s=i.state)?void 0:s.source)?(n(e),l.goBack()):l.replace({pathname:`/messages/${e}`,query:{[H]:t},state:{tweetAttachment:a}}))},this._displayDMMessageSentSuccessToast=e=>{const{addToast:l}=this.props;l({text:e?this.state.mode===ue.CREATE_GROUP?ee:Z:le,action:{link:e?`/messages/${e}`:"/messages",label:J}})},this._separateShareLimit=l.featureSwitches.getNumberValue("dm_share_sheet_send_individually_max_count"),this.state={mode:this._determineMode(this.props),participants:[],query:"",isSending:!1}}componentDidMount(){const{createLocalApiErrorHandler:e,history:l,initialMessage:t,location:{query:n},perspective:a,recipientId:i}=this.props;if(i){const e=Object(r.a)(i,a);l.replace({pathname:`/messages/${e}`,query:{...n,[H]:t}})}else this.props.fetchInboxIfNeeded().catch(e())}componentDidUpdate(e,l){const{participants:t}=this.state;(this.state.mode===ue.SHARE_TWEET||this.state.mode===ue.SHARE_TWEET_INDIVIDUALLY)&&l.participants.length<t.length&&this._composer.current&&this._composer.current.focus()}shouldComponentUpdate(e,l){return!this.state.isSending&&!l.isSending}render(){const{recipientId:e}=this.props;return e?null:a.a.createElement(S.b.Consumer,null,this._renderScreen)}}me.contextType=R.a;const ge=(e,l)=>Array.isArray(e)||e.type!==V.b.DMConversation?Array.isArray(e)||e.type!==V.b.User?null:Object(r.a)(e.data.id_str,l):e.data.conversationId,pe=K.a.create((e=>({fill:{flex:1},button:{marginLeft:e.spaces.space12},container:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,flexDirection:"row",alignItems:"center",paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space16},createGroupButton:{padding:e.spaces.space2,marginRight:e.spaces.space12},popover:{padding:e.spaces.space24},popoverButton:{paddingVertical:e.spaces.space12},popoverElement:{marginVertical:e.spaces.space8},searchIcon:{padding:e.spaces.space8},topBorder:{borderTopColor:e.colors.gray200,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small},rightColumn:{alignItems:"center",flexDirection:"row",flexGrow:1,justifyContent:"flex-end"},shadow:{boxShadow:"0 -1px 3px rgba(0,0,0,0.12)"},placeholder:{height:46},fixToBottom:{position:"fixed",backfaceVisibility:"hidden",bottom:0,left:0,right:0,paddingBottom:K.a.iPhoneOffsetBottom}}))),ye=j(me);l.default=ye},XYIr:function(e,l,t){"use strict";t.d(l,"a",(function(){return c})),t.d(l,"b",(function(){return d})),t.d(l,"c",(function(){return m})),t.d(l,"d",(function(){return p})),t.d(l,"e",(function(){return _})),t.d(l,"f",(function(){return k})),t.d(l,"g",(function(){return b})),t.d(l,"h",(function(){return F})),t.d(l,"i",(function(){return S}));var n=t("ERkP"),a=t.n(n),i=t("cTG8"),s=t("t62R"),r=t("3XMw"),o=t.n(r);const c=(e,l,t,n,s)=>a.a.createElement(a.a.Fragment,null,K(e,l)," ",t&&a.a.createElement(i.a,{displayTextRange:[0,t.length],entities:n,highlightType:"background",hitHighlights:s,key:"message",text:t,withMediaLinks:!0})),d=(e,l,t)=>e?a.a.createElement(o.a.I18NFormatMessage,{$i18n:"i005f1fd"},a.a.createElement(s.b,null,l),a.a.createElement(s.b,null,t||"")):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"b35cee41"},a.a.createElement(s.b,null,t||"")),u=o.a.a9cc8cfe,m=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.eb3d722e):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"dc4b75a1"},a.a.createElement(s.b,null,l)):u,g=o.a.e5bfe07e,p=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.db53c018):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"hcbbbb35"},a.a.createElement(s.b,null,l)):g,y=o.a.bf584cd2,_=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.f80629ba):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"c1e1f849"},a.a.createElement(s.b,null,l)):y,h=o.a.e20b65b0,k=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.d30c2d40):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"c7e2464f"},a.a.createElement(s.b,null,l)):h,v=o.a.a876e58c,b=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.j7d8101a):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"eee2f121"},a.a.createElement(s.b,null,l)):v,f=o.a.dedfd266,F=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.h7033cac):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"be5a9617"},a.a.createElement(s.b,null,l)):f,T=o.a.b1a614fe,S=(e,l,t)=>t?e?a.a.createElement(s.b,null,o.a.d5b762c8):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"dfd2b3b9"},a.a.createElement(s.b,null,l)):T,K=(e,l)=>l?a.a.createElement(s.b,{key:"senderName"},a.a.createElement(o.a.I18NFormatMessage,{$i18n:"b3a2b11d"},a.a.createElement(s.b,null,e))):null},XZOd:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"EvolutionDMInboxSecondaryQuery",selections:[{alias:"untrusted",args:[a={kind:"Variable",name:"count",variableName:"count"},i={kind:"Literal",name:"desired_lists",value:["Untrusted"]},s={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},r={kind:"Literal",name:"s",value:17},o={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"__EvolutionDMInboxSecondaryQuery_dm_convo_list_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"low_quality",args:m=[a,u={kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Literal",name:"desired_lists",value:["LowQuality"]},s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"EvolutionDMInboxSecondaryQuery",selections:[{alias:"untrusted",args:g=[a,u,i,s,r,o],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[_={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},_],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},b={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},_],type:"User",abstractKey:null}],storageKey:null},f={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},_],storageKey:null}],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[_,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},h,T,k,v],storageKey:null},b,F],type:"User",abstractKey:null}],storageKey:null},f,_],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[p,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:S=[_],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p,{kind:"InlineFragment",selections:K=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:K,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:K,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},_],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:S,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},T,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,T],storageKey:null},b,_],type:"User",abstractKey:null}],storageKey:null},f,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[F,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[T],storageKey:null},b,_],type:"User",abstractKey:null}],storageKey:null},f,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},F,_],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},c],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null},d],type:"DMConvoListSlice",abstractKey:null}],storageKey:null},{alias:"untrusted",args:g,filters:["count","desired_lists","known_lists","s","sort_by"],handle:"slice",key:"EvolutionDMInboxSecondaryQuery_dm_convo_list_slice",kind:"LinkedHandle",name:"dm_convo_list_slice"},{alias:"low_quality",args:m,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[p,y,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[p,{kind:"InlineFragment",selections:S,type:"DMConversation",abstractKey:null},c],storageKey:null},_],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:null}]},params:{id:"qQhbAvYHElGk7VIUFdll7g",metadata:{sliceInfoPath:["untrusted","slice_info"]},name:"EvolutionDMInboxSecondaryQuery",operationKind:"query",text:null}};R.hash="02c89e4a60b7684bb3a0b1864b759197",e.exports=R},XiYe:function(e,l,t){"use strict";var n=t("ERkP"),a=n.useEffect,i=n.useRef;e.exports=function(){var e=i(!0);return a((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},XoqV:function(e,l,t){"use strict";t.r(l),t.d(l,"DMParticipantsScreen",(function(){return S}));var n=t("ERkP"),a=t.n(n),i=t("MMRb"),s=t("rxPX"),r=t("RqPI"),o=t("0KEI");const c=(e,l)=>l.match.params.conversationId,d=(e,l)=>i.selectConversationFetchStatus(e,c(0,l)),u=(e,l)=>{var t;return null==(t=i.selectConversation(e,l.match.params.conversationId))?void 0:t.data};var m=Object(s.a)().propsFromState((()=>({conversationId:c,fetchStatus:d,perspective:r.s,conversation:u}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(o.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_PARTICIPANTS"),fetchConversationIfNeeded:i.fetchConversationIfNeeded}))).withAnalytics({page:"messages",section:"view_participants"}),g=t("I2k/"),p=t("v//M"),y=t("3XMw"),_=t.n(y),h=t("M2mT"),k=t("Es6L"),v=t("rHpw"),b=t("hqDb"),f=t("yw4N");const F=_.a.g2fd3206,T=_.a.d4986f86;function S(e){const{conversation:l,conversationId:t,createLocalApiErrorHandler:n,fetchConversationIfNeeded:i,fetchStatus:s}=e,r=a.a.useCallback((()=>{i({conversationId:t}).catch(n(Object(g.a)(t)))}),[n,t,i]),o=a.a.useCallback((()=>{const e=((null==l?void 0:l.participants)||[]).map((({user_id:e})=>e));return a.a.createElement(b.a,{userIds:e,withItemBorder:!0})}),[l]);return a.a.useEffect((()=>{r()}),[r]),a.a.createElement(h.a,{backLocation:`/messages/${t}/info`,documentTitle:T,screenType:"secondaryDetail",title:F},a.a.createElement(f.a,{style:[K.root,!Object(k.a)()&&K.bottomOffset]},a.a.createElement(p.a,{fetchStatus:s,onRequestRetry:r,render:o})))}const K=v.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},bottomOffset:{paddingBottom:`calc(${v.a.theme.componentDimensions.appBarHeight} + ${v.a.iPhoneOffsetBottom})`}}))),R=m(S);l.default=R},YemM:function(e,l,t){"use strict";const n=t("rHpw").a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16,width:"100%"},rootMessageAttachment:{paddingVertical:`calc(${e.spaces.space2} + ${e.spaces.space8})`},active:{backgroundColor:e.colors.gray0},avatarCellContainer:{flexGrow:1,maxWidth:e.spaces.space32,marginRight:`calc(${e.spaces.space2} + ${e.spaces.space8})`,minWidth:e.spaces.space32},bodyColumn:{flexDirection:"row"},inlineTimestamp:{flexDirection:"row"},inlineTimestampVDL:{flexDirection:"row",alignItems:"center"},messageSearchTitleContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},titleContainer:{flex:1},inlineNotificationsDisabledIcon:{paddingLeft:`calc(${e.spaces.space2} * 3)`,color:e.colors.gray700},inlineNotificationsDisabledIconVDL:{width:e.spaces.space16,height:e.spaces.space16},hiddenMenu:{opacity:0,overflow:"hidden",width:0},menu:{alignSelf:"flex-start"},menuContainer:{height:0,marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`},messageSearchResultMenuContainer:{height:"100%",marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`},notificationsDisabledIcon:{alignSelf:"flex-end",color:e.colors.gray700,paddingTop:e.spaces.space4},unreadMessagePip:{backgroundColor:e.colors.blue500,marginTop:`calc(${e.spaces.space8} - ${e.spaces.space1})`,height:e.baseFontSize-5,width:e.baseFontSize-5},unreadMessagePipMessageSearchResult:{marginTop:0,top:`calc(-3 * ${e.spaces.space2} + ${e.spaces.space1})`},vdlXButton:{border:"none",marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`,marginRight:`calc(-1 * ${e.spaces.space4})`,marginTop:`calc(-1 * (${e.spaces.space8} - ${e.spaces.space1}))`},xButton:{alignSelf:"center",marginRight:`calc(-1 * ${e.spaces.space4})`},xIcon:{height:`calc(${e.spaces.space28} - ${e.spaces.space1})`,width:`calc(${e.spaces.space28} - ${e.spaces.space1})`},trashcanIcon:{color:e.colors.gray700},snippet:{maxHeight:e.spaces.space40,overflow:"hidden"},snippetPadding:{paddingRight:`calc(${e.spaces.space28} + ${e.spaces.space1} * 0.75)`},unread:{backgroundColor:e.colors.unreadCellBackground},socialProofContainer:{marginTop:e.spaces.space4},socialProofText:{marginLeft:0},convoLabelIcon:{marginRight:e.spaces.space4},endCell:{marginLeft:e.spaces.space16}})));l.a=n},ZH9U:function(e,l,t){"use strict";var n,a,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxAppend_Mutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:20}],concreteType:null,kind:"LinkedField",name:"add_dm_conversation_label_v3",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],type:"DMConversationLabelInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"failure_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"DMConversationLabelUnavailable",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxAppend_Mutation",selections:a},params:{id:"o0aymgGiJY-53Y52YSUGVA",metadata:{},name:"DMPinnedInboxAppend_Mutation",operationKind:"mutation",text:null}};i.hash="86e5601441f8d07b68ccbcf112746d23",e.exports=i},ZYFu:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("MMRb"),s=t("1YZw"),r=t("hqKg"),o=t("AQOc"),c=t("G6rE"),d=t("xZGM"),u=t("0KEI"),m=t("oEGd");const g=(e,l)=>l.conversationId,p=Object(r.createSelector)(g,((e,l)=>i.selectConversation(e,g(0,l))),i.selectEntries,c.e.selectAll,((e,l)=>!i.selectConversationIsRead(e,g(0,l))),((e,l)=>{const t=g(0,l);return Object(i.selectInboxTypeByConversation)(e,t)}),((e,l)=>Object(d.E)(e,d.t)),((e,l,t,n,a,i,s)=>({conversation:(null==l?void 0:l.data)&&Object(o.a)(l.data,t,n),conversationId:e,unread:a,inboxType:i,shouldShowPinnedEducation:s}))),y={addFlag:d.A,addRecentSearch:i.addRecentSearches,addToast:s.b,block:c.e.block,createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX_ITEM"),disableNotifications:i.disableNotifications,enableNotifications:i.enableNotifications,leaveConversation:i.leaveConversation,muteDMUser:i.muteDMUser,unmuteDMUser:i.unmuteDMUser,unblock:c.e.unblock};var _=Object(m.f)(p,y),h=t("aA19"),k=t("OhSZ"),v=t("t62R"),b=t("g54k"),f=t("rxPX");const F=(e,l)=>l.entry;var T=Object(f.a)().propsFromState((()=>({users:Object(r.createSelector)(c.e.selectAll,F,b.b)}))).adjustStateProps((({users:e})=>({...e}))),S=t("zQEV"),K=t("4n2h");var R=T((({entry:e,entryType:l,isSelected:t=!1,perspective:n,unread:i=!1,users:s})=>{const r=Object(S.a)(e,l,n,s),o=Object(K.b)(i),c=Object(K.a)(i,t);return a.a.createElement(v.b,{color:c,weight:o},r)})),E=t("v6aA"),L=t("vjRr");const C=(e,l)=>{var t,n,a;return l.isMessageItem&&(null==(t=l.entry)||null==(n=t.message_data)||null==(a=n.attachment)?void 0:a.card)},I=(e,l)=>c.e.select(e,l.senderId),w=(e,l)=>l.recipientId?c.e.select(e,l.recipientId):void 0;var x=Object(f.a)().propsFromState((()=>({card:L.a.createSingleHydratedSelector(C),user:I,recipient:w}))),M=t("ijJS"),O=t("3dad"),A=t("XYIr"),D=t("X/yg");var P=x((({card:e,entry:l,perspective:t,isGroupDM:n,highlightingTokens:i,isMessageItem:s,unread:r=!1,user:o={},recipient:c={},isSelected:d=!1})=>{var u;const{featureSwitches:m}=a.a.useContext(E.a),g=l&&l.message_data;if(!g)return null;const{attachment:p}=g,y=p&&!!(p.video||p.photo||p.animated_gif||p.tweet||p.fleet||p.sticker||p.card);let _;const h=t===o.id_str,k=!(!y||!h)||!(!n||h),v=o.name,b=c.name;let f;if(i&&null!=i&&i.length&&null!=g&&g.text){const e=Object(D.n)(i);f=null!=e&&e.length?null==e?void 0:e.map((e=>Object(D.h)(e,g.text))):void 0}let F,T=Object(A.a)(v,k,null==g?void 0:g.text,g.entities,f);const S=T;p&&(p.tweet?(F=p.tweet.status,T=Object(A.i)(h,v,k)):p.fleet?T=Object(A.b)(h,b,g.text):p.video?Object(D.p)(p,m)?(T=Object(A.h)(h,v,k),_=p.video):(T=Object(A.g)(h,v,k),_=p.video):p.photo?(T=Object(A.e)(h,v,k),_=p.photo):p.animated_gif?(T=Object(A.c)(h,v,k),_=p.animated_gif):p.sticker?T=Object(A.f)(h,v,k):p.card&&(T=Object(A.d)(h,v,k)));const K=_&&s?O.a.getOriginalImage(_):null,R=null==(u=_)?void 0:u.ext_alt_text;return a.a.createElement(M.a,{accessibilityLabel:R,card:e,content:s?S:T,isMessageSearchItem:s,isSelected:d,searchImage:K,tweetId:F,tweetUserId:g.sender_id,unread:r})})),U=t("uKEd");const H=(e,l)=>l.senderId?c.e.select(e,l.senderId):void 0,W=(e,l)=>Object(U.n)(e,l.reactionEntry.message_id),N=(e,l)=>{const t=W(e,l);return t&&t.message_data&&c.e.select(e,t.message_data.sender_id)};var q=Object(f.a)().propsFromState((()=>({reactingUser:H,reactedMessageEntry:W,messageUser:N}))),j=t("3XMw"),B=t.n(j),V=t("33Kz");var z=q((({isGroupDM:e,isSelected:l=!1,messageUser:t,perspective:n,reactedMessageEntry:i,reactingUser:s,reactionEntry:r,unread:o=!1})=>{const{featureSwitches:c}=a.a.useContext(E.a),d=i&&i.message_data,u=d&&d.attachment,m=d&&d.text,g=t&&t.screen_name,p=n===(s&&s.id_str),y=s&&s.name,_=Object(V.b)(r.reaction_key||"",c),h=Object(K.b)(o),k=Object(K.a)(o,l);let b;return b=u&&u.tweet?e?((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"c4202785"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"b493a891"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,g,_):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"ca684bf5"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"h5797be5"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_):u&&u.video?e?((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"d1f8bdd9"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"d764af97"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,g,_):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"ab1cdfe3"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"f0cf1699"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_):u&&u.photo?e?((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"hec0fd4d"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"j55320df"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,g,_):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"jf27606b"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"cd110359"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_):u&&u.animated_gif?e?((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"e70dcc35"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"g1bf440b"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,g,_):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"b2da1bf9"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"g84c0421"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_):u&&u.card?e?((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"cd2e7c19"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"aee9e7fb"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,g,_):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"f9fb1cf7"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"f2bf910f"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_):m?e?((e,l,t,n,i)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"i6cec545"},a.a.createElement(v.b,null,n),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,i)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"d6998bab"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,n),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,i)))(p,y,_,g,m):((e,l,t,n)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"cec676f3"},a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"a2706f9b"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t),a.a.createElement(v.b,null,n)))(p,y,_,m):((e,l,t)=>e?a.a.createElement(B.a.I18NFormatMessage,{$i18n:"d6b15bbf"},a.a.createElement(v.b,null,t)):a.a.createElement(B.a.I18NFormatMessage,{$i18n:"ac0d4bc7"},a.a.createElement(v.b,null,l),a.a.createElement(v.b,null,t)))(p,y,_),a.a.createElement(v.b,{color:k,numberOfLines:1,weight:h},b)})),G=t("H4nC"),Q=t("/8XK"),Y=t("b9JY");var X=({conversationType:e,entry:l,highlightingTokens:t,isMessageItem:n=!1,isSelected:s=!1,perspective:r,unread:o})=>{if(l.marked_as_spam)return Object(Q.a)(o,s);if(Object(Y.b)(l)){const{message_data:{recipient_id:c,sender_id:d}={}}=l;return a.a.createElement(P,{entry:l,highlightingTokens:t,isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isMessageItem:n,isSelected:s,perspective:r,recipientId:c,senderId:d,unread:o})}return Object(Y.c)(l)?a.a.createElement(z,{isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isSelected:s,perspective:r,reactionEntry:l,senderId:l.sender_id,unread:o}):Object(Y.a)(l)?a.a.createElement(R,{entry:l,entryType:l.type,isSelected:s,perspective:r,unread:o}):Object(Y.d)(l)?a.a.createElement(G.a,{entry:l,isCompact:!0,isSelected:s,unread:o}):null},$=t("Myq3"),J=t("3wZR"),Z=t("XnpN"),ee=t("IpT4"),le=t("VcIV"),te=t("aWyx"),ne=t("YemM"),ae="conversation",ie=t("MWbm"),se=t("Irs7"),re=t("8hvq"),oe=t("Znyr"),ce=t("0PHd"),de=t("yrzJ"),ue=t("Xrkv"),me=t("cTG8"),ge=t("GBcw"),pe=t("cm6r"),ye=t("htQn"),_e=t("5mJL"),he=t("AQ79"),ke=t("pHkl");const ve=({children:e})=>a.a.createElement(ie.a,{style:ne.a.socialProofContainer},e);class be extends a.a.Component{constructor(...e){super(...e),this._isPinnedInboxEnabled=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._renderAvatarCell=()=>{const{conversation:e,perspective:l}=this.props;return a.a.createElement(ie.a,{style:ne.a.avatarCellContainer},a.a.createElement(h.a,{conversation:e,perspective:l,size:"large",withBadge:!1}))},this._renderEndCellWithMenu=(e,l,t,n)=>a.a.createElement(a.a.Fragment,null,e?a.a.createElement(ie.a,{style:ne.a.endCell},e):null,this._renderConversationActions({isFocused:l,isFocusedWithin:t,isHovered:n})),this._renderMenu=({isFocused:e,isFocusedWithin:l,isHovered:t})=>{const{conversation:n,conversationId:s,inboxType:r,isMessageItem:o,pinConversation:c,position:d,unpinConversation:u}=this.props;if(n&&c&&u){const m=(e=>{var l;return Boolean(null==e||null==(l=e.labels)?void 0:l.find((e=>e.label_type===he.a.PINNED)))})(n),g=n.notifications_disabled,p=n.participants.length||0,y=n.type===i.CONVERSATION_TYPE.GROUP?"0":this._getUserIdOfOneToOneConvo();return a.a.createElement(le.a,{conversation:n,conversationId:s,conversationType:n.type,inboxType:r,isHovered:e||l||t,isMessageSearchResult:o,isPinned:m,isSnoozed:g,participantCount:p,pinConversation:c,position:d,unpinConversation:u,userId:y})}return null},this._renderConversationActions=({isFocused:e,isFocusedWithin:l,isHovered:t})=>{const{inboxType:n}=this.props;switch(n){case he.d.PRIMARY:return this._isPinnedInboxEnabled?this._renderMenu({isFocused:e,isFocusedWithin:l,isHovered:t}):null;case he.d.SECONDARY:case he.d.TERTIARY:return this._renderX();default:return null}},this._renderConversationEndCell=e=>{const{inboxType:l,isMessageItem:t,searchQuery:n,unread:i}=this.props,s=i?a.a.createElement(oe.a,{pip:!0,style:[ne.a.unreadMessagePip,t&&ne.a.unreadMessagePipMessageSearchResult],truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;switch(l){case he.d.PRIMARY:return this._isVDLEnabled?s:n?null:this._renderTimestamp(e);case he.d.SECONDARY:return this._isVDLEnabled?s:null;default:return null}},this._renderConversationLabel=({convo_label:e})=>{if(null==e||!e.text)return null;const l=Object(J.b)(e.icon);return a.a.createElement(v.b,{color:"gray700",size:"subtext2"},l?a.a.createElement(l,{style:ne.a.convoLabelIcon}):null,e.text)},this._renderSocialProof=({social_proof:e})=>{if(!e||0===e.length)return null;const l=e[0];switch(l.proof_type){case te.d.MUTUAL_FRIENDS:{if(0===l.total)return null;const e=l.users.map((({profile_image_url_https:e})=>e)),t=l.users.map((({name:e})=>e));return a.a.createElement(ve,null,a.a.createElement(v.b,{weight:this._isVDLEnabled?"medium":"normal"},a.a.createElement(ce.a,{displayFacepileInline:!0,knownFollowersAvatarUrls:e,knownFollowersCount:l.total,knownFollowersNames:t,textStyle:this._isVDLEnabled&&ne.a.socialProofText,withFacepile:!this._isVDLEnabled})))}default:return null}},this._renderSearchConversationPreview=()=>{const{conversation:e,highlightingTokens:l,perspective:t,searchQuery:n}=this.props,s=e?Object(Z.a)(e,t):[],r=[],o=(e,l)=>e.localeCompare(l),c=s.map((({user:e})=>e)).filter((e=>{var l;const a=null==(l=e.name)?void 0:l.toLowerCase().includes(n);return e.id_str!==t&&(a&&r.push(e.name),!a)})).map((e=>e.name)).sort(o),d=r.sort(o).concat(c);if(e){if(e.type===i.CONVERSATION_TYPE.ONE_TO_ONE){const[e]=s.map((({user:e})=>e)),t=`@${e.screen_name}`,n=t?Object(D.i)(l,t):null,i=null!=n&&n.length?Object(D.f)(n,t):void 0;return a.a.createElement(de.a,{color:"gray700",renderScreenNameHighlights:i,screenName:e.screen_name})}{const e=!0,t=Object(ue.a)(d,e),n=Object(D.n)(l),i=null==n?void 0:n.filter((e=>t&&-1!==t.toLowerCase().indexOf(e.toLowerCase()))),s=null!=i&&i.length?i.map((e=>Object(D.h)(e,t))):void 0;return a.a.createElement(me.a,{color:"gray700",displayTextRange:[0,t.length],entities:{},highlightType:"background",hitHighlights:s,key:"groupsearchresult",numberOfLines:2,text:t})}}},this._renderX=()=>{const{conversation:e,conversationId:l,inboxType:t,position:n}=this.props,{loggedInUserId:s}=this.context;if(e){const r=Object(D.m)(e,s),o=e.participants.length||0,c=(null==e?void 0:e.type)===i.CONVERSATION_TYPE.GROUP?"0":this._getUserIdOfOneToOneConvo();return a.a.createElement(re.a,{conversationId:l,conversationType:e.type,inboxType:t,participant:r,participantCount:o,position:n,userId:c})}return null},this._getUserIdOfOneToOneConvo=()=>{const{conversation:e,perspective:l}=this.props,t=e&&Object(Z.a)(e,l).map((({user:e})=>e)),n=t&&t[0]||null;return n?n.id_str:""},this._renderTimestamp=e=>{const{conversation:l,isMessageItem:t}=this.props,n=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),i=[n||t?ne.a.inlineNotificationsDisabledIcon:ne.a.notificationsDisabledIcon,n&&ne.a.inlineNotificationsDisabledIconVDL],s=Number(e&&t?null==e?void 0:e.time:null==l?void 0:l.sort_timestamp);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie.a,{style:[t&&ne.a.inlineTimestamp,n&&ne.a.inlineTimestampVDL]},l&&s?a.a.createElement(ge.a,{timestamp:s}):null,null!=l&&l.notifications_disabled?a.a.createElement(ee.a,{style:i}):null))},this._handleOnClick=e=>{const{addRecentSearch:l,analytics:t,conversation:n,conversationId:a,onClick:s,position:r,searchQuery:o}=this.props,c=(null==n?void 0:n.participants.length)||0,d=(null==n?void 0:n.type)===i.CONVERSATION_TYPE.GROUP;o&&(t.scribe({component:"search",element:"conversation",action:"click",data:{conversation_id:a,conversation_participant_count:c,conversation_type:d?ke.l.GROUP:ke.l.ONE_TO_ONE,entry_point:ke.c.ALL,inbox_type:ke.g.PRIMARY,dm_search_result_type:ke.a.CONVERSATION,message_type:ke.h.NOT_APPLICABLE,position:r}}),t.scribe({component:"recent_search",action:"add"}),l(o)),s(e,a,n,r)}}shouldComponentUpdate(e){const l=this.props.conversation,t=null==l?void 0:l.conversation_id,n=null==l?void 0:l.notifications_disabled,a=null==l?void 0:l.last_read_event_id,i=null==l?void 0:l.sort_event_id,s=null==l?void 0:l.max_entry_id,r=null==l?void 0:l.convo_label,o=this.props.highlightingTokens,c=this.props.messageId,d=e.conversation,u=null==d?void 0:d.conversation_id,m=null==d?void 0:d.notifications_disabled,g=e.highlightingTokens,p=null==d?void 0:d.last_read_event_id,y=null==d?void 0:d.sort_event_id,_=null==d?void 0:d.max_entry_id,h=null==d?void 0:d.convo_label,k=e.messageId,{filter:v,isActive:b}=this.props,{filter:f,isActive:F}=e;return t!==u||n!==m||o!==g||a!==p||i!==y||s!==_||c!==k||b!==F||v!==f||r!==h}render(){var e;const{conversation:l,highlightingTokens:t,isActive:n,isMessageItem:s,link:r,messageId:o,perspective:c,position:d,searchQuery:u,unread:m}=this.props,g=(null==l?void 0:l.entries)||[],p=s?g.find((e=>e.id===o)):Object($.a)(g,(e=>!ke.b.includes(e.type))),y=null==p||null==(e=p.message_data)?void 0:e.attachment,_=[ne.a.root,s&&y&&ne.a.rootMessageAttachment,m&&!this._isVDLEnabled&&ne.a.unread,n&&this._isVDLEnabled&&ne.a.active],v=(null==l?void 0:l.type)===i.CONVERSATION_TYPE.GROUP,b=this._isVDLEnabled&&v;if(!l)return null;const f=!!l.convo_label,F=!l.trusted&&!f,T=this._renderConversationEndCell(p),S=u&&!s;let K="text",R="bold";return this._isVDLEnabled&&!m&&(K="gray900",R="medium"),this._isVDLEnabled&&n&&(K="text",R="medium"),!l||!u&&l.isSearchResultOnly?null:a.a.createElement(pe.a,null,(({isFocused:e,isFocusedWithin:i,isHovered:o})=>{var g;return a.a.createElement(ye.a,{accessibilityRole:"none",accessibilityState:{selected:n},link:{pathname:null==r?void 0:r.pathname,anchorless:!0,state:{...null==r?void 0:r.state,position:d,entryPoint:s?null==p?void 0:p.id:null,isMessageItem:s}},onPress:this._handleOnClick,style:_,testID:ae},a.a.createElement(_e.a,{avatarCell:s?void 0:a.a.createElement(h.a,{conversation:l,perspective:c,withBadge:b}),avatarSize:"xxLarge"},a.a.createElement(ie.a,{style:ne.a.bodyColumn},a.a.createElement(ie.a,{style:ne.a.titleContainer},a.a.createElement(ie.a,{style:s?ne.a.messageSearchTitleContainer:void 0},a.a.createElement(k.b,{conversation:l,highlightingTokens:t,isConversationSearchTitle:!!S,isMessageSearchTitle:!!s,perspective:c,renderAvatarCell:this._renderAvatarCell,renderTimestamp:()=>this._renderTimestamp(p),textColor:K,titleWeight:R,withScreenName:!u&&!s,withVDLRefresh:this._isVDLEnabled}),a.a.createElement(ie.a,{style:ne.a.messageSearchTitleContainer},s?this._renderEndCellWithMenu(T,e,i,o):null)),a.a.createElement(ie.a,{style:[!(s&&(null!=y&&y.card||null!=y&&y.tweet))&&ne.a.snippet,!e&&!i&&!o&&!(s&&null!=p&&null!=(g=p.message_data)&&g.attachment)&&ne.a.snippetPadding]},p&&!S?a.a.createElement(X,{conversationType:l.type,entry:p,highlightingTokens:t,isMessageItem:s,isSelected:this._isVDLEnabled&&n,perspective:c,unread:this._isVDLEnabled&&m}):S?this._renderSearchConversationPreview():null),f?this._renderConversationLabel(l):null,F?this._renderSocialProof(l):null),s?null:this._renderEndCellWithMenu(T,e,i,o))))}))}}be.contextType=E.a,be.defaultProps={searchQuery:"",inboxType:"primary",isActive:!1,filter:e=>!0};l.a=Object(se.a)(_(be),{page:"messages",section:"inbox"})},b5s6:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("v6aA"),o=t("XOJV"),c=t("eSoz"),d=t("rxPX"),u=t("0KEI");const m=(e,l)=>l.tweetId,g=(e,l)=>{const t=l.tweetId,n=t&&o.a.select(e,t);return n?Object(c.g)(e,n):void 0};var p=Object(d.a)().propsFromState((()=>({community:g,hydratedTweet:o.a.createHydratedTweetSelector(m)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:c.c.fetchOneIfNeeded}))),y=t("YeIG"),_=t("uCxL"),h=t("Irs7"),k=t("x5Pi");const v=p((({community:e,createLocalApiErrorHandler:l,fetchCommunityIfNeeded:t,hydratedTweet:n,onPress:i,tweetId:o,...c})=>{const{featureSwitches:d,loggedInUserId:u}=s.a.useContext(r.a),m=Object(h.b)(),g=null==n?void 0:n.community_id_str;s.a.useEffect((()=>{g&&Object(y.a)(e)&&t(g).catch(l())}),[e,g,l,t]);const p=s.a.useCallback((e=>{m.scribeAction("click"),i&&i(e)}),[i,m]),v=n&&Object(k.f)(n,u,e),b=v&&Object(k.e)(v),f=d.isTrue("responsive_web_reactions_enabled");return s.a.createElement(_.a,a()({},c,{loggedInUserId:u,onPress:p,shouldShowAltLabelAlways:!0,socialContextProps:b,tweet:n,withReactions:f}))}));l.a=v},b9JY:function(e,l,t){"use strict";t.d(l,"b",(function(){return a})),t.d(l,"e",(function(){return i})),t.d(l,"d",(function(){return s})),t.d(l,"c",(function(){return r})),t.d(l,"a",(function(){return c}));var n=t("aWyx");const a=e=>e&&e.type===n.b.MESSAGE,i=e=>e&&e.type===n.b.WELCOME_MESSAGE,s=e=>e&&e.type===n.b.TRUST_CONVERSATION,r=e=>e&&e.type===n.b.REACTION_CREATE,o=[n.b.CONVERSATION_AVATAR_UPDATE,n.b.CONVERSATION_NAME_UPDATE,n.b.JOIN_CONVERSATION,n.b.PARTICIPANTS_JOIN,n.b.PARTICIPANTS_LEAVE],c=e=>e&&o.indexOf(e.type)>-1},cIoY:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("1YZw"),s=t("rxPX"),r=Object(s.a)().propsFromActions((()=>({addToast:i.b}))),o=(t("kYxP"),t("k/Ka")),c=t("3XMw"),d=t.n(c),u=t("sgih"),m=t("t62R"),g=t("/yvb"),p=t("rHpw");const y=d.a.cfd2f35e;class _ extends a.a.Component{constructor(...e){super(...e),this._handleOnFocus=e=>{e.currentTarget.select()}}render(){const{cancelButtonLabel:e,description:l,headerText:t,link:n,onCancel:i}=this.props,s=Object(o.a)("input",{autoFocus:!0,onFocus:this._handleOnFocus,readOnly:!0,style:h.linkInput,value:n});return a.a.createElement(u.a,{onMaskClick:i,style:h.container,type:"center",withMask:!0},t&&a.a.createElement(m.b,{align:"center",style:h.headerText,weight:"bold"},t),l&&a.a.createElement(m.b,{align:"center",color:"gray700",style:h.labelText},l),s,a.a.createElement(g.a,{onPress:i,size:"xLarge",style:h.cancelButton,type:"brandText"},e))}}_.defaultProps={cancelButtonLabel:y};const h=p.a.create((e=>({container:{alignItems:"center",paddingVertical:e.spaces.space32,paddingHorizontal:e.spaces.space12,position:"relative"},headerText:{marginBottom:e.spaces.space16},labelText:{marginBottom:e.spaces.space16,width:"100%"},linkInput:{backgroundColor:e.colors.gray0,borderColor:"transparent",color:e.colors.gray700,fontSize:e.fontSizes.body,marginBottom:e.spaces.space12,paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space20},cancelButton:{width:"100%"}})));var k=_,v=t("I/9y"),b=t("mjJ+"),f=t("cm6r"),F=t("CaKu"),T=t("U+bB");const S=d.a.e05c00b4,K=d.a.eabf2209,R=d.a.a613e720,E=d.a.f88553c8,L={riffsy:"https://abs.twimg.com/a/1501527574/img/t1/icon_riffsy.png",giphy:"https://abs.twimg.com/a/1501527574/img/t1/icon_giphy.png"};class C extends a.a.PureComponent{constructor(e){super(e),this._renderMenu=e=>a.a.createElement(b.a,{items:[{text:R,Icon:v.a,onClick:this._handleCopyGifLinkButtonClick}],onCloseRequested:e}),this._handleCopyGifLinkButtonClick=e=>{const{addToast:l,gifUrl:t}=this.props;F.a.isAvailable()?(F.a.setString(t),l({text:E})):this.setState({showCopyLinkSheet:!0}),e&&e()},this._handleCopyLinkSheetCancel=()=>{this.setState({showCopyLinkSheet:!1})},this.state={showCopyLinkSheet:!1}}render(){const{showCopyLinkSheet:e}=this.state,{gifUrl:l,provider:t}=this.props,{display_name:n,name:i}=t,s=L[i];return s?a.a.createElement(a.a.Fragment,null,e?a.a.createElement(k,{description:K({providerName:n}),headerText:S,link:l,onCancel:this._handleCopyLinkSheetCancel}):null,a.a.createElement(m.b,{align:"center",color:"gray700",style:I.root},a.a.createElement(d.a.I18NFormatMessage,{$i18n:"e2e6ea0d"},this._renderAttribution(n,s)))):null}_renderAttribution(e,l){return a.a.createElement(f.a,{interactiveStyles:null,renderMenu:this._renderMenu},a.a.createElement(m.b,{weight:"bold",withInteractiveStyling:!0},a.a.createElement(T.a,{source:{uri:l},style:I.image}),a.a.createElement(m.b,null,e.toUpperCase())))}}const I=p.a.create((e=>({button:{marginLeft:e.spaces.space12},image:{display:"inline-block",height:e.spaces.space16,marginHorizontal:e.spaces.space4,width:e.spaces.space16},root:{marginHorizontal:e.spaces.space12}})));var w=C;const x=r((({addToast:e,gifUrl:l,provider:t})=>a.a.createElement(w,{addToast:e,gifUrl:l,provider:t})));l.a=x},cOtO:function(e,l,t){"use strict";t.r(l),t.d(l,"DMConversationScreen",(function(){return R}));t("MvUL");var n=t("ERkP"),a=t.n(n),i=t("v6aA"),s=(t("kYxP"),t("MMRb")),r=t("CDB5"),o=t("RqPI"),c=t("AQOc"),d=t("z2Pn"),u=t("pNZL"),m=t("G6rE"),g=t("rxPX"),p=t("X/yg");const y=(e,l)=>l.match.params.conversationId,_=(e,l)=>s.selectConversation(e,y(0,l)),h=(e,l)=>r.j(e,y(0,l)),k=(e,l)=>r.i(e,y(0,l));var v=Object(g.a)().propsFromState((()=>({conversation:_,entries:s.selectEntries,conversationId:y,isNewGroupConversation:p.q,perspective:o.s,newConversationParticipants:p.r,tweetAttachment:p.s,users:m.e.selectAll,isUploading:h,media:k}))).adjustStateProps((({conversation:e,conversationId:l,entries:t,isNewGroupConversation:n,isUploading:a,media:i,newConversationParticipants:s,perspective:r,tweetAttachment:o,users:d})=>{const u=null==e?void 0:e.data;return{conversation:u&&Object(c.a)(u,t,d)||void 0,conversationId:l,isNewGroupConversation:n,isUploading:a,media:i,newConversationParticipants:s,perspective:r}})).propsFromActions((({match:{params:{conversationId:e}}})=>({cancelUpload:Object(p.a)(e),removeMedia:Object(p.b)(e),setLastViewedDmInboxPath:d.h,updateTweetDetailNav:u.b}))).withAnalytics({page:"messages",section:"thread"}),b=t("i4Oy"),f=t("Oi4X"),F=t("qBaR"),T=t("yoO3"),S=t("7myi"),K=t("rHpw");class R extends a.a.PureComponent{constructor(e,l){super(e,l),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),this.state={isProfileVisible:!1},this._composer=a.a.createRef(),this._handleProfileVisibilityChange=e=>{var l;(null==(l=this.state)?void 0:l.isProfileVisible)!==e&&this.setState({isProfileVisible:e})},this._handleInfoClick=()=>{const{conversationId:e,history:l}=this.props;e&&l.push(`/messages/${e}/info`)},this._updateLastViewDmInboxPath=()=>{const{location:e,setLastViewedDmInboxPath:l}=this.props;l(e.pathname)};const{conversationId:t,history:n,isNewGroupConversation:i,location:s}=e;t||i||s.pathname!==window.location.pathname||n.replace({pathname:"/messages"})}componentDidMount(){this._updateLastViewDmInboxPath()}componentDidUpdate(e){const{conversationId:l}=this.props;l!==e.conversationId&&this._updateLastViewDmInboxPath()}render(){const{conversation:e,conversationId:l,history:t,location:n,newConversationParticipants:i,perspective:s,richTextInputContext:r,typeaheadWrapper:o}=this.props,c="string"==typeof n.query.text?n.query.text:void 0,d=b.a.get("window").width>=K.a.theme.breakpoints.small;return a.a.createElement(T.a,null,a.a.createElement(F.a,{conversation:e,conversationId:l,newConversationParticipants:i,perspective:s,showTitle:!(this._isVDLEnabled&&this.state.isProfileVisible)},a.a.createElement(f.a,{conversationId:l,history:t,isWide:d,location:n,onConversationProfileVisibilityChange:this._handleProfileVisibilityChange,prefillText:c,richTextInputContext:r,typeaheadWrapper:o})))}}R.contextType=i.a,R.defaultProps={isNewGroupConversation:!1,typeaheadWrapper:S.a};const E=v(R);l.default=E},cayG:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E,L,C,I,w,x,M,O,A,D,P,U,H,W,N,q,j,B,V,z,G,Q,Y,X,$,J,Z,ee,le,te,ne,ae,ie,se,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,fe,Fe,Te,Se,Ke,Re,Ee,Le,Ce,Ie,we,xe,Me,Oe,Ae,De,Pe,Ue,He,We,Ne,qe,je,Be,Ve,ze,Ge,Qe,Ye,Xe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,fl,Fl,Tl,Sl,Kl,Rl,El,Ll,Cl,Il,wl,xl,Ml,Ol,Al,Dl,Pl,Ul,Hl,Wl,Nl,ql,jl,Bl,Vl,zl,Gl,Ql,Yl,Xl,$l,Jl,Zl,et,lt,tt,nt,at,it,st,rt,ot,ct,dt,ut,mt,gt,pt,yt,_t,ht,kt,vt,bt,ft,Ft,Tt,St,Kt,Rt,Et,Lt,Ct,It,wt,xt,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,Bt,Vt,zt,Gt,Qt,Yt,Xt,$t,Jt,Zt,en,ln,tn,nn=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},a={defaultValue:null,kind:"LocalArgument",name:"id"},i={defaultValue:!1,kind:"LocalArgument",name:"withAttachments"},s={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},o={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},c=[{kind:"Variable",name:"conversation_id",variableName:"id"},{kind:"Literal",name:"s",value:28}],d={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},f={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,b],storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},K={kind:"InlineFragment",selections:[F,T,S],type:"ApiImage",abstractKey:null},R={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},L={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[R,v,b,E],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null},x={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[C,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null},M={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},z=[q,j,B,V],G={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:z,storageKey:null}],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Y={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:z,storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},le=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],te=[$,S,T,F,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[J,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},Z],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[ee,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:le,storageKey:null}],storageKey:null}],storageKey:null}],ne={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},se={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:te,storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},oe={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},re,V],storageKey:null},ce={kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[u,X,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[Q,{kind:"InlineFragment",selections:te,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ne,ae,ie,se,oe,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[$,ne,se,oe],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},de={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ue={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:le,storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ge={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[de,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},J,Z,V],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ue,ee],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},me,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[R,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},pe={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},v],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ye={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},_e={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ye,V],storageKey:null},he=[V],ke={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:he,storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Fe={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Te={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ke={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Re=[N],Ee={kind:"InlineFragment",selections:Re,type:"TimelineRichTextCashtag",abstractKey:null},Le={kind:"InlineFragment",selections:[u,V],type:"TimelineRichTextList",abstractKey:null},Ce={kind:"InlineFragment",selections:Re,type:"TimelineRichTextHashtag",abstractKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},we={kind:"InlineFragment",selections:[V,ye,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},Ie,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[de,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},xe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[b],storageKey:null},Me={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Ae={kind:"InlineFragment",selections:[Me,Oe],type:"UserUnavailable",abstractKey:null},De={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},Pe={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Ue={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},ze={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[q,j,V,B],storageKey:null},Ge=[ze],Qe=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:Ge,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:Ge,storageKey:null}],Ye={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:Qe,storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},yl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ee,ue],storageKey:null}],_l=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:yl,storageKey:null}],storageKey:null}],storageKey:null}],hl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:_l,storageKey:null},kl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},vl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:_l,storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},fl={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},Cl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:Qe,storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},Ol={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[u,v,Ml],storageKey:null},Al={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[d,xl,Ol],storageKey:null},Dl={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Pl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},Ul={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},Wl={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},Bl=[me,jl],Vl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:Bl,storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},$l={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:he,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:he,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},Zl={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},et={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:yl,storageKey:null},lt={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},tt={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},nt={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},at={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},it={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[tt,nt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[at],storageKey:null}],storageKey:null},st={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},rt={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ot={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},dt=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[st,rt,ot,ct],storageKey:null}],ut={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},v,b,me],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:dt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:dt,storageKey:null}],storageKey:null},mt={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},gt=[ot,ct,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],pt={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:gt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:gt,storageKey:null}],storageKey:null},yt={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[J,Z,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[st,rt,ct,ot],storageKey:null}],storageKey:null},_t={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},ae,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},re,V],storageKey:null}],storageKey:null},ht={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[R,v,b,B],storageKey:null},kt=[B,N],vt={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:kt,storageKey:null},bt={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:kt,storageKey:null},ft={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},Ft={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Tt={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},St={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:Bl,storageKey:null},Kt={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},Rt={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Et={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},Lt={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},Ct={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},It={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},wt={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},xt={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},V],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[jl,me],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:[u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},v,u,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},V],storageKey:null},Mt={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Ot={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},At={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},Dt={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},Ml],storageKey:null},Pt={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Ut={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Ht={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},Wt={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},Nt={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},qt={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},jt={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},Bt={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},Vt={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[R],storageKey:null},zt=[{kind:"Variable",name:"cursor",variableName:"cursor"}],Gt={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},Qt={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},Yt=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,f,Gt],type:"User",abstractKey:null}],storageKey:null},Qt,u],Xt=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[xe,Gt,d,u],type:"User",abstractKey:null},Ae],storageKey:null},u],$t={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Q,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Xt,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Xt,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Jt=[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,$t],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[He,We,Ne,qe,je,Be,Ve,ve,Ye,Xe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,fl,b,Fl,Tl,Sl,V,Kl,Rl,El,Ll,Cl,Il,wl],storageKey:null},Gt,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[d,xl,Ol,u],storageKey:null},Dl,Pl],Zt={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:Jt,storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"user_refs",handleArgs:[{kind:"Literal",name:"isPlural",value:!0}]}],storageKey:null},u],storageKey:null},en=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:Jt,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,$t,fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null},Qt,u],ln=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],tn=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:ln,storageKey:null}],storageKey:null},Zl,et,lt,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[tt,nt,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[Q,at],storageKey:null}],storageKey:null},ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],{fragment:{argumentDefinitions:[n,a,i,s,r,o],kind:"Fragment",metadata:null,name:"DMReportMessageListQuery",selections:[{alias:null,args:c,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"legacy_conversation_slice",args:null,concreteType:null,kind:"LinkedField",name:"__DMReportMessageList_legacy_conversation_slice_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[d,u,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[m,g,p,y,_,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[u,d,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[h,k,v,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[K],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:L,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.conversation.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},C,I,w],storageKey:null},x],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[M,O,A,D,P,v,U,H,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.users_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.participants_snapshot_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.initiating_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,u,N,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[Q,ce,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy"},Al,Dl,Pl],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[Q,u,d,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[d,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ge,pe,v,V,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy"},Al,Dl,Pl],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ul,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Hl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.conversation_control.conversation_owner.legacy"}],storageKey:null},Wl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Nl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},ql,Vl,zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Zl,et,lt,it,ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[q,j,Gl,R,B,X,Ql,pl,Yl,Xl,me,V,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[Ie,ve,$l,ie,Jl,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Zl,et,lt,it,ut,mt,pt,yt,_t],storageKey:null},ht,ze,vt,bt],storageKey:null},{kind:"RequiredField",field:ft,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:Ft,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Tt,St,Kt,Rt,Et,Lt,Ct,It,pl,wt,xt,Mt,Ot,At,Dt,{kind:"RequiredField",field:Pt,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Ut,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Ht,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},Wt,Nt,qt,jt,wl,R,Bt,Vt],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[_e,ke,ve,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[be,fe,N,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},De],storageKey:null}],storageKey:null},Pe,Ue,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:He,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:We,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},Ne,qe,je,Be,Ve,ve,Ye,Xe,{kind:"RequiredField",field:$e,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:Je,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},Ze,{kind:"RequiredField",field:el,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:ll,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:tl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},al,il,sl,rl,{kind:"RequiredField",field:ol,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},cl,v,dl,ul,ml,gl,pl,hl,kl,vl,E,bl,{kind:"RequiredField",field:fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},b,{kind:"RequiredField",field:Fl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Tl,Sl,V,Kl,{kind:"RequiredField",field:Rl,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},El,Ll,Cl,Il,wl],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy"},Al,Dl,Pl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Oe,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[be,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Fe,Te,Se,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ke,Ee,Le,Ce,we,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[b,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:xe,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},d],type:"User",abstractKey:null},Ae],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},fe,N],storageKey:null},Me],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[d],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.recipient_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[u,d,{kind:"RequiredField",field:f,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy_conversation_slice.items.dm_event.legacy.event_detail.dm.sender_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,n,i,o,r,s],kind:"Operation",name:"DMReportMessageListQuery",selections:[{alias:null,args:c,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{alias:null,args:zt,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[Q,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[d,u,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[m,g,p,y,_,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[u,d,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[h,k,v,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:Yt,storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[u,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[Q,K],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,L,Gt],type:"User",abstractKey:null}],storageKey:null},Qt,u],storageKey:null},C,I,w],storageKey:null},x],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[M,O,A,D,P,v,U,H,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[W,u,N,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Yt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Yt,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[Q,ce,{kind:"InlineFragment",selections:[Y,Zt],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[u,d,Zt,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ul,je,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Hl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[xe,Gt,u],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"conversation_owner"},Wl],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:en,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[Nl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:en,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},ql,Vl,zl,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:tn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:tn,storageKey:null},ft,Ft,Tt,St,Kt,Rt,Et,Lt,Ct,It,pl,wt,xt,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,wl,R,Bt,Vt],storageKey:null},Gt,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:ln,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[Q,{kind:"InlineFragment",selections:[d,u],type:"Tweet",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:zt,filters:null,handle:"slice",key:"DMReportMessageList_legacy_conversation_slice",kind:"LinkedHandle",name:"legacy_conversation_slice"},u],type:"DMConversation",abstractKey:null}],storageKey:null},u],storageKey:null}]},params:{id:"ljB2IuDkw9IgPL_E8zAaTQ",metadata:{sliceInfoPath:["dm_conversation_by_rest_id","result","legacy_conversation_slice","slice_info"]},name:"DMReportMessageListQuery",operationKind:"query",text:null}});nn.hash="d6ebaf52bcca8176f00e1ec11cdb32c7",e.exports=nn},d9IC:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("Irs7"),o=t("MWbm"),c=t("/yvb"),d=t("t62R"),u=t("rHpw");const m=s.a.b08821f4,g=s.a.e047b8fa,p=u.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space4,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},backButton:{marginRight:e.spaces.space4},iconContainer:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.text,marginRight:e.spaces.space12,fontSize:e.fontSizes.body,marginVertical:e.spaces.space8},labelHeader:{borderBottomStyle:"none",paddingVertical:e.spaces.space12}})));l.a=e=>{const l=Object(r.b)(),{clearRecentSearches:t,headerText:n,icon:i,isInboxLabelHeader:s,withClearButton:u}=e;a.a.useEffect((()=>{l.scribe({component:"recent_search",action:"impression"})}),[l]);const y=[p.root,s&&p.labelHeader];return a.a.createElement(o.a,{style:y},a.a.createElement(o.a,{style:p.iconContainer},(()=>{const e=i;return e?a.a.createElement(e,{style:p.icon}):null})(),a.a.createElement(d.b,{accessibilityLevel:2,accessibilityRole:"heading",size:"headline1",weight:"heavy"},n)),u?a.a.createElement(c.a,{accessibilityLabel:m,onPress:t,style:p.backButton,type:"onMediaWhiteFilled"},g):null)}},dzqK:function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));t("ERkP");var n=t("zpdM");function a(e){return e instanceof n.EditorState}},e5HP:function(e,l,t){"use strict";t.d(l,"a",(function(){return f}));var n=t("ERkP"),a=t.n(n),i=t("t62R"),s=t("3XMw"),r=t.n(s),o=t("rHpw"),c=t("MWbm"),d=t("Lsrn"),u=t("k/Ka");const m=(e={})=>Object(u.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[d.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M12 1C5.92 1 1 5.92 1 12s4.92 11 11 11 11-4.92 11-11S18.08 1 12 1zm5.05 12.48c0 .48-.39.87-.88.87-.477 0-.87-.393-.87-.87V9.94l-6.85 6.85c-.163.166-.387.26-.62.26-.233 0-.457-.094-.62-.26-.338-.341-.338-.899 0-1.24l6.85-6.85h-3.54c-.477 0-.87-.393-.87-.87 0-.49.39-.88.87-.88h5.65c.11 0 .23.03.33.07.11.04.2.1.29.19.09.09.15.18.19.29.04.1.07.22.07.33v5.65z"})));m.metadata={width:24,height:24};var g=m,p=t("uFYP");const y=r.a.f1a1b791,_=r.a.if2bf8b4,h=r.a.f3624b5c,k=r.a.b4b3b113,v=r.a.be222050,b=r.a.hcbbe447;class f extends a.a.Component{render(){const{color:e,nativeID:l,style:t,withCircleIcon:n}=this.props,s=n?g:p.a;return a.a.createElement(c.a,{style:[F.root,t]},a.a.createElement(s,{style:[F.icon,e&&F[e]]}),a.a.createElement(i.b,{color:e,nativeID:l,size:"subtext2"},this._getPromotedLabel()))}_getPromotedLabel(){const{contentAuthorId:e,label:l,promotedContent:t}=this.props,{adMetadataContainer:n,advertiser:a,advertiser_name:i,disclosure_type:s}=t,r=e&&a&&e===a.id_str,o="string"==typeof s&&"political"===s.toLowerCase(),c="string"==typeof s&&"issue"===s.toLowerCase(),d=!(!n||"POLITICAL"!==n.disclaimerType)||o,u=!(!n||"ISSUE"!==n.disclaimerType)||c,{removePromotedAttributionForPreroll:m}=n||{};let g;return g=l||(!i||r||m?d?h:u?v:_:d?k({fullName:i}):u?b({fullName:i}):y({fullName:i})),g}}f.defaultProps={color:"gray700",withCircleIcon:!1};const F=o.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.gray700,height:"1em",marginRight:e.spaces.space4,flexShrink:0},gray700:{color:e.colors.gray700},white:{color:e.colors.white}})))},"ejT/":function(e,l,t){"use strict";t.d(l,"b",(function(){return n})),t.d(l,"a",(function(){return a}));const n=e=>({id:e,distanceToViewportTop:0}),a=e=>({id:e,distanceToViewportBottom:0})},f42t:function(e,l,t){"use strict";t.d(l,"a",(function(){return o}));var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("ERkP")),s=t.n(i);class r extends s.a.Component{constructor(...e){super(...e),this.state={isLoaded:!1}}componentDidMount(){return this._isMounted=!0,this.load()}componentDidUpdate(e){return this.props.modules===e.modules?null:this.load()}componentWillUnmount(){this._isMounted=!1}load(){this.setState({isLoaded:!1});const{modules:e}=this.props,l=Object.keys(e);return Promise.all(l.map((l=>e[l]()))).then((e=>l.reduce(((l,t,n)=>(l[t]=e[n],l)),{}))).then((e=>{if(!this._isMounted)return null;this.setState({modules:e,isLoaded:!0})}))}render(){const{isLoaded:e}=this.state,l=e?this.state.modules:{};return s.a.Children.only(this.props.children(l||{}))}}const o=(e,l)=>t=>s.a.createElement(r,{modules:l},(l=>s.a.createElement(e,a()({},l,t))))},fzwJ:function(e,l,t){"use strict";t.r(l),t.d(l,"DMAddParticipantsScreen",(function(){return V})),t.d(l,"getItemIsDisabled",(function(){return z}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("k49u"),s=t("VAZu"),r=(t("849X"),t("MMRb")),o=t("1YZw"),c=t("lnti"),d=t("hqKg"),u=t("RqPI"),m=t("G6rE"),g=t("rxPX"),p=t("0KEI");const y=(e,l)=>l.match.params.conversationId,_=(e,l)=>{const t=r.selectConversation(e,y(0,l)),n=null==t?void 0:t.data;return null==n?void 0:n.participants},h=(e,l)=>r.selectConversationFetchStatus(e,y(0,l)),k=Object(d.createSelector)(r.selectConversations,(e=>Object(c.a)(Object.keys(e).map((l=>{const t=e[l];if(!t.isDeleted)return t.data})))));var v=Object(g.a)().propsFromState((()=>({conversationId:y,conversations:k,existingParticipants:_,fetchStatus:h,perspective:u.s,users:m.e.selectAll}))).adjustStateProps((({conversationId:e,conversations:l,existingParticipants:t,fetchStatus:n,perspective:a,users:i})=>{if(!a)throw new Error("logged-in user not found");return{conversationId:e,conversations:l,existingParticipants:t,fetchStatus:n,perspective:a,users:i}})).propsFromActions((()=>({addParticipants:r.addParticipants,addToast:o.b,createLocalApiErrorHandler:Object(p.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_ADD_PARTICIPANTS"),fetchConversationIfNeeded:r.fetchConversationIfNeeded}))).withAnalytics({page:"messages",section:"add_participants"}),b=t("I2k/"),f=t("s14A"),F=t("kGix"),T=t("jHSc"),S=t("wO1l"),K=t("AQOc"),R=t("3XMw"),E=t.n(R),L=t("zTrU"),C="addPeopleButtonText",I=t("2dXj"),w=t("MWbm"),x=t("/yvb"),M=t("rHpw"),O=t("GZwR");const A=E.a.c602600a,D=E.a.d4986f86,P=E.a.af40a8e0,U=E.a.e1bde73f,H=E.a.e62d3c10,W=E.a.f17f716a,N=E.a.e3fc3548,q=E.a.c55f5c9a,j=E.a.h8403fb6,B=E.a.ja522ed4;function V(e){const l=a.a.useRef(null),[t,n]=a.a.useState([]),[r,o]=a.a.useState(""),{createLocalApiErrorHandler:c,conversationId:d,fetchConversationIfNeeded:u,history:m,addParticipants:g,fetchStatus:p,conversations:y,existingParticipants:_=[],perspective:h,users:k}=e;a.a.useEffect((()=>{u({conversationId:d}).catch(c(Object(b.a)(d)))}),[u,d,c]);const v=()=>a.a.createElement(w.a,{style:G.rightColumn},a.a.createElement(x.a,{disabled:0===t.length||p!==F.a.LOADED,onPress:E,size:"small",testID:C,type:"primaryFilled"},P)),R=e=>{n(t.filter((({id:l})=>l!==e.id)))},E=()=>{const e=t.map((({id:e})=>e));g(d,e).then((e=>{l.current&&l.current.goBack()}),c({defaultToast:{text:B},[i.a.DirectMessageCannotDmOtherUser]:{toast:{text:q}},[i.a.DirectMessageGenericUserCouldNotBeAdded]:{toast:{text:j}},[i.a.DirectMessageOtherUserNotFollowing]:{toast:{text:W}},[i.a.TargetUserNotFound]:{toast:{text:H}},[i.a.TieredActionTweetSpammer]:{toast:{text:N}},showToast:!0}))},M=Object(L.a)(((e,l,t,n)=>Object(S.b)(t,e.map((e=>Object(K.b)(e,void 0,n))),l).slice(0,12))),V=_.map((({user_id:e})=>e));return a.a.createElement(T.b,{containerStyle:G.fill,documentTitle:D,renderHeader:()=>a.a.createElement(s.a,{backButtonType:"close",backLocation:`/messages/${d}`,history:m,ref:l,rightControl:v(),title:A})},a.a.createElement(f.a,{style:G.fill},a.a.createElement(I.d,{getItemDisabledMessage:e=>e.type===O.b.User?U({screenName:e.data.screen_name}):void 0,getItemIsDisabled:z,injections:M(y,h,r,k),onQueryChange:e=>{o(e)},onRemove:R,onSelect:e=>{e.type===O.b.User&&(t.find((({id:l})=>l===e.id))?R(e):n([...t,e]))},preselectedUsers:V,selectedUsers:t,source:O.d.ComposeMessage,withCompactPills:!0})))}const z=e=>e.type===O.b.User&&!(e.data.can_dm||e.data.is_dm_able),G=M.a.create((e=>({fill:{flex:1},rightColumn:{flexDirection:"row",flexGrow:1,justifyContent:"flex-end",alignItems:"center"}})));l.default=v(V)},g54k:function(e,l,t){"use strict";t.d(l,"b",(function(){return o}));var n=t("hqKg"),a=t("s1N3");var i=e=>{const{sender_id:l,by_user_id:t,participants:n=[]}=e;return Object(a.a)(n.map((({user_id:e})=>e)).concat([l,t]).filter(Boolean))},s=t("G6rE"),r=t("oEGd");const o=(e,l)=>({users:i(l).reduce(((l,t)=>(l[t]=e[t],l)),{})}),c=Object(n.createSelector)(s.e.selectAll,((e,l)=>l.entry),o);l.a=Object(r.c)(c)},gEJU:function(e,l,t){"use strict";t.d(l,"a",(function(){return u}));var n=t("ERkP"),a=t.n(n),i=t("eb3s"),s=t("3XMw"),r=t.n(s);const o=r.a.a219e218,c=r.a.d571e4f9,d=r.a.a551bf7e;function u(e){const{count:l,setShowPinError:t}=e;return a.a.createElement(i.a,{confirmButtonLabel:o,headline:c({count:l}),onConfirm:()=>t(!1),text:d,withCancelButton:!1})}},gbD7:function(e,l,t){"use strict";t.d(l,"b",(function(){return i})),t.d(l,"a",(function(){return s})),t.d(l,"d",(function(){return r})),t.d(l,"c",(function(){return o}));t("ERkP");var n=t("aWyx");const a=(e,l)=>({entry:{id:l,time:"",type:e},isActive:!1,isRapidFire:!1,isFirstRapidFire:!1,isLastRapidFire:!1,type:e}),i=a(n.b.CONVERSATION_PROFILE_INFO_HEADER,"conversationProfileInfoHeader"),s="typingIndicator",r=a(n.b.TYPING_INDICATOR,s),o=a(n.b.READ_ONLY_INDICATOR,"readOnlyIndicator")},gpVt:function(e,l,t){"use strict";t.d(l,"b",(function(){return E}));var n=t("ERkP"),a=t.n(n),i=(t("kYxP"),t("CDB5")),s=t("xVN5"),r=t("vjRr"),o=t("rxPX"),c=t("0KEI");const d=(e,l)=>{const{urls:t}=l,n=[...t];let a;for(const l of n.reverse())if(a=r.a.select(e,l),a)break;return a};var u=Object(o.a)().propsFromState((()=>({card:d}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(c.createLocalApiErrorHandlerWithContextFactory)("COMPOSER_CARD_PREVIEW"),fetchCardPreviewIfNeeded:r.a.fetchCardPreviewIfNeeded,updateDMComposer:i.e,updateTweetComposer:s.w}))),m=t("KqB4"),g=t.n(m),p=t("aX4+"),y=t("3XMw"),_=t.n(y),h=t("hOZg"),k=t("cnVF"),v=t("MWbm"),b=t("v6aA"),f=t("/yvb"),F=t("rHpw"),T=t("VY6S"),S=t("mN6z");const K=_.a.f6fec9f6,R=/^https?:\/\//i,E=e=>{const l=g()(e);if(l.length)return l.map((e=>!R.test(e)&&`http://${e}`||e))};class L extends a.a.Component{constructor(e,l){super(e,l),this._fetchCardPreviewIfNeeded=()=>{const{createLocalApiErrorHandler:e,fetchCardPreviewIfNeeded:l,urls:t}=this.props;t.forEach((t=>{l(t).catch(e())}))},this._handleCardPreviewDismissal=e=>this._updateSingleComposer({cardUrl:k.B}),this._updateSingleComposer=e=>{const{conversationId:l,index:t,updateDMComposer:n,updateTweetComposer:a}=this.props,{cardUrl:i}=e||{};this._isDMComposer?l&&n(l,i):a({updates:{cardUrl:i},index:t})},this._debouncedFetchCardPreview=Object(T.a)(this._fetchCardPreviewIfNeeded,1e3),this._isDMComposer=!!e.conversationId}componentDidMount(){this._debouncedFetchCardPreview()}componentDidUpdate(e){const{urls:l}=this.props;Object(S.a)(e.urls,l)||this._debouncedFetchCardPreview()}componentWillUnmount(){this._updateSingleComposer()}render(){const{card:e,isCardPreviewTombstoned:l,style:t}=this.props,{loggedInUserId:n}=this.context;return e&&!l&&n?a.a.createElement(v.a,{style:t},a.a.createElement(p.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values},cardContext:{tweetUserId:n},isInteractive:!1,preventVideoPlayback:!0}),a.a.createElement(f.a,{accessibilityLabel:K,icon:a.a.createElement(h.a,null),onPress:this._handleCardPreviewDismissal,size:"xSmall",style:C.closeButton,type:"onMediaDominantColorFilled"})):null}}L.contextType=b.a;const C=F.a.create((e=>({closeButton:{position:"absolute",top:e.spaces.space4,left:e.spaces.space4}}))),I=u(L);l.a=I},"hl/W":function(e,l,t){"use strict";var n=t("MMRb"),a=t("P1r1"),i=t("qdEw"),s=t("6xIQ"),r=t("X/yg"),o=t("AQ79"),c=t("z2Pn"),d=t("rxPX"),u=t("0KEI");const m=e=>e===o.d.PRIMARY?n.fetchTrustedInboxHistory:e===o.d.SECONDARY?n.fetchUntrustedInboxHistory:n.fetchUntrustedLowQualityInboxHistory,g=e=>e===o.d.PRIMARY?n.updateTrustedLastSeenEventId:e===o.d.SECONDARY?n.updateUntrustedLastSeenEventId:()=>()=>Promise.resolve();l.a=({inbox:e})=>Object(d.a)().propsFromState((()=>({conversationIds:Object(s.a)((l=>n.selectConversationIdsByInbox(l,e)),(e=>e)),dmNsfwMediaFilter:a.l,isLoadingTop:n.selectIsLoadingTop,isDmNsfwMediaFilterEnabled:a.q,isDmsOpenForAll:a.s,hasConversations:n.selectHasConversations,untrustedUnreadCount:n.selectUntrustedUnreadCount,untrustedCounts:Object(s.a)((e=>n.selectUntrustedCounts(e)),(e=>e)),untrustedCursor:n.selectUntrustedCursor,untrustedConversationCount:n.selectUntrustedConversationCount,untrustedLowQualityConversationCount:n.selectUntrustedLowQualityConversationCount,untrustedLowQualityCursor:n.selectUntrustedLowQualityCursor}))).adjustStateProps((({conversationIds:e,dmNsfwMediaFilter:l,hasConversations:t,isDmNsfwMediaFilterEnabled:n,isDmsOpenForAll:a,isLoadingTop:i,untrustedConversationCount:s,untrustedCounts:r,untrustedCursor:o,untrustedLowQualityConversationCount:c,untrustedLowQualityCursor:d,untrustedUnreadCount:u})=>({dmNsfwMediaFilter:l,isDmNsfwMediaFilterEnabled:n,conversationIds:e,untrustedUnreadCount:u,untrustedCounts:r,allowUntrustedInbox:a&&s>0,allowUntrustedVDLInbox:a&&r.newUntrustedWithSocialProof+r.oldUntrustedWithSocialProof+r.newUntrustedWithoutSocialProof+r.oldUntrustedWithoutSocialProof>0,allowLowQualityUntrustedInbox:a&&c>0,isAtEndOfUntrustedInbox:o&&"AT_END"===o.status}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),clearSearchCache:n.clearSearchCache,clearSearchSlicesCache:i.b,fetchInboxHistory:m(e),setLastViewedDmInboxPath:c.h,updateLastSeenEventId:g(e),updateDmNsfwMediaFilter:a.L}))).withAnalytics({page:"messages",section:"inbox",component:Object(r.k)(e)})},hqDb:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("ERkP")),s=t.n(i),r=t("k49u"),o=t("6xIQ"),c=t("kGix"),d=t("G6rE"),u=t("rxPX"),m=t("0KEI");const g=(e,l)=>l.userIds,p=(e,l)=>{const{userIds:t}=l;return t.filter((l=>!!d.e.select(e,l)))},y=(e,l)=>{const{userIds:t}=l;return t.reduce(((l,t)=>{const n=d.e.selectFetchStatus(e,t);return l[t]=n===c.a.NONE?c.a.LOADING:n,l}),{})};var _=Object(u.a)().propsFromState((()=>({availableUserIds:Object(o.a)(p,(e=>e)),fetchStatus:Object(o.a)(p,y,g,((e,l,t)=>{let n=c.a.LOADED;for(let a=0;a<t.length;a++){const i=t[a];if(-1===e.indexOf(i)){const e=l[i]||c.a.LOADING;n=n===c.a.LOADED?e:n}if(n===c.a.LOADED)break}return n}))}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(m.createLocalApiErrorHandlerWithContextFactory)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:d.e.fetchManyIfNeeded}))),h=t("v//M"),k=t("3XMw"),v=t.n(k),b=t("pQ3Z"),f=t.n(b),F=t("cFuS"),T=t("Re5t"),S=t("MWbm"),K=t("88ay");const R=({displayMode:e,renderUserCell:l,userIds:t,withFinalItemBorder:n,withItemBorder:a})=>s.a.createElement(S.a,null,t.map(((t,n)=>l?l(t):s.a.createElement(K.b,{decoration:K.e,displayMode:e,key:t,promotedItemType:F.c.USER,userId:t,withFollowsYou:!0}))));R.defaultProps={displayMode:T.a.UserDetailed,withFinalItemBorder:!0,withItemBorder:!1};var E=R;const L=v.a.f5b426c2,C={viewType:"user_list"};class I extends s.a.Component{constructor(...e){super(...e),this.state={allUsersUnavailable:!1},this._renderContent=()=>{const{availableUserIds:e,createLocalApiErrorHandler:l,fetchStatus:t,fetchUsersIfNeeded:n,userIds:i,...r}=this.props;return s.a.createElement(E,a()({},r,{userIds:e}))},this._handleFetch=()=>{this._fetchUsersIfNeeded()}}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(e){f()(e.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return s.a.createElement(h.a,{accessibilityLabel:L,behavioralEventContext:C,fetchStatus:this.state.allUsersUnavailable?c.a.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{availableUserIds:e,createLocalApiErrorHandler:l,fetchUsersIfNeeded:t,userIds:n}=this.props;t(n).then((()=>{this.setState({allUsersUnavailable:!1})}),l({[r.a.AddressBookLookupNotFound]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}},[r.a.OtherUserSuspended]:{customAction:()=>{0===e.length&&this.setState({allUsersUnavailable:!0})}}}))}}const w=_(I);l.a=w},htvZ:function(e,l,t){"use strict";t.d(l,"b",(function(){return h})),t.d(l,"a",(function(){return k}));var n=t("ERkP"),a=t.n(n),i=t("v6aA"),s=(t("kYxP"),t("8W85"));function r(){const e=a.a.useContext(k),[l,t]=e.activeVoiceMessage,[,n]=e.playerApi,[,i]=e.playerState,[,r]=l;const o={media:r,onEnded:function(){t([null,null]),e.scribeAction&&e.scribeAction.complete()},onPlayerApi:n,onPlayerState:i};return a.a.createElement(s.a,o)}var o=t("X/yg"),c=(t("849X"),t("89tF")),d=t("k89r");function u(e){const l=function(){const e=a.a.useState(p.activeVoiceMessage),l=a.a.useState(p.playerApi),t=a.a.useState(p.playerState),n=function(){const e=Object(d.a)();return a.a.useMemo((()=>{const l={page:"messages",section:"thread",component:"message",element:"voice"};function t({action:e,component:t=l.component}){const{element:n,page:a,section:i}=l;return{page:a,section:i,component:t,element:n,action:e}}const n=(l,n)=>n?n.data?e.scribe({...t({action:l}),data:n.data}):e.scribe({...t({action:l,component:g(n)})}):e.scribe({...t({action:l})});return{impression:e=>n("impression",e),report:e=>n("report",e),play:e=>n("play",e),pause:()=>n("pause"),complete:()=>n("complete")}}),[e])}();return{activeVoiceMessage:e,playerApi:l,playerState:t,scribeAction:n}}();return a.a.createElement(y.Provider,{value:l},e.children)}const m={Timelines:Object(c.a)({message:!0,inbox_timeline:!0,low_quality_timeline:!0,requests_timeline:!0})};function g({isLowQuality:e,isTrusted:l}){return l?m.Timelines.inbox_timeline:e?m.Timelines.low_quality_timeline:m.Timelines.requests_timeline}const p={activeVoiceMessage:[null,null],playerApi:null,playerState:null,scribeAction:null},y=a.a.createContext({activeVoiceMessage:[p.activeVoiceMessage,_],playerApi:[p.playerApi,_],playerState:[p.playerState,_],scribeAction:null});function _(){throw new Error("DMVoiceContext is not initialized")}function h(e){const{featureSwitches:l}=a.a.useContext(i.a);return Object(o.o)(l)?a.a.createElement(u,null,e.children,a.a.createElement(r,null)):e.children}const k=y},hxu0:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("vqbU");l.a=e=>l=>s.a.createElement(r.a.Consumer,null,(t=>s.a.createElement(e,a()({},l,{isInSidebar:t}))))},"ii+P":function(e,l,t){"use strict";t.d(l,"b",(function(){return s}));var n=t("ERkP"),a=t.n(n),i=t("wtru");function s(e){const l=Object(i.b)();return[!!l&&!l.flags[e],a.a.useCallback((()=>{null==l||l.addFlag(e)}),[l,e])]}l.a=s},ijJS:function(e,l,t){"use strict";t.d(l,"a",(function(){return k}));var n=t("ERkP"),a=t.n(n),i=t("aX4+"),s=t("3XMw"),r=t.n(s),o=t("b5s6"),c=t("MWbm"),d=t("TIdA"),u=t("A91F"),m=t("rHpw"),g=t("t62R"),p=t("4n2h");const y=r.a.ga086a54,_=({accessibilityLabel:e,image:l})=>a.a.createElement(c.a,{style:v.thumbnail},a.a.createElement(d.a,{accessibilityLabel:e,aspectMode:u.a.SQUARE,backgroundColor:m.a.theme.colors.gray300,image:l})),h=({card:e,tweetUserId:l})=>a.a.createElement(i.a,{card:{name:e.name,url:e.url,binding_values:e.binding_values,users:e.users},cardContext:{tweetUserId:l}});function k({accessibilityLabel:e,card:l,content:t,isMessageSearchItem:n=!1,isSelected:i=!1,searchImage:s,tweetId:r,tweetUserId:d,unread:u=!1}){const m=Object(p.a)(u,i),k=Object(p.b)(u);return n&&(s||l||r)?a.a.createElement(c.a,{style:s?v.mediaContainer:void 0},a.a.createElement(c.a,{style:l||r?v.cardMessageText:v.messageText},a.a.createElement(g.b,{color:m,numberOfLines:2,weight:k},t)),l&&d?a.a.createElement(h,{card:l,tweetUserId:d}):null,r?a.a.createElement(o.a,{tweetId:r}):null,s?a.a.createElement(_,{accessibilityLabel:e||y,image:s}):null):a.a.createElement(g.b,{color:m,numberOfLines:n?2:1,style:n?v.messageText:void 0,weight:k},t)}const v=m.a.create((e=>({thumbnail:{height:e.spacesPx.space40,width:e.spacesPx.space40,borderRadius:e.borderRadii.large,marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`,overflow:"hidden"},cardMessageText:{paddingVertical:`calc(${e.spaces.space8} + ${e.spaces.space2})`},messageText:{maxWidth:`calc(100% - (${e.spaces.space48} + ${e.spaces.space2}))`,paddingVertical:e.spaces.space2},mediaContainer:{flexDirection:"row",justifyContent:"space-between"}})))},iunV:function(e,l,t){"use strict";var n,a,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"message"},{defaultValue:null,kind:"LocalArgument",name:"target"}],kind:"Fragment",metadata:null,name:"useSendMessageMutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"message",variableName:"message"},{kind:"Literal",name:"s",value:18},{kind:"Variable",name:"target",variableName:"target"}],concreteType:null,kind:"LinkedField",name:"create_dm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useSendMessageMutation",selections:a},params:{id:"V1X0AqeRDf3jOpVzYKlvdg",metadata:{},name:"useSendMessageMutation",operationKind:"mutation",text:null}};i.hash="9f02923cb63ff1de10d44a45b2029eab",e.exports=i},jtO7:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("t62R"),o=t("I4+6"),c=t("cm6r"),d=t("rHpw"),u=t("MWbm");const m=d.a.create((e=>({container:{backgroundColor:e.colors.cellBackground},root:{justifyContent:"center",minHeight:e.spaces.space48,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16}})));l.a=({align:e="center",color:l,label:t,...n})=>{const i=o.a.generate({backgroundColor:d.a.theme.colors.transparent,color:d.a.theme.colors[l],insetFocusRing:!0});return s.a.createElement(u.a,{style:m.container},s.a.createElement(c.a,a()({},n,{interactiveStyles:i,style:m.root}),s.a.createElement(r.b,{align:e,color:l},t)))}},kb9v:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("TIdA"),s=t("t62R"),r=t("A91F"),o=t("/yvb"),c=t("Eqye"),d=t("efqG"),u=t("sgih"),m=t("rHpw"),g=t("MWbm"),p=t("3dyc");const y=m.a.create((e=>({root:{paddingVertical:e.spacesPx.space32},rootWithImage:{paddingTop:0},graphic:{marginBottom:e.spacesPx.space20},icon:{alignSelf:"center",height:e.spacesPx.space64,width:e.spacesPx.space64},container:{paddingHorizontal:e.spacesPx.space32},description:{marginTop:e.spacesPx.space8,marginBottom:e.spacesPx.space4},actionButton:{marginTop:e.spacesPx.space16}})));l.a=({actionPrimary:e,actionSecondary:l,children:t,headline:n,icon:_,iconColor:h,imageUrl:k,onDismiss:v,shouldDisplay:b,text:f,withMask:F=!0})=>{const[T,S]=a.a.useState(!1),K=e=>a.a.createElement(d.a,{onDismiss:x,renderContent:()=>E(x),switchOnlyOnXSmallBreakpoint:!0,visibilityBehavior:p.b.forceVisible,withArrow:!0,withFixedPosition:!0,withMask:F},e),R=()=>a.a.createElement(u.a,{onMaskClick:()=>x(),type:"center",withMask:!0},E(x)),E=t=>a.a.createElement(g.a,{style:[y.root,k&&y.rootWithImage]},L(),a.a.createElement(g.a,{style:y.container},C(),I(),w({action:e,dismiss:t,type:l&&"primaryFilled"}),w({action:l,dismiss:t}))),L=()=>{let e=_&&a.a.createElement(_,{style:h?[y.icon,{color:m.a.theme.colors[h]}]:y.icon});return k&&!c.a.isEnabled&&(e=a.a.createElement(i.a,{accessibilityLabel:"",aspectMode:r.a.exact(2),image:k})),e&&a.a.createElement(g.a,{style:y.graphic},e)},C=()=>a.a.createElement(s.b,{size:"title3",weight:"heavy"},n),I=()=>a.a.createElement(s.b,{color:"gray700",style:y.description},f),w=({action:e,dismiss:l,type:t})=>e&&a.a.createElement(o.a,{link:e.link&&e.link,onPress:e.onClick?e.onClick:l,size:"large",style:y.actionButton,type:t},e.text),x=()=>{v&&v(),S(!0)};return b&&!T?t?K(t):R():t||null}},krmn:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("zb92"),s=t("RuTB"),r=t("3XMw"),o=t.n(r);var c=Object(i.a)({loader:()=>o.a.emoji.then((()=>Promise.all([t.e(65),t.e(263)]).then(t.bind(null,"5RdJ")))),renderPlaceholder:(e,l)=>a.a.createElement(s.a,{hasError:e,onRetry:l})}),d=t.p+"twemoji_sprite.6d90d9d7.png",u=t.p+"twemoji_sprite_high_res.0b0faef7.png",m=t("rHpw"),g=t("U+bB"),p=t("kLqS"),y=t("MWbm");const _=m.a.create((e=>({content:{backgroundColor:e.colors.cellBackground},dimensions:{height:"400px",borderRadius:e.borderRadii.xLarge,width:10*e.spacesPx.space32,overflow:"hidden"},hidden:{display:"none"}})));var h=e=>{const{onSelect:l,partialRender:t}=e,n=p.a.get()>1?u:d;return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{style:[_.content,_.dimensions]},a.a.createElement(c,{onSelect:l,partialRender:t,rowSize:9,spriteUrl:n})),a.a.createElement(g.a,{source:n,style:_.hidden}))},k=t("pNJr"),v=t("2ZFc"),b=t("OiMc"),f=t("/yvb");const F=o.a.d4a4842e,T=a.a.createElement(k.a,null),S=o.a.fec16c1c,K={viewType:"emoji_picker"},R=e=>{const{disabled:l,onEmojiSelect:t,onPress:n,size:i,style:s,textInputRef:r}=e,[o,d]=a.a.useState(!0);a.a.useEffect((()=>{const e=setTimeout((()=>{c.preload(),v.a.get("emojiPicker2")}),5e3);return()=>{clearTimeout(e)}}),[]);return a.a.createElement(b.a,{enableEnterKeyToggle:!0,onAnimateComplete:()=>d(!1),onDismiss:()=>d(!0),onHoverCardUnmount:()=>{window.requestAnimationFrame((()=>r&&r.focus()))},renderContent:()=>a.a.createElement(h,{onSelect:t,partialRender:o}),withArrow:!0},a.a.createElement(f.a,{accessibilityHasPopup:"menu",accessibilityLabel:F,behavioralEventContext:K,disabled:l,hoverLabel:{label:S},icon:T,onPress:e=>n&&n(e),size:i,style:s,type:"brandText"}))};R.defaultProps={disabled:!1,size:"xSmall"};l.a=R},lAtx:function(e,l,t){"use strict";t.r(l),t.d(l,"POLL_INTERVAL",(function(){return Oe}));var n=t("ERkP"),a=t.n(n),i=t("v6aA"),s=t("Y6L+"),r=t("zCf4"),o=t("MMRb"),c=t("rxPX");const d=(e,l)=>{const t=Object(r.e)(l.location.pathname,{path:`/messages/${s.j}(/.*)?`,exact:!0,strict:!1});return null==t?void 0:t.params.conversationId},u=(e,l)=>{const t=d(0,l);return Object(o.selectInboxTypeByConversation)(e,t)};var m=Object(c.a)().propsFromState((()=>({conversationId:d,inboxType:u}))),g=t("zsGg"),p=t("pdDm"),y=(t("kYxP"),t("hl/W")),_=t("qz2E"),h=t("pXKu"),k=t("jYSG"),v=t("nySH"),b=t("FIs5"),f=t("rHpw");function F(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{header:e.tombstone?"":v.a,message:k.a,style:T.emptyMessage}),e.tombstone)}const T=f.a.create((e=>({emptyMessage:{borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space16}})));var S=t("AQ79"),K=t("f42t"),R=t("P1r1"),E=t("0KEI");var L=Object(c.a)().propsFromState((()=>({dmNsfwMediaFilter:R.l}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(E.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),updateDmNsfwMediaFilter:R.L}))).withAnalytics({page:"messages",section:"inbox"}),C=t("0yYu"),I=t("3XMw"),w=t.n(I),x=t("Lz2T"),M=t("Irs7");const O=w.a.j24c37b2,A=w.a.f5dc353c,D=w.a.daeda054,P=w.a.fe1eaa96;var U=L((e=>{const{createLocalApiErrorHandler:l,dmNsfwMediaFilter:t,updateDmNsfwMediaFilter:n}=e,{featureSwitches:s}=a.a.useContext(i.a),r=s.isTrue("dm_conversations_nsfw_media_filter_enabled"),[o,c]=a.a.useState(void 0===t&&r),d=Object(M.b)(),u=a.a.useCallback((()=>{c(!1),n(!0).catch(l())}),[n,l]);return a.a.useEffect((()=>()=>{void 0===t&&r&&u()}),[t,r,u]),o?a.a.createElement(a.a.Fragment,null,a.a.createElement(x.a,{bodyText:P,primaryAction:{onClick:()=>{d.scribe({component:"dm_nsfw_prompt",element:"primary_action",action:"click"}),u()},text:O},secondaryAction:{link:"/settings/direct_messages",onClick:()=>{d.scribe({component:"dm_nsfw_prompt",element:"secondary_action",action:"click"})},text:D},titleText:A}),a.a.createElement(C.a,null)):null})),H=t("5FtR"),W=t("uDfI"),N=t("MWbm"),q=t("t62R"),j=t("cm6r");const B=w.a.eb7de4aa,V=w.a.a0e81a2e;function z(e){const{isAtEndOfUntrustedInbox:l,untrustedConversationIds:t}=e,n=Object(M.b)(),i=Object(W.d)(R.r);a.a.useEffect((()=>{i&&l&&n.scribe({element:"low_quality_pivot",action:"impression"})}),[n,l,i]);return l&&i?a.a.createElement(N.a,null,t.length>0&&a.a.createElement(C.a,null),a.a.createElement(N.a,{style:G.tombstoneDescription},a.a.createElement(q.b,{color:"gray700",size:"subtext2"},B)),a.a.createElement(j.a,{link:Object(v.b)(S.d.TERTIARY),onPress:()=>{n.scribe({element:"low_quality_pivot",action:"click"})},style:G.tombstoneContainer},a.a.createElement(q.b,{align:"center",color:"primary",size:"body"},V))):null}const G=f.a.create((e=>({tombstoneContainer:{borderTopStyle:"solid",borderTopColor:e.colors.borderColor,borderTopWidth:e.borderWidths.small,borderBottomStyle:"solid",borderBottomColor:e.colors.borderColor,borderBottomWidth:e.borderWidths.small,paddingVertical:e.spaces.space12},tombstoneDescription:{paddingHorizontal:e.spaces.space16,paddingVertical:e.spaces.space16}})));var Q=t("pxuL"),Y=t("M2mT");const X=w.a.cf2d1048;function $(e){const l=Object(r.f)(),t=Object(r.i)();return a.a.createElement(Y.a,{backLocation:"/messages",onBackClick:()=>{l.push(Object(v.b)(S.d.PRIMARY))},rightControl:Object(v.d)("/settings/direct_messages",!0),screenType:"secondaryRoot",title:a.a.createElement(q.b,{size:"headline2"},X),withDetailOpen:!t.isExact},e.children)}class J extends a.a.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.context.incrementDmDrawerSuppressorCount()},this.componentWillUnmount=()=>{this.context.decrementDmDrawerSuppressorCount()},this._renderTombstone=()=>{const{allowLowQualityUntrustedInbox:e,conversationIds:l,isAtEndOfUntrustedInbox:t}=this.props;return e?a.a.createElement(z,{isAtEndOfUntrustedInbox:t,untrustedConversationIds:l}):null},this._renderEmptyDMInbox=()=>{const e=this._renderTombstone();return a.a.createElement(F,{tombstone:e})}}render(){const{allowUntrustedInbox:e,analytics:l,conversationIds:t,fetchInboxHistory:n,updateLastSeenEventId:i}=this.props;return e?a.a.createElement($,null,a.a.createElement(U,null),a.a.createElement(h.a,{accessibilityTitle:X,analytics:l,conversationIds:t,fetchInboxHistory:n,footer:this._renderTombstone(),inboxType:S.d.SECONDARY,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:()=>Object(v.e)(this.props.conversationIds),updateLastSeenEventId:i,virtualScrollerCacheKey:"dmUntrustedInbox"})):a.a.createElement(H.a,{to:"/messages"})}}J.contextType=Q.a,J.defaultProps={conversationIds:[]};var Z=Object(K.a)(Object(y.a)({inbox:S.d.SECONDARY})(J),{directMessages:_.a}),ee=(t("Qavd"),t("lnti"));var le,te,ne=Object(c.a)().propsFromState((()=>({isDmQualityFilterEnabled:R.r,isDmsOpenForAll:R.s}))).withAnalytics({page:"messages",section:"inbox"}),ae=t("Ka95"),ie=t("DbJc"),se=t("TEoO"),re=t("IG4P"),oe=t("Fr3L"),ce=t("GSsg"),de=t("DQzJ"),ue=t("P74S"),me=t.n(ue),ge=(t("YWiL"),t("PJTX")),pe=t.n(ge);const ye=e=>e.__id,_e=void 0!==le?le:le=t("XZOd"),he=void 0!==te?te:te=t("FWve"),ke={context:"DM_INBOX_SECONDARY_CONTEXT"},ve=e=>{var l;const{isDmQualityFilterEnabled:t,isDmsOpenForAll:n,pollInterval:i}=e,[s,r]=a.a.useState(!1),o=t?_e:he,{data:c,fetchNext:d,hasNext:u}=Object(de.a)(o,{}),m=Object(E.useCreateLocalApiErrorHandler)("DM_INBOX_SECONDARY_EVOLUTION"),g=pe()(),p=(null==c||null==(l=c.untrusted)?void 0:l.items)||[],y=Object(ee.a)(p.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),_=y.map((e=>e.__id));let h=[];if(t){var k;const e=(null==c||null==(k=c.low_quality)?void 0:k.items)||[];h=Object(ee.a)(e.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result})))}const b=a.a.useCallback((()=>{r(!0),me()(g,_e,{}).toPromise().catch(m({})).finally((()=>r(!1)))}),[m,g]);a.a.useEffect((()=>{const e=new ce.a((()=>{b()}),{interval:i});return e.start(),()=>{e.stop()}}),[b,i]);const f=Object(v.e)(_),T=()=>t&&h.length?a.a.createElement(z,{isAtEndOfUntrustedInbox:!u,untrustedConversationIds:_}):null;return n?a.a.createElement($,null,a.a.createElement(U,null),a.a.createElement(re.a,{isRefreshing:s,onRefresh:b},a.a.createElement(se.a,{accessibilityRole:"tablist",accessibilityTitle:X,anchoring:ie.a,assumedItemHeight:100,cacheKey:"dmUntrustedInbox",footer:T(),header:f,identityFunction:ye,items:y,noItemsRenderer:()=>a.a.createElement(F,{tombstone:T()}),onNearEnd:d,renderer:(e,l)=>(l&&l(!0),a.a.createElement(ae.a,{conversationIds:_,dm_conversation:e,inboxType:S.d.SECONDARY,isPinned:!1})),withKeyboardShortcuts:!0,withoutHeadroom:!0}))):a.a.createElement(H.a,{to:"/messages"})};var be=ne((function(e){return a.a.createElement(oe.a,{errorConfig:ke},a.a.createElement(ve,e))}));function fe(e){const l=Object(r.f)(),t=Object(r.i)();return a.a.createElement(Y.a,{backLocation:Object(v.b)(S.d.SECONDARY),onBackClick:()=>{l.push(Object(v.b)(S.d.SECONDARY))},rightControl:Object(v.d)("/settings/direct_messages",!0),screenType:"secondaryRoot",title:v.f,withDetailOpen:!t.isExact},e.children)}function Fe(e){return a.a.createElement(b.a,{header:v.a,message:k.a})}var Te=t("WjvF");const Se=w.a.bece84b4,Ke=w.a.ee8c0c8a;class Re extends a.a.Component{constructor(...e){super(...e),this.componentDidMount=()=>{this.context.incrementDmDrawerSuppressorCount()},this.componentWillUnmount=()=>{this.context.decrementDmDrawerSuppressorCount()},this._renderEmptyDMInbox=()=>a.a.createElement(b.a,{header:Se,imageVariants:Object(Te.b)(Te.a.PaintCoveredHand),message:Ke}),this._handleBackClick=()=>{this.props.history.push(Object(v.b)(S.d.SECONDARY))},this._hasDetailOpen=()=>{const{match:e}=this.props;return!e.isExact}}render(){const{analytics:e,conversationIds:l,fetchInboxHistory:t,updateLastSeenEventId:n}=this.props;return a.a.createElement(fe,null,a.a.createElement(h.a,{accessibilityTitle:v.f,analytics:e,conversationIds:l,fetchInboxHistory:t,inboxType:S.d.TERTIARY,renderEmptyDMInbox:()=>a.a.createElement(Fe,null),renderStickyContent:()=>Object(v.e)(this.props.conversationIds),updateLastSeenEventId:n,virtualScrollerCacheKey:"dmLowQualityUntrustedInbox"}))}}Re.contextType=Q.a;var Ee,Le=Object(K.a)(Object(y.a)({inbox:S.d.TERTIARY})(Re),{directMessages:_.a});const Ce=e=>e.__id,Ie=void 0!==Ee?Ee:Ee=t("SDjT"),we=e=>{var l;const{pollInterval:t}=e,{data:n,fetchNext:i}=Object(de.a)(Ie,{}),[s,r]=a.a.useState(!1),o=Object(E.useCreateLocalApiErrorHandler)("DM_INBOX_TERTIARY_EVOLUTION"),c=pe()(),d=a.a.useCallback((()=>{r(!0),me()(c,Ie,{}).toPromise().catch(o({})).finally((()=>r(!1)))}),[o,c]);a.a.useEffect((()=>{const e=new ce.a((()=>{d()}),{interval:t});return e.start(),()=>{e.stop()}}),[d,t]);const u=(null==n||null==(l=n.dm_convo_list_slice)?void 0:l.items)||[],m=Object(ee.a)(u.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),g=m.map((e=>e.__id)),p=Object(v.e)(g);return a.a.createElement(fe,null,a.a.createElement(re.a,{isRefreshing:s,onRefresh:d},a.a.createElement(se.a,{accessibilityRole:"tablist",accessibilityTitle:v.f,anchoring:ie.a,assumedItemHeight:100,cacheKey:"dmLowQualityUntrustedInbox",header:p,identityFunction:Ce,items:m,noItemsRenderer:()=>a.a.createElement(Fe,null),onNearEnd:i,renderer:(e,l)=>(l&&l(!0),a.a.createElement(ae.a,{conversationIds:g,dm_conversation:e,inboxType:S.d.TERTIARY,isPinned:!1})),withKeyboardShortcuts:!0,withoutHeadroom:!0})))};function xe(e){return a.a.createElement(oe.a,{errorConfig:{context:"DM_INBOX_TERTIARY_CONTEXT"}},a.a.createElement(we,e))}var Me=t("Vc8w");const Oe=8e3,Ae=m((e=>{const{conversationId:l,inboxType:t,...n}=e,{location:s}=e,{featureSwitches:r}=a.a.useContext(i.a);return Object(Me.a)(),t===S.d.TERTIARY||"/messages/requests/additional"===s.pathname?r.isTrue("dm_evolution_enabled")&&r.isTrue("dm_evolution_inbox_tertiary_enabled")?a.a.createElement(xe,{pollInterval:Oe}):a.a.createElement(Le,n):t===S.d.SECONDARY||"/messages/requests"===s.pathname?r.isTrue("dm_evolution_enabled")&&r.isTrue("dm_evolution_inbox_secondary_enabled")?a.a.createElement(be,{pollInterval:Oe}):a.a.createElement(Z,n):r.isTrue("dm_evolution_enabled")&&r.isTrue("dm_evolution_inbox_primary_enabled")?a.a.createElement(p.a,{pollInterval:Oe}):a.a.createElement(g.a,n)}));l.default=Ae},lBmi:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M23.885 19.5c-.762-3.064-3.72-5.206-7.19-5.206-1.17 0-2.27.265-3.258.707 1.246 1.08 2.157 2.5 2.564 4.138.252 1.004.052 2.03-.52 2.86h6.48c.627 0 1.2-.27 1.57-.744.38-.49.51-1.13.355-1.753zm-9.695 1.755c.38-.49.512-1.13.356-1.754-.375-1.506-1.284-2.785-2.52-3.7-1.278-.95-2.905-1.507-4.67-1.507-3.47 0-6.428 2.142-7.19 5.208-.156.626-.025 1.266.356 1.755.37.473.94.744 1.567.744h10.533c.627 0 1.197-.272 1.567-.745zm2.505-8.218c1.185 0 2.51-.132 3.368-1.11.72-.823.952-2.08.715-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11zm-9.34 0c1.185 0 2.51-.132 3.367-1.11.72-.823.953-2.08.716-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11z"})));r.metadata={width:24,height:24},l.a=r},lL5k:function(e,l,t){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},"maE+":function(e,l,t){"use strict";t.d(l,"a",(function(){return m}));var n=t("ERkP"),a=t.n(n),i=t("FIs5"),s=t("3XMw"),r=t.n(s),o=t("Irs7");const c=r.a.a676a876,d=r.a.j2611eac,u=r.a.efe8fda0;function m(e){const l=Object(o.b)();return a.a.createElement(a.a.Fragment,null,e.messageRequestPivot,a.a.createElement(i.a,{buttonLink:"/messages/compose",buttonText:u,header:c,message:d,onImpression:()=>{l.scribe({component:"empty_message",action:"impression"})}}))}},nySH:function(e,l,t){"use strict";t.d(l,"a",(function(){return y})),t.d(l,"f",(function(){return _})),t.d(l,"b",(function(){return h})),t.d(l,"c",(function(){return k})),t.d(l,"d",(function(){return v})),t.d(l,"e",(function(){return b}));var n=t("ERkP"),a=t.n(n),i=t("HPNB"),s=t("jYSG"),r=t("3XMw"),o=t.n(r),c=t("AQ79"),d=t("+Bsv"),u=t("MWbm"),m=t("cHvH"),g=t("t62R"),p=t("rHpw");const y=o.a.bece84b4,_=o.a.e7172d70,h=e=>{switch(e){case c.d.SECONDARY:return"/messages/requests";case c.d.TERTIARY:return"/messages/requests/additional";case c.d.PRIMARY:default:return"/messages"}},k=(e,l,t)=>{const n=t&&l.get(t);if(!n)return;const a=n.getLinkedRecords("items")||[],i=[];let s=!1;a.forEach((l=>{const t=l&&l.getLinkedRecord("dm_conversation_results"),n=t&&t.getDataID();n&&(e===`DMConversation:${n}`&&s||(i.push(l),s||(s=!0)))})),n.setLinkedRecords(i,"items")},v=(e,l)=>a.a.createElement(d.a,{pullRight:l,to:e}),b=e=>a.a.createElement(m.a,null,(({windowWidth:l})=>{const t=i.a.isTwoColumnLayout(l),n=0===e.length;return t||n?null:a.a.createElement(u.a,{style:f.stickyCopyContainer},a.a.createElement(g.b,{style:f.stickyCopy},s.a))})),f=p.a.create((e=>({stickyCopyContainer:{backgroundColor:e.colors.cellBackground,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,zIndex:1},stickyCopy:{color:e.colors.gray700,padding:e.spaces.space20}})))},"p+r5":function(e,l,t){"use strict";t.d(l,"a",(function(){return L}));var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("38/B"),o=t("t62R"),c=t("/yvb"),d=t("piX5"),u=t("3XMw"),m=t.n(u),g=t("tI3i"),p=t.n(g),y=t("zTrU"),_=t("rHpw"),h=t("aITJ"),k=t("MWbm"),v=t("n5fo"),b=t("5emT"),f=t("Oib4"),F=t("WtWS"),T=t("ioan");const S=e=>e.length,K=(e,l=S)=>l(e),R=m.a.de540c32,E=m.a.b4abfdb4;class L extends s.a.Component{constructor(e){super(e),this._blurOnBackspaceKeyUpForKaiOS=!1,this._isLabelLarge=()=>{const{actualCount:e,isFocused:l}=this.state;return!e&&!l},this._getTextInputStyle=Object(y.a)((e=>[C.root,!e&&C.disabled])),this._getTextInputType=()=>{const{showPasswordVisibilityIcon:e,type:l}=this.props,{isPasswordRevealed:t}=this.state;return"password"===l&&e?t?"text":"password":l},this._calculateLength=e=>K(e,this.props.calculateLength),this._shouldRenderDisplayCount=()=>{const{isFocused:e}=this.state,l=this._isFormInvalid();return Boolean((e||l)&&this._getMaxDisplayCount())},this._isInvalidNumber=()=>{var e,l,t,n,a;const{type:i}=this.props,s=null==(e=this._textInput)||null==(l=e.textInputNode)?void 0:l.value,r=null==(t=this._textInput)||null==(n=t.textInputNode)||null==(a=n.validity)?void 0:a.badInput;return"number"===i&&""===s&&!0===r},this._getActualCount=e=>{let l=e.length;return this._isInvalidNumber()&&(l=1),l},this._handleBlur=()=>{var e;const{onBlur:l}=this.props,t=(null==(e=this._textInput)?void 0:e.getValue())||"",n=this._calculateLength(t),a=this._getActualCount(t);this.setState({isFocused:!1,displayCount:n,actualCount:a}),l&&l()},this._handleChange=e=>{const{onChange:l}=this.props,{previousValue:t}=this.state,{value:n}=e.currentTarget,a=this._calculateLength(n),i=this._getActualCount(n),s=this._getAdjustedMaxLength();void 0!==s&&n.length>s&&t.length<n.length?e.currentTarget.value=t:(this.setState({isFocused:!0,displayCount:a,actualCount:i,previousValue:e.currentTarget.value}),l&&l(e))},this._handleFocus=()=>{const{onFocus:e}=this.props;this.setState({isFocused:!0}),e&&e()},this._handleKeyPress=e=>{const{multiline:l,onKeyPress:t,onSubmitEditing:n}=this.props;t&&t(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||l||!n||(e.preventDefault(),n(e))},this._handleKeyDown=e=>{const{onKeyDown:l}=this.props,{displayCount:t}=this.state,n=0===t;h.b.isKaiOS()&&"Backspace"===e.key&&n?this._blurOnBackspaceKeyUpForKaiOS=n:l&&l(e)},this._handleKeyUp=e=>{const{onKeyUp:l}=this.props;h.b.isKaiOS()&&"Backspace"===e.key&&this._blurOnBackspaceKeyUpForKaiOS&&(e.preventDefault(),this.blur()),l&&l(e)},this._handlePasswordVisibilityClick=e=>{this.setState((e=>({isPasswordRevealed:!e.isPasswordRevealed})))},this._setTextInputRef=e=>{this._textInput=e},this._checkComponentPropsUsageCorrectness=e=>{const{defaultValue:l,maxLength:t,onChange:n,validLength:a,value:i}=e,s=!!n,r="string"==typeof i,o="string"==typeof l;p()(!(!o&&r&&!s),"A controlled component, a component with a value prop, must have an onChange handler. The value prop cannot be undefined."),p()(!(t&&a&&a>t),"Max length should be equal or greater than valid length."),p()(!(void 0!==t&&t<=0||void 0!==a&&a<=0),"Set editable to false instead of limiting the valid character count to 0.")},this._exceedsValidLength=e=>{const l=this._getMaxDisplayCount();return!!l&&e>l},this._getMaxDisplayCount=()=>this.props.validLength||this.props.maxLength,this._getAdjustedMaxLength=()=>{const{maxLength:e}=this.props,l=this.getValue(),t=this._calculateLength(l);return e?e+l.length-t:void 0},this._checkComponentPropsUsageCorrectness(e);const{defaultValue:l,value:t}=e,n=t||l||"";this.state={displayCount:this._calculateLength(n),actualCount:S(n),isFocused:!1,isPasswordRevealed:!1,previousValue:n}}componentDidUpdate(e){const{maxLength:l,onChange:t,validLength:n,value:a}=this.props,{maxLength:i,onChange:s,validLength:r,value:o}=e;r===n&&l===i&&!!t===!!s&&"string"==typeof a===("string"==typeof o)||this._checkComponentPropsUsageCorrectness(this.props)}static getDerivedStateFromProps(e,l){const{calculateLength:t,value:n}=e,a="string"==typeof n?K(n,t):0;return"string"==typeof n&&a!==l.displayCount?{displayCount:a,actualCount:n.length}:null}render(){const{accessibilityLabel:e,editable:l,errorText:t,helperText:n,style:a}=this.props,{isFocused:i}=this.state,r=this._isFormInvalid();return s.a.createElement(k.a,{style:[I.root,a]},s.a.createElement(k.a,{accessibilityLabel:e,accessibilityRole:"label",style:[d.a.border,I.textInputFormStyle,r&&d.a.invalidBorderColor,i&&r&&d.a.focusedBorderInvalid,i&&!r&&d.a.focusedBorderValid,!l&&d.a.disabled]},s.a.createElement(k.a,{style:I.textInputFormWrapper},s.a.createElement(k.a,{style:I.textInputHeader},this._renderLabel(),this._shouldRenderDisplayCount()?this._renderDisplayCount():null),this._renderTextInput())),s.a.createElement(k.a,{style:[I.sidePadding,I.underTextInputForm]},s.a.createElement(k.a,{style:I.subtextWrapper},n?this._renderHelperText():null,r&&t?this._renderErrorText():null)))}_renderLabel(){const{label:e}=this.props,{isFocused:l}=this.state,t=l?"primary":"gray700",n=this._isFormInvalid()?"red500":t,a=this._isLabelLarge();return s.a.createElement(o.b,{color:a?"gray700":n,numberOfLines:1,size:a?"headline1":"subtext2",style:[I.textInputHeaderItem,a&&I.placeholderText,!r.a.reducedMotionEnabled&&I.transition]},e)}_renderTextInput(){const{Icon:e,accessibilityLabel:l,calculateLength:t,editable:n,errorText:i,helperText:r,invalid:c,label:d,maxLength:u,onBlur:m,onChange:g,onFocus:p,onKeyDown:y,onKeyPress:_,onKeyUp:h,onSubmitEditing:v,showPasswordVisibilityIcon:b,showValidationIcon:f,style:F,type:S,validLength:K,...R}=this.props;return s.a.createElement(k.a,{style:C.container},e&&!this._isLabelLarge()?this._renderIcon():null,s.a.createElement(o.b,{size:"headline1",style:C.wrapper},s.a.createElement(T.a,a()({},R,{editable:n,maxLength:this._getAdjustedMaxLength(),onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,ref:this._setTextInputRef,style:this._getTextInputStyle(n),type:this._getTextInputType()}))),f&&!this._isLabelLarge()?this._renderValidationIcon():null,this._renderPasswordVisibilityIcon())}_renderPasswordVisibilityIcon(){const{showPasswordVisibilityIcon:e,type:l}=this.props,{isPasswordRevealed:t}=this.state;return"password"===l&&e?s.a.createElement(k.a,{style:I.passwordVisibilityIconContainer},s.a.createElement(c.a,{accessibilityLabel:t?E:R,focusable:!0,hoverLabel:{label:t?E:R},icon:t?s.a.createElement(v.a,null):s.a.createElement(b.a,null),onPress:this._handlePasswordVisibilityClick,size:"smallCompact",type:"primaryText"})):null}_renderHelperText(){return s.a.createElement(k.a,{accessibilityLiveRegion:"polite"},s.a.createElement(o.b,{color:"gray700",size:"subtext2",style:I.subtext},this.props.helperText))}_renderErrorText(){return s.a.createElement(k.a,{accessibilityLiveRegion:"assertive"},s.a.createElement(o.b,{color:"red500",size:"subtext2",style:I.subtext},this.props.errorText))}_renderDisplayCount(){const{displayCount:e}=this.state,l=this._getMaxDisplayCount(),t=this._exceedsValidLength(e),n=l&&m.a.ia24dc8d(l),a=m.a.ia24dc8d(e);return s.a.createElement(k.a,{accessibilityLiveRegion:"polite",style:[I.textInputHeaderItem,I.displayCount]},s.a.createElement(o.b,{color:t?"red500":"gray700",size:"subtext2"},n?`${a} / ${n}`:""))}_renderIcon(){const{Icon:e}=this.props,{isFocused:l}=this.state,t=[I.icon,l&&I.focusedIcon];return e&&s.a.createElement(e,{style:t})}_renderValidationIcon(){return this._isFormInvalid()?s.a.createElement(f.a,{style:[I.validationIcon,d.a.invalidColor]}):s.a.createElement(F.a,{style:[I.validationIcon,d.a.validColor]})}_isFormInvalid(){const{displayCount:e}=this.state;return!!this.props.invalid||this._exceedsValidLength(e)||this._isInvalidNumber()}blur(){this._textInput&&this._textInput.blur()}getValue(){return this._textInput&&this._textInput.getValue()||""}focus(){this._textInput&&this._textInput.focus()}isValidLength(){const e=this.getValue(),l=this._calculateLength(e);return!this._exceedsValidLength(l)}}L.defaultProps={autoComplete:"on",autoCorrect:!0,autoFocus:!1,editable:!0,invalid:!1},L.propTypes={};const C=_.a.create((e=>({container:{flexDirection:"row",flexGrow:1,flexShrink:1,overflow:"hidden",paddingBottom:e.spaces.space8,paddingHorizontal:e.spaces.space8,paddingTop:e.spaces.space12,marginTop:e.spaces.space16},root:{backgroundColor:"transparent",borderRadius:e.borderRadii.none,borderWidth:e.borderWidths.none,boxSizing:"border-box",color:"inherit",fontFamily:"inherit",fontSize:"inherit",textAlign:"inherit",outlineStyle:"none",padding:0},wrapper:{alignItems:"center",display:"flex",fontSize:e.fontSizes.headline2,width:"100%"},disabled:{color:e.colors.gray700}}))),I=_.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},textInputFormStyle:{flexDirection:"row"},textInputFormWrapper:{flexGrow:1,flexShrink:1},textInputHeader:{flexDirection:"row",justifyContent:"space-between",position:"absolute",height:"100%",width:"100%"},textInputHeaderItem:{paddingTop:e.spaces.space8,paddingHorizontal:e.spaces.space8,fontSize:"small"},placeholderText:{paddingTop:e.spaces.space16,fontSize:e.fontSizes.headline2,userSelect:"none"},displayCount:{flexGrow:1,alignItems:"flex-end"},sidePadding:{paddingHorizontal:e.spaces.space8},underTextInputForm:{flexDirection:"row"},subtextWrapper:{flexDirection:"column",flex:1,paddingRight:e.spaces.space20,paddingTop:e.spaces.space2},subtext:{alignSelf:"flex-start"},focusedIcon:{color:e.colors.primary},icon:{alignSelf:"center",color:e.colors.gray700,paddingRight:e.spaces.space4},validationIcon:{alignSelf:"center",paddingLeft:e.spaces.space4},transition:{transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1), color 150ms cubic-bezier(0.4, 0, 0.2, 1), font-size 150ms cubic-bezier(0.4, 0, 0.2, 1), padding-top 150ms cubic-bezier(0.4, 0, 0.2, 1)"},passwordVisibilityIconContainer:{alignSelf:"center",paddingLeft:e.spaces.space4},passwordVisibilityIcon:{color:e.colors.gray700}})))},pKoL:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("HPNB"),s=t("9HgX"),r=t("3XMw"),o=t.n(r),c=t("LCtV"),d=t("eyty"),u=t("zb92"),m=t("RuTB"),g=Object(u.a)({loader:()=>Promise.all([t.e(0),t.e(3),t.e(232)]).then(t.bind(null,"EOJ2")).then((e=>({default:e.__DANGEROUS_IMPORT_VIDEOPLAYER__}))),renderPlaceholder:(e,l)=>a.a.createElement(m.a,{hasError:e,onRetry:l})}),p=t("k/Ka"),y=t("eXeu"),_=t("iOGT");class h extends a.a.Component{constructor(...e){super(...e),this._setVideoRef=e=>{const{getVideoRef:l}=this.props;l&&l(e)}}render(){const{children:e,dataSaverMode:l,getVideoRef:t,style:n,variants:i,...s}=this.props,r=Object(_.b)(i,l?_.a.MEDIUM:void 0)||[],o=Object(y.f)(r.map((e=>({src:e.url,type:e.content_type}))));return Object(p.a)("video",{...s,children:[o.map((e=>a.a.createElement("source",{key:e.src,src:e.src,type:e.type}))),e],ref:this._setVideoRef,style:n})}}h.defaultProps={dataSaverMode:!1,variants:[]};var k=t("62wY"),v=t("sjK1"),b=t("v6aA"),f=t("cHvH"),F=t("mXq/"),T=t("/yvb"),S=t("a6qo"),K=t("rHpw"),R=t("hOZg"),E=t("GCOQ"),L=t("tuke"),C=t("U+bB"),I=t("MWbm"),w=t("+/sI");const x=o.a.gd80afba,M=o.a.j322caee,O=o.a.abd845fe,A=o.a.df1b0708,D=o.a.cd959e5c,P=o.a.e68b09b4,U=o.a.add55c98;class H extends a.a.Component{constructor(...e){super(...e),this.state={isVideoPaused:!0,playGif:!1},this._handleGifClick=()=>{this.setState({playGif:!this.state.playGif})},this._handleMediaPreviewLayout=e=>{const{mediaItem:l,resizeIfNeeded:t}=this.props,n=l.mediaFile||l.externalMediaDetails;if(!n)return;const{nativeEvent:{layout:{height:a,width:i}}}=e,{height:s,width:r}=n,o=r/s;Math.abs(o-i/a)>.05&&this._mediaContainer&&("width"===t?this._mediaContainer.setNativeProps({style:{width:a*o}}):"height"===t&&this._mediaContainer.setNativeProps({style:{height:i/o}}))},this._handleVideoOnPlay=e=>{this.setState({isVideoPaused:!1})},this._handleVideoOnPause=e=>{this.setState({isVideoPaused:!0})},this._setMediaContainerRef=e=>{this._mediaContainer=e},this._setVideoRef=e=>{this._video=e},this.playVideo=()=>{if(this._video){const e=this._video.play();void 0!==e&&e.then((e=>{this._handleVideoOnPlay()})).catch()}},this.pauseVideo=()=>{this._video&&(this._video.pause(),this._handleVideoOnPause())}}render(){var e;const{accessibilityLabel:l,accessibilityRole:t,enableGif:n,mediaItem:r,onEdit:o,onEditSensitiveWarning:c,onRemove:d,style:u,withAltTextLabel:m,withCloseButton:g,withEditButton:p,withEditIcon:y,withEditSensitiveWarningButton:_}=this.props,{playGif:h}=this.state,k=r.externalMediaDetails&&r.externalMediaDetails.mediaType===s.a,v=k||n&&r.mediaFile&&r.mediaFile.isGif,b=!(null==(e=r.mediaFile)||!e.isVideo);return a.a.createElement(f.a,null,(({windowWidth:e})=>{const n=void 0!==y?y:!i.a.isTwoColumnLayout(e);return a.a.createElement(I.a,{accessibilityLabel:l||U,accessibilityRole:t,onLayout:this._handleMediaPreviewLayout,ref:this._setMediaContainerRef,style:[u,W.cursor,k&&W.gifPlayButton]},this._renderPreview(),k&&!h&&a.a.createElement(F.a,{accessibilityLabel:A,onPress:this._handleGifClick,size:"small"}),g?a.a.createElement(T.a,{accessibilityLabel:D,hoverLabel:{label:P},icon:a.a.createElement(R.a,null),onPress:d,size:"small",style:W.close,type:"onMediaDominantColorFilled"}):null,v?a.a.createElement(w.c,{type:w.a}):null,m&&!b?a.a.createElement(S.a,{align:"left",altLabel:l}):null,p?a.a.createElement(I.a,{style:[W.editMedia,b?W.editVideo:W.editImage]},_?a.a.createElement(T.a,{accessibilityLabel:M,icon:a.a.createElement(E.a,{style:W.editSensitiveWarningIcon}),onPress:c,size:"small",style:W.editSensitiveWarningButton,type:"onMediaDominantColorFilled"}):null,a.a.createElement(T.a,{accessibilityLabel:x,icon:n?a.a.createElement(L.a,null):void 0,onPress:o,size:n?"xSmall":"small",type:"onMediaDominantColorFilled"},n?void 0:O)):null)}))}_renderPreview(){var e;const{mediaItem:l}=this.props;if(l.externalMediaDetails){const e=l.externalMediaDetails.previewUrl,t=l.externalMediaDetails.stillMediaUrl;return this._renderGifPreview(e,t)}return null!=(e=l.mediaFile)&&e.isVideo?this._renderVideoPreview(l.mediaFile.type,l.mediaFile.url,l.id,l.mediaFile):a.a.createElement(I.a,{style:K.a.absoluteFill},this._renderImagePreview())}_renderGifPreview(e,l){const{playGif:t}=this.state,n={uri:t?e:l};return a.a.createElement(I.a,{onClick:this._handleGifClick,style:K.a.absoluteFill},a.a.createElement(C.a,{resizeMode:"cover",source:n,style:W.video}))}_renderImagePreview(){const{borderRadius:e,enableGif:l,imageResizeMode:t,mediaItem:n,onClick:i}=this.props;return a.a.createElement(c.b,{borderRadius:e,enableGif:l,mediaItem:n,onClick:i,resizeMode:t})}_renderVideoPreview(e,l,t,n){var i;this._configurableVideoPlayerEnabled=this.context.featureSwitches.isTrue("responsive_web_composer_configurable_video_player_enabled");const{mediaItem:s}=this.props,r=null==(i=s.mediaMetadata)?void 0:i.subtitles;if(this._configurableVideoPlayerEnabled&&n instanceof v.c){const i=Object(d.h)(n.fileHandle)?[{src:l,type:e}]:[],o=`${t}`;return a.a.createElement(g,{mediaFile:n,mediaId:o,subtitles:r,trimData:null==s?void 0:s.trimData,variants:i})}{var o;const t=Object(d.h)(n.fileHandle)?[{content_type:e,url:l}]:[],i=(null==r||null==(o=r.upload)?void 0:o.mediaFile)instanceof k.a?r.upload.mediaFile.vtt:void 0;return a.a.createElement(h,{autoPlay:!1,controls:!0,getVideoRef:this._setVideoRef,loop:!0,muted:!0,onPause:this._handleVideoOnPause,onPlay:this._handleVideoOnPlay,playsInline:!0,poster:n instanceof v.c?n.thumbnail:"",style:W.video,variants:t},r&&i?a.a.createElement("track",{default:!0,kind:"subtitles",label:r.displayName,src:i,srcLang:r.lang}):null)}}}H.contextType=b.a,H.defaultProps={enableGif:!0,withCloseButton:!0,withAltTextLabel:!1,withEditButton:!1,withEditSensitiveWarningButton:!1};const W=K.a.create((e=>({close:{position:"absolute",left:e.spaces.space4,top:e.spaces.space4},cursor:{cursor:"pointer"},editSensitiveWarningIcon:{color:e.colors.primary},editMedia:{display:"flex",flexDirection:"row",position:"absolute",right:e.spaces.space4},editImage:{bottom:e.spaces.space4},editVideo:{top:e.spaces.space4},editSensitiveWarningButton:{marginRight:e.spaces.space8},gifPlayButton:{alignItems:"center",justifyContent:"center"},video:{height:"100%",width:"100%"}})));l.a=H},pXKu:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("BUB3"),s=t("v6aA"),r=t("xZGM"),o=t("rxPX");var c=Object(o.a)().propsFromState((()=>({shouldShowPrompt:(e,l)=>Object(r.E)(e,r.k)}))).propsFromActions((()=>({addFlag:r.A}))).withAnalytics({component:"dm_education_flags_prompt"}),d=t("fs1G"),u=t("t62R"),m=t("feu+"),g=t("3XMw"),p=t.n(g);const y=p.a.fd6150fc,_=a.a.createElement(p.a.I18NFormatMessage,{$i18n:"iac7f92b"},a.a.createElement(u.b,{link:"/privacy"},p.a.ac25e02e)),h=p.a.j24c37b2;var k=c((e=>{const{addFlag:l,analytics:t,shouldShowPrompt:n}=e,{featureSwitches:i}=a.a.useContext(s.a);if(!(n&&i.isTrue("dm_education_flags_prompt")))return!1;return t.scribeAction("impression"),a.a.createElement(m.a,{actionLabel:h,headline:y,onAction:()=>{t.scribeAction("click"),l(r.k)},onClose:d.a,subtext:_,withCloseButton:!1})})),v=t("MMRb"),b=t("kGix"),f=t("0KEI");var F=Object(o.a)().propsFromState((()=>({hasConversations:v.selectHasConversations,fetchStatus:v.selectFetchStatus,isLoadingTop:v.selectIsLoadingTop}))).adjustStateProps((({fetchStatus:e,hasConversations:l,isLoadingTop:t})=>({fetchStatus:l?b.a.LOADED:e,isRefreshing:l&&t}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),fetchInbox:v.fetchInbox,fetchInboxIfNeeded:v.fetchInboxIfNeeded,fetchUpdates:v.fetchUpdatesIfNeeded}))),T=t("ZYFu"),S=t("1YZw");var K,R,E,L=Object(o.a)().propsFromState((()=>({pinnedConversationIds:v.selectPinnedConversationIds}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DM_PINNED_INBOX_CONTEXT")}))).withAnalytics({page:"messages",section:"inbox"}),C=t("AQ79"),I=t("oUUt"),w=t("d9IC"),x=t("h3MB"),M=t("QvgI"),O=t("P74S"),A=t.n(O),D=(t("YWiL"),t("q+MS")),P=t("DbJc"),U=t("TEoO"),H=t("NjAB"),W=t("gEJU"),N=t("pHkl"),q=t("IG4P"),j=t("Fr3L"),B=t("uDfI"),V=t("DQzJ"),z=t("MWbm"),G=t("q8SM"),Q=t("HvW7"),Y=t.n(Q),X=t("PJTX"),$=t.n(X);const J=p.a.e4b3f520,Z=p.a.ae4d666a,ee=p.a.d98e066c,le=p.a.j302dba8,te=e=>e,ne=void 0!==K?K:K=t("X8um"),ae={context:"DM_PINNED_INBOX"},ie=e=>{var l;const n=Object(B.c)(),{accessibilityTitle:i,analytics:r,cacheKey:o,conversationIds:c,createLocalApiErrorHandler:d,footer:u,header:m,onNearEnd:g,pinnedConversationIds:p,renderEmptyDMInbox:y,renderInboxItem:_,showSearchView:h,withKeyboardShortcuts:k}=e,b=$()(),{data:f}=Object(V.a)(ne,{label:C.a.PINNED}),F=a.a.useMemo((()=>{var e;return(null==f||null==(e=f.labeled_conversation_slice)?void 0:e.items)||[]}),[f]),{entities:T}=Object(H.b)(F,[x.a]),{featureSwitches:K}=a.a.useContext(s.a),L=K.getNumberValue("dm_conversation_labels_max_pinned_count"),[w,O]=a.a.useState(!1),[j,z]=a.a.useState(!1),Q=(e=>{const l=a.a.useRef();return a.a.useEffect((()=>{l.current=e})),l.current})(f);a.a.useEffect((()=>{var e;const l=(null==Q||null==(e=Q.labeled_conversation_slice)?void 0:e.items)||[],t=null==l?void 0:l.filter((e=>-1===F.indexOf(e.rest_id)));t.length&&t.forEach((e=>{var l;const t=null==(l=e.labels)?void 0:l.filter((e=>e.label_type!==C.a.PINNED));n(Object(D.a)({conversations:{[e.rest_id]:{...e,labels:t}}}))})),n(Object(D.a)(T,!1))}),[f]);const X=a.a.useCallback((()=>{O(!0);const e=A()(b,ne,{label:C.a.PINNED}).toPromise();Promise.all([e,()=>n(v.fetchInbox())]).then((()=>O(!1))).catch((e=>{d()(e),O(!1)}))}),[d,n,b]),[ae]=Y()(void 0!==R?R:R=t("ZH9U")),[ie]=Y()(void 0!==E?E:E=t("rQjK")),re=a.a.useCallback(((e,l)=>{ae({variables:{conversation_id:e,label:C.a.PINNED},onCompleted(t){var a;switch(null==(a=t.add_dm_conversation_label_v3)?void 0:a.__typename){case"DMConversationLabelInfo":{const{label_type:a,timestamp:i}=t.add_dm_conversation_label_v3;n(Object(D.a)({conversations:{[e]:{...l,labels:[{label_type:a,timestamp:i}]}}})),n(Object(S.b)({ariaOnly:!0,text:ee}));break}case"DMConversationLabelUnavailable":{const{failure_reason:e}=t.add_dm_conversation_label_v3;r.scribe({element:"thread",action:"error_shown",data:{error_type:N.i.MAX_PINS_REACHED}}),"ExceededMaxPinnedConversations"===e&&z(!0);break}}},onError(e){d(G.a)(e)}})}),[n,d,ae,r]),oe=a.a.useCallback(((e,l)=>{ie({variables:{conversation_id:e,label_type:C.a.PINNED},onCompleted(t){var a;const i=l?null==l||null==(a=l.labels)?void 0:a.filter((e=>e.label_type!==C.a.PINNED)):[];n(Object(D.a)({conversations:{[e]:{...l,labels:i}}})),n(Object(S.b)({ariaOnly:!0,text:le}))},updater(l){var t,n;const a=null==(t=F.find((l=>l.rest_id===e)))?void 0:t.id,i=null==f||null==(n=f.labeled_conversation_slice)?void 0:n.__id;if(!a||!i)return;const s=l.get(a),r=l.get(i);r&&s&&(Object(I.b)(r,a),l.delete(a))},onError(e){d(G.b)(e)}})}),[d,F,null==f||null==(l=f.labeled_conversation_slice)?void 0:l.__id,n,ie]),ce=null==c?void 0:c.filter((e=>-1===p.indexOf(e))),de=p.length&&ce.length,ue=a.a.createElement(a.a.Fragment,null,m,null!=p&&p.length?a.a.createElement(a.a.Fragment,null,se(J),p.map(((e,l)=>_({conversationIds:p,pinConversation:re,unpinConversation:oe})(e)))):null,de?se(Z):null);return null!=c&&c.length?a.a.createElement(a.a.Fragment,null,j?a.a.createElement(W.a,{count:L,setShowPinError:z}):null,h?a.a.createElement(M.a,{accessibilityTitle:i,analytics:r,conversationIds:c,hideRecentSearches:e.hideRecentSearches,onQueryChange:e.onQueryChange,pinConversation:re,query:e.query,unpinConversation:oe}):a.a.createElement(q.a,{isRefreshing:w,onRefresh:X},o&&null!=ce&&ce.length?a.a.createElement(U.a,{accessibilityRole:"tablist",accessibilityTitle:i,anchoring:P.a,assumedItemHeight:100,cacheKey:o,footer:u,header:ue,identityFunction:te,items:ce,onNearEnd:g,renderer:_({conversationIds:ce,pinConversation:re,unpinConversation:oe}),withKeyboardShortcuts:k,withoutHeadroom:!0}):ue)):y()},se=e=>a.a.createElement(z.a,null,a.a.createElement(w.a,{headerText:e,isInboxLabelHeader:!0}));function re(e){return a.a.createElement(j.a,{errorConfig:ae},a.a.createElement(ie,e))}var oe=L(a.a.memo(re)),ce=t("dwig"),de=t("v//M"),ue=t("QB0K"),me=t("Avzu"),ge=t("FRNI");const pe=p.a.h845f282,ye=p.a.f325afc4;function _e(){return a.a.createElement(ue.a,{accessibilityLabel:pe,href:"/messages/compose",icon:a.a.createElement(me.a,null),label:pe,scribeComponent:"floating_dm_button",shortLabel:ye,testID:ge.a.message})}var he=a.a.memo(_e),ke=t("VwDm"),ve=t("tI3i"),be=t.n(ve),fe=t("sNn6"),Fe=t("883S"),Te=t("yoO3"),Se=t("4hmp"),Ke=t("GSsg"),Re=t("TnY3"),Ee=t("2g+p"),Le=t("6OUF"),Ce=t("mw9i"),Ie=t("BcsE"),we=t("+d3d");const xe=e=>e,Me=p.a.a66ac766,Oe=p.a.fe61929e,Ae=p.a.a846382a;class De extends a.a.Component{constructor(e,l){var t,n,s,r,o,c,d;super(e,l),this.state={showSearchView:!(null==(t=this.props)||null==(n=t.location)||null==(s=n.state)||!s.searchQuery),searchQuery:null!=(r=null==(o=this.props)||null==(c=o.location)||null==(d=c.state)?void 0:d.searchQuery)?r:""},this._enablePinnedInbox=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._render=()=>{const{withPinnedInbox:e}=this.props;return this._enablePinnedInbox&&e?this._renderPinnedInbox():this._renderInbox()},this._renderFocusedSearch=()=>{const{accessibilityTitle:e,analytics:l,conversationIds:t}=this.props,{searchQuery:n}=this.state;return a.a.createElement(M.a,{accessibilityTitle:e,analytics:l,conversationIds:t,hideRecentSearches:this._hideRecentSearches,onQueryChange:this._handleQueryChange,query:n})},this._renderInbox=()=>{var e,l;const{accessibilityTitle:t,conversationIds:n,footer:i,isDrawer:s,isRefreshing:r,renderEmptyDMInbox:o,virtualScrollerCacheKey:c}=this.props,{showSearchView:d}=this.state;return d||null!=(e=this.props.location)&&null!=(l=e.state)&&l.searchQuery?this._renderFocusedSearch():a.a.createElement(q.a,{isRefreshing:r,onRefresh:this._handlePullToRefresh},c&&n?a.a.createElement(U.a,{accessibilityRole:"tablist",accessibilityTitle:t,anchoring:P.a,assumedItemHeight:100,cacheKey:c,footer:i,header:this._renderHeader(),identityFunction:xe,items:n,noItemsRenderer:o,onNearEnd:this._handleNearEnd,renderer:this._renderInboxItem({conversationIds:n}),withKeyboardShortcuts:!s,withoutHeadroom:!0}):null)},this._handleNearEnd=()=>{this._handleHistoryRequest()},this._handleQueryChange=e=>{this.setState({searchQuery:e})},this._handleSearchChange=({currentTarget:{value:e}})=>{this.state.showSearchView||this.setState({showSearchView:!0})},this._handleSearchClick=()=>{const{analytics:e}=this.props;e.scribe({component:"search",action:"click"}),this.setState({showSearchView:!0})},this._hideRecentSearches=()=>{this.setState({showSearchView:!1,searchQuery:""})},this._renderInboxItem=({conversationIds:e,pinConversation:l,unpinConversation:t})=>(n,s)=>{const{loggedInUserId:r}=this.context,{location:o}=this.props,{searchQuery:c}=this.state,d=n,u={pathname:`/messages/${d}`,state:{...null==o?void 0:o.state,entryPoint:null,searchQuery:c}},m=d&&null!=e&&e.length?e.indexOf(d):null,g=Object(Ie.a)(m)?m+1:0;be()(!!r,"loggedInUserId must be defined"),s&&s(!0);const p=e=>a.a.createElement(T.a,{conversationId:d,inboxType:this.props.inboxType,isActive:e,key:d,link:u,onClick:this._handleConversationClick,perspective:r,pinConversation:l,position:g,searchQuery:c,unpinConversation:t});return this._isVDLEnabled?a.a.createElement(fe.a,{exact:!1,path:u.pathname},p):a.a.createElement(i.a,{exact:!1,path:u.pathname},p)},this._renderPinnedInbox=()=>{const{accessibilityTitle:e,conversationIds:l,footer:t,isDrawer:n,renderEmptyDMInbox:i,virtualScrollerCacheKey:s}=this.props,{searchQuery:r,showSearchView:o}=this.state;return l.length?a.a.createElement(oe,{accessibilityTitle:e,cacheKey:s,conversationIds:l,footer:t,header:this._renderHeader(),hideRecentSearches:this._hideRecentSearches,onNearEnd:this._handleNearEnd,onQueryChange:this._handleQueryChange,query:r,renderEmptyDMInbox:i,renderInboxItem:this._renderInboxItem,showSearchView:o,withKeyboardShortcuts:!n}):i()},this._handleFetchInitialWrapper=()=>{this._handleFetchInitial()},this._handleFetchInitial=()=>{const{createLocalApiErrorHandler:e,fetchInboxIfNeeded:l,fetchUpdates:t}=this.props;return l().then(this._updateLastSeenEventId,e()).then((()=>{this._updatePolling.start()})).then((()=>t().catch(e())))},this._handleConversationClick=(e,l)=>{const{customCellClick:t}=this.props;t&&t(e,l)},this._handleEmptyDMInboxImpression=()=>{const{analytics:e}=this.props;e.scribe({component:"empty_message",action:"impression"})},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,fetchInbox:l}=this.props;l().then(this._updateLastSeenEventId,e())},this._updateLastSeenEventIdIfActive=()=>{if("background"!==Ee.a.currentState)return this._updateLastSeenEventId()},this._renderHeader=()=>{const{renderStickyContent:e,withDmSearch:l}=this.props,t=[Se.a.searchInput,this._isVDLEnabled?void 0:Se.a.searchInputBorder];return a.a.createElement(a.a.Fragment,null,l?a.a.createElement(z.a,{onClick:this._handleSearchClick,style:t},a.a.createElement(Le.a,{Icon:ke.a,autoComplete:"off",isCompact:!0,onChange:this._handleSearchChange,placeholder:this._messageSearchEnabled?Ae:Oe,withClearButton:!0})):null,e?e():null)},this._updateLastSeenEventId=()=>{const{createLocalApiErrorHandler:e,updateLastSeenEventId:l}=this.props;return l().catch(e())},this._fab=a.a.createElement(he,null)}componentDidMount(){const{createLocalApiErrorHandler:e,fetchInboxHistory:l,fetchUpdates:t}=this.props;return this._updatePolling=new Ke.a((()=>{t().then(this._updateLastSeenEventIdIfActive,e(Fe.a))}),{interval:8e3}),this._handleHistoryRequest=Object(we.a)(((...t)=>{l(...t).catch(e())}),1e3),this._handleFetchInitial()}componentWillUnmount(){this._updatePolling.stop()}render(){return a.a.createElement(Te.a,{locationKey:"messagesRoot"},a.a.createElement(k,null),a.a.createElement(ce.a,{component:Ce.a,fab:this._fab,style:Se.a.root},a.a.createElement(de.a,{accessibilityLabel:Me,fetchStatus:this.props.fetchStatus,onRequestRetry:this._handleFetchInitialWrapper,render:this._render})))}}De.contextType=s.a,De.defaultProps={conversationIds:[],inboxType:C.d.PRIMARY,isDrawer:!1,withDmSearch:!1,withPinnedInbox:!1};l.a=Object(Re.a)(F(De))},pdDm:function(e,l,t){"use strict";t.d(l,"a",(function(){return be}));t("kYxP"),t("Qavd");var n,a=t("ERkP"),i=t.n(a),s=t("v6aA"),r=t("lnti"),o=t("V/6K"),c=t("Ka95"),d=t("QvgI"),u=t("maE+"),m=t("qdEw"),g=t("6OUF"),p=t("3XMw"),y=t.n(p),_=t("VwDm"),h=t("d9IC"),k=t("MWbm"),v=t("AQ79"),b=(t("YWiL"),t("CVPS")),f=t.n(b);const F=y.a.e4b3f520,T=y.a.ae4d666a,S=(e,l)=>{var t,n,a,i;const s=null==(t=e.labels)||null==(n=t.find((e=>e.label_type===v.a.PINNED)))?void 0:n.timestamp,r=null==(a=l.labels)||null==(i=a.find((e=>e.label_type===v.a.PINNED)))?void 0:i.timestamp;return s?r?s-r:-1:1},K=void 0!==n?n:n=t("/Kco");function R({dmDrawerOnClick:e,pinnedConversations:l,pinnedSliceId:t,unpinnedConversations:n}){const a=f()(K,l).map((e=>e)).sort(S),s=a.map((e=>e.__id));return l.length?i.a.createElement(i.a.Fragment,null,E(F),a.map(((l,n)=>i.a.createElement(c.a,{conversationIds:s,dmDrawerOnClick:e,dm_conversation:l,inboxType:v.d.PRIMARY,isPinned:!0,key:n,pinnedSliceId:t}))),n?E(T):null):null}const E=e=>i.a.createElement(k.a,null,i.a.createElement(h.a,{headerText:e,isInboxLabelHeader:!0}));var L=t("4hmp"),C=t("uDfI");const I=y.a.fe61929e,w=y.a.a846382a;function x({dmDrawerOnClick:e,handleSearchChange:l,handleSearchClick:t,pinnedConversations:n,pinnedSliceId:a,renderPivot:r,unpinnedConversations:c,withPinnedInbox:d}){const u=Object(C.c)(),{featureSwitches:p}=i.a.useContext(s.a),y=p.isTrue("dm_inbox_search_message_results_enabled")&&p.isTrue("dm_inbox_search_modular_results_enabled")&&p.isTrue("direct_messages_incremental_holdback_2022h1"),h=p.isTrue("dm_vdl_enabled")&&p.isTrue("dm_vdl_inbox_p0_enabled");return i.a.useEffect((()=>()=>{u(m.b)}),[u]),i.a.createElement(o.a.Consumer,null,(({isDrawer:s})=>i.a.createElement(i.a.Fragment,null,s?null:i.a.createElement(k.a,{onClick:t,style:[L.a.searchInput,h?void 0:L.a.searchInputBorder]},i.a.createElement(g.a,{Icon:_.a,autoComplete:"off",isCompact:!0,onChange:l,placeholder:y?w:I,withClearButton:!0})),r(),d?i.a.createElement(R,{dmDrawerOnClick:e,pinnedConversations:n,pinnedSliceId:a,unpinnedConversations:c}):null)))}var M=t("DbJc"),O=t("TEoO"),A=t("MMRb"),D=t("P1r1"),P=t("rxPX");var U,H=Object(P.a)().propsFromState((()=>({isDmsOpenForAll:D.s,lastSeenEventIds:A.selectLastSeenEventIds}))).withAnalytics({page:"messages",section:"inbox"}),W=t("CVqr"),N=t("SOvA"),q=t("t0aI"),j=t("nySH"),B=t("aI6n"),V=t("zsGg"),z=t("Irs7"),G=t("Znyr"),Q=t("csss"),Y=t("t62R"),X=t("j7Bv"),$=t("OOE2");const J=void 0!==U?U:U=t("8fJk");var Z,ee,le=H((e=>{const{isDmsOpenForAll:l,lastSeenEventIds:t}=e,{untrusted_last_seen_event_id:n}=t,a=Object(z.b)(),r=(e=>{let l=0,t=0,a=0,i=0;for(const c of e){var s,r,o;const e=null==c?void 0:c.last_readable_event_id,d=!e||!(n&&Object(q.c)(n,e)),u=(parseInt(null==c||null==(s=c.perspectival_conversation_metadata)||null==(r=s.social_proof)||null==(o=r.mutual_friends)?void 0:o.total_mutual_friends,10)||0)>0;d?u?l+=1:a+=1:u?t+=1:i+=1}return{newUntrustedWithSocialProof:l,oldUntrustedWithSocialProof:t,newUntrustedWithoutSocialProof:a,oldUntrustedWithoutSocialProof:i}})(f()(J,e.untrustedConversations)),o=r.newUntrustedWithSocialProof+r.newUntrustedWithoutSocialProof,{featureSwitches:c}=i.a.useContext(s.a),d=c.isTrue("dm_vdl_enabled")&&c.isTrue("dm_vdl_inbox_p0_enabled"),u=[L.a.requestPivotContainer,d?void 0:L.a.requestPivotContainerBorder],{description:m,showNotificationDot:g,titleWeight:p}=Object(W.a)(r);return l?i.a.createElement(k.a,{style:u},i.a.createElement(Q.a,{description:d?m:void 0,label:d?i.a.createElement(Y.b,{weight:p},$.b):$.b,link:Object(j.b)(v.d.SECONDARY),onPress:()=>{a.scribe({element:"requests_pivot",action:"click"})},renderRightContent:d||!o?void 0:()=>i.a.createElement(G.a,{count:o,standalone:!0,truncatedCountFormatter:V.b,unreadCountLabel:$.c}),thumbnail:d?i.a.createElement(k.a,{testID:B.a.untrustedThumbnail},i.a.createElement(X.a,{Icon:N.a,color:"neutral"}),g?i.a.createElement(G.a,{count:o,pip:!0,standalone:!0,style:L.a.inboxPip,truncatedCountFormatter:V.b,unreadCountLabel:$.c}):null):null})):null})),te=t("IG4P"),ne=t("Fr3L"),ae=t("GSsg"),ie=t("0KEI"),se=t("zCf4"),re=t("DQzJ"),oe=t("6u/5"),ce=t.n(oe),de=t("P74S"),ue=t.n(de),me=t("PJTX"),ge=t.n(me),pe=t("29EQ");const ye=e=>e.__id,_e=void 0!==Z?Z:Z=t("6bmY"),he=void 0!==ee?ee:ee=t("vU/8"),ke={context:"DM_INBOX_PRIMARY_CONTEXT"},ve=({dmDrawerCacheKey:e,dmDrawerOnClick:l,pollInterval:t})=>{var n,a,m,g,p,y,_,h;const k=Object(z.b)(),b=Object(se.g)(),{data:f,fetchNext:F}=Object(re.a)(_e,{}),T=Object(ie.useCreateLocalApiErrorHandler)("DM_INBOX_PRIMARY_EVOLUTION"),S=ge()(),K=(null==f||null==(n=f.pinned)?void 0:n.items_results)||[],R=Object(r.a)(K.map((e=>null==e?void 0:e.result))),E=(null==f||null==(a=f.pinned)?void 0:a.__id)||"",L=(null==f||null==(m=f.trusted)?void 0:m.items)||[],C=Object(r.a)(L.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),I=C.map((e=>e.__id)),w=(null==f||null==(g=f.trusted)?void 0:g.__id)||"",A=C.filter((e=>!((null==e?void 0:e.labels)||[]).filter((e=>e.label_type===v.a.PINNED)).length)),D=A.map((e=>e.__id)),P=(null==f||null==(p=f.untrusted)?void 0:p.items)||[],U=Object(r.a)(P.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),H=(null==f||null==(y=f.low_quality)?void 0:y.items)||[],W=Object(r.a)(H.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),{featureSwitches:N}=i.a.useContext(s.a),q=N.isTrue("dm_conversation_labels_pinned_enabled")&&N.isTrue("direct_messages_incremental_holdback_2022h1"),[B,V]=i.a.useState((null==b||null==(_=b.state)?void 0:_.searchQuery)||""),[G,Q]=i.a.useState(!(null==b||null==(h=b.state)||!h.searchQuery)),[Y,X]=i.a.useState(!1),$=i.a.useCallback((()=>{ue()(S,he,{}).toPromise().then((e=>{var l;const t=C.length?C[0].__id:null;if(!t)return;const n=(null==e||null==(l=e.trusted)?void 0:l.items)||[],a=Object(r.a)(n.map((e=>{var l;return null==e||null==(l=e.dm_conversation_results)?void 0:l.result}))),i=[];for(let e=0;e<a.length&&a[e].__id!==t;e++)i.push(a[e].__id);i.length&&ce()(S,(e=>{i.forEach((l=>{Object(j.c)(l,e,w)}))}))})).catch(T({}))}),[T,S,C,w]),J=i.a.useCallback((()=>{X(!0),ue()(S,_e,{}).toPromise().catch(T({})).finally((()=>X(!1)))}),[T,S]);i.a.useEffect((()=>{const e=new ae.a((()=>{$()}),{interval:t});return e.start(),()=>{e.stop()}}),[$,t]);const Z=()=>i.a.createElement(u.a,{messageRequestPivot:ke()}),ee=(e,t)=>(t&&t(!0),i.a.createElement(c.a,{conversationIds:q?D:I,dmDrawerOnClick:l,dm_conversation:e,inboxType:v.d.PRIMARY,isPinned:!1,pinnedSliceId:E})),ne=i.a.useCallback((({currentTarget:{value:e}})=>{G||Q(!0)}),[Q,G]),oe=i.a.useCallback((()=>{k.scribe({component:"search",action:"click"}),Q(!0)}),[k,Q]),de=i.a.useCallback((e=>{V(e)}),[V]),me=i.a.useCallback((()=>{Q(!1),V("")}),[Q,V]),ke=()=>U.length||W.length?i.a.createElement(le,{untrustedConversations:U}):null,ve=i.a.createElement(x,{dmDrawerOnClick:l,handleSearchChange:ne,handleSearchClick:oe,pinnedConversations:R,pinnedSliceId:E,renderPivot:ke,unpinnedConversations:Boolean(A.length),withPinnedInbox:q}),be=()=>i.a.createElement(i.a.Fragment,null,G?i.a.createElement(d.a,{accessibilityTitle:pe.c,analytics:k,conversationIds:I,hideRecentSearches:me,onQueryChange:de,query:B}):i.a.createElement(te.a,{isRefreshing:Y,onRefresh:J},i.a.createElement(O.a,{accessibilityRole:"tablist",accessibilityTitle:pe.c,anchoring:M.a,assumedItemHeight:100,cacheKey:e||pe.a,header:ve,identityFunction:ye,items:q?A:C,noItemsRenderer:R.length?void 0:Z,onNearEnd:F,renderer:ee,withKeyboardShortcuts:!0,withoutHeadroom:!0})));return i.a.createElement(o.a.Consumer,null,(({isDrawer:e})=>e?be():i.a.createElement(pe.b,null,be())))};function be(e){return i.a.createElement(ne.a,{errorConfig:ke},i.a.createElement(ve,e))}},piX5:function(e,l,t){"use strict";const n=t("rHpw").a.create((e=>({border:{borderRadius:e.borderRadii.small,borderWidth:e.borderWidths.small,borderColor:e.colors.gray200},focusedBorderValid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.primary}`,borderColor:e.colors.primary},focusedBorderInvalid:{boxShadow:`0 0 0 ${e.borderWidths.small} ${e.colors.red500}`},invalidBorderColor:{borderColor:e.colors.red500},invalidColor:{color:e.colors.red500},validColor:{color:e.colors.primary},disabled:{cursor:"default",opacity:.5,backgroundColor:e.colors.gray50,borderColor:e.colors.gray50}})));l.a=n},prG5:function(e,l,t){"use strict";t.d(l,"a",(function(){return p}));var n=t("97Jx"),a=t.n(n),i=(t("kYxP"),t("ERkP")),s=t.n(i),r=t("nT9l"),o=t("3XMw"),c=t.n(o),d="image",u=t("TIdA"),m=t("a6qo");const g=c.a.f93bb3ee;class p extends s.a.Component{constructor(...e){super(...e),this._renderContent=({resourceSelectionHandler:e,useMinimumData:l})=>{const{accessibilityLabel:t,hideAcceptOverlay:n,shouldShowAltLabel:i,...r}=this.props;return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,a()({},r,{accessibilityLabel:t,onVariantSelection:e,previewMode:l,testID:d})),i?s.a.createElement(m.a,{align:"left",altLabel:t}):null)}}render(){const{hideAcceptOverlay:e,image:l}=this.props;return s.a.createElement(r.a,{acceptLabel:g,hideAcceptOverlay:e,renderContent:this._renderContent,resourceId:"string"==typeof l?l:l.url})}}},"q+MS":function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));t("kYxP");var n=t("xPna");const a=(e,l=!0)=>{const t={};let a={};return null!=e&&e.conversations&&(Object.values(e.conversations).forEach((e=>{e&&e.users&&Object.assign(t,e.users),l&&(e.isSearchResult=!0)})),a={...a,conversations:null==e?void 0:e.conversations,users:t}),null!=e&&e.entries&&(a={...a,entries:null==e?void 0:e.entries,cards:null==e?void 0:e.cards,tweets:null==e?void 0:e.tweets}),null!=e&&e.users&&(a={...a,users:{...e.users,...a.users||{}}}),Object(n.a)(a)}},q2o4:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"evolutionDmConversationMetadataQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"conversation_id",variableName:"id"},{kind:"Literal",name:"s",value:28}],concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,s,{kind:"RequiredField",field:u={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[c,d={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,s,{kind:"RequiredField",field:u,action:"THROW",path:"dm_conversation_by_rest_id.result.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[g={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[i,s,{kind:"RequiredField",field:p={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},c,d,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"dm_conversation_by_rest_id.result.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionDmConversationMetadataQuery",selections:[{alias:null,args:a,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_by_rest_id",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[v={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[i,s,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o,c,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:F=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[v,{kind:"InlineFragment",selections:[i,s,u,b={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},f={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},i],storageKey:null},m,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:F,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[v,g],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[v,{kind:"InlineFragment",selections:[i,s,p,b],type:"User",abstractKey:null}],storageKey:null},f,i],storageKey:null},y,_,h],storageKey:null},k],storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null},i],storageKey:null}]},params:{id:"IljetauiTK1r1nzm9zNY-g",metadata:{},name:"evolutionDmConversationMetadataQuery",operationKind:"query",text:null}};T.hash="2b488fbcb17c147b561fdebf5fc8e7c6",e.exports=T},q8SM:function(e,l,t){"use strict";t.d(l,"a",(function(){return d})),t.d(l,"b",(function(){return u}));var n=t("OIs+"),a=t("3XMw"),i=t.n(a);const s=i.a.cb367658,r=i.a.ie9a7e48,o=i.a.hd3927c6,c=i.a.f1ac0968,d={[n.a.Offline]:{toast:{text:r}},defaultToast:{text:s},showToast:!0},u={[n.a.Offline]:{toast:{text:c}},defaultToast:{text:o},showToast:!0}},qBaR:function(e,l,t){"use strict";t.d(l,"a",(function(){return I}));var n=t("ERkP"),a=t.n(n),i=t("HPNB"),s=t("v6aA"),r=t("+Kfv"),o=t("MMRb"),c=t("aA19"),d=t("XnpN"),u=t("3XMw"),m=t.n(u),g=t("/yvb"),p=t("6s7X");const y=m.a.h810143c;var _=({accessibilityLabel:e,conversationId:l,link:t,style:n})=>{const i=a.a.createElement(p.a,null);return a.a.createElement(g.a,{accessibilityLabel:e||y,hoverLabel:{label:y},icon:i,key:l,link:t,pullRight:!0,style:n,type:"primaryText"})},h=t("M2mT"),k=t("aITJ"),v=t("MWbm"),b=t("MAI/"),f=t("cHvH"),F=t("t62R"),T=t("rHpw"),S=t("OhSZ"),K=t("zCf4");const R={viewType:"messages"},E=m.a.d4986f86,L=m.a.e3e58b6e,C=m.a.a9ddbb94;function I(e){const l=a.a.useContext(s.a),t=Object(K.f)(),n=Object(K.g)(),u=l.featureSwitches.isTrue("dm_vdl_enabled")&&l.featureSwitches.isTrue("dm_vdl_chat_p0_enabled"),{conversation:m,conversationId:g,newConversationParticipants:p,perspective:y}=e,T=e=>{null!=m&&m.trusted?t.push({pathname:"/messages",state:n.state}):e()},I=(e,l)=>{const t=e.map((({user:e})=>e.profile_image_url_https)).slice(0,l);return a.a.createElement(v.a,{style:w.facePile},a.a.createElement(b.a,{userAvatarSize:"large",userAvatarUrls:t}))},x=e=>{const l=u?"headline2":void 0,t=m&&m.participants.length?Object(S.a)({conversation:m,perspective:y}):p?Object(S.a)({newConversationParticipants:p,perspective:y}):E;if(!e)return{documentTitle:t};const n=m&&m.participants.length?a.a.createElement(S.b,{conversation:m,perspective:y,textSize:l,withScreenName:!1,withVDLRefresh:u}):p?a.a.createElement(S.b,{newConversationParticipants:p,perspective:y,textSize:l,withScreenName:!1}):a.a.createElement(F.b,{size:l},E),s=m&&y?Object(d.a)(m,y):void 0;let r=u?"large":"medium",g=y?a.a.createElement(c.a,{conversation:m,perspective:y,size:r}):void 0;u&&s&&(null==m?void 0:m.type)===o.CONVERSATION_TYPE.GROUP&&void 0===(null==m?void 0:m.avatar)&&(g=(e=>a.a.createElement(f.a,null,(({windowWidth:l})=>i.a.isTwoColumnLayout(l)?I(e,8):I(e,3))))(s),r="custom");const _=u||(null==m?void 0:m.type)!==o.CONVERSATION_TYPE.ONE_TO_ONE||null==s?void 0:s.map((({user:e})=>e.screen_name));return{titleIconCell:g,titleIconCellSize:r,title:n,documentTitle:t,subtitle:_?`@${_[0]}`:void 0}},M=()=>{var e;const l=(null==m?void 0:m.type)===o.CONVERSATION_TYPE.GROUP,t=(null==n||null==(e=n.state)?void 0:e.position)||0;return g?a.a.createElement(v.a,{style:w.rightControlStyles},a.a.createElement(_,{accessibilityLabel:l?C:L,conversationId:g,link:{pathname:`/messages/${g}/info`,state:{position:t}},style:w.infoButton})):void 0};return a.a.createElement(h.a,(()=>{const l=x(e.showTitle);return{backLocation:"/messages",onBackClick:T,rightControl:M(),screenType:"primaryDetail",withBottomTabBar:!1,headerless:k.b.isKaiOS(),...l}})(),a.a.createElement(r.a,{behavioralEventContext:R},e.children))}const w=T.a.create((e=>({infoButton:{marginRight:e.spaces.space4},rightControlStyles:{flexDirection:"row"},facePile:{display:"flex",flexDirection:"row"}})))},rFBM:function(e,l,t){"use strict";t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("rHpw"),s=t("k/Ka"),r=t("MWbm");const o=e=>Object(s.a)("div",e);class c extends a.a.Component{constructor(...e){super(...e),this._dragEnterCount=0,this.state={active:!1},this._handleDragDrop=e=>{const{onFilesAdded:l}=this.props;e.preventDefault();l(Array.from(e&&e.dataTransfer.files)),this._updateDragCount(0)},this._handleDragEnter=e=>{const{onDragEnter:l}=this.props;e.preventDefault(),l&&l(),this._updateDragCount(this._dragEnterCount+1)},this._handleDragLeave=e=>{e.preventDefault(),this._updateDragCount(this._dragEnterCount-1)},this._handleDragOver=e=>{e.preventDefault()}}render(){const{allowDragDrop:e,children:l,style:t}=this.props,{active:n}=this.state,i=e?d.dragBorderValid:d.dragBorderInvalid;return a.a.createElement(o,{onDragEnter:this._handleDragEnter,onDragLeave:this._handleDragLeave,onDragOver:this._handleDragOver,onDrop:this._handleDragDrop,style:[d.root,t,n&&i]},a.a.createElement(r.a,{style:d.inner},"function"==typeof l?l(n):l))}_updateDragCount(e){this._dragEnterCount=e,0===this._dragEnterCount?this.setState({active:!1}):this._dragEnterCount>0&&this.setState({active:!0})}}c.defaultProps={allowDragDrop:!0};const d=i.a.create((e=>({root:{display:"flex",flexDirection:"column"},dragBorderValid:{borderStyle:"dashed",borderWidth:e.spaces.space2,borderColor:e.colors.primary},dragBorderInvalid:{borderStyle:"dashed",borderWidth:e.spaces.space2,borderColor:e.colors.magenta500},inner:{flexGrow:1}})));l.a=c},rQjK:function(e,l,t){"use strict";var n,a,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label_type"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxDelete_Mutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label_type",variableName:"label_type"}],kind:"ScalarField",name:"dm_conversation_label_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMPinnedInboxDelete_Mutation",selections:a},params:{id:"_TQxP2Rb0expwVP9ktGrTQ",metadata:{},name:"DMPinnedInboxDelete_Mutation",operationKind:"mutation",text:null}};i.hash="f0ba5e0b671c54ae94c7322d3036a375",e.exports=i},sl05:function(e,l,t){"use strict";var n=t("rHpw");l.a=n.a.create((e=>({root:{flexGrow:1},activity:{flexBasis:e.spacesPx.space1,flexGrow:1,height:"100%"},kaiOSFix:{paddingBottom:e.spaces.space20},dragDrop:{flexGrow:1},scrollView:{flexGrow:1}})))},tZH3:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("3XMw"),s=t.n(i),r=t("MWbm"),o=t("CKsB"),c=t("/yvb"),d=t("rHpw"),u=t("hiGS"),m=t("pu5c"),g=t("zIWA");const p=s.a.fcd4d489,y=s.a.gbed8594,_=s.a.g9074da4,h=s.a.ad63377e,k=s.a.h09b49f8,v=s.a.i6b19b08,b=s.a.j7bb1a43,f=s.a.ea200ba6,F=s.a.cfd2f35e,T=({dismiss:e,flatBorders:l,isGroup:t,onBlockClick:n,onDeleteClick:i,onReportClick:s,requestorScreenName:d,showBlock:T,showCancel:K,showDelete:R})=>{const E=a.a.useCallback((()=>{s&&s(),e()}),[e,s]),L=a.a.useCallback((()=>{n&&n(),e()}),[e,n]),C=a.a.useCallback((()=>{i&&i(),e()}),[e,i]);return a.a.createElement(r.a,{accessibilityRole:"dialog",style:l?S.flatCorners:S.roundCorners},R?a.a.createElement(o.a,{Icon:u.a,actionSubText:k,actionText:t?_:h,onClick:C,textColor:"red500"}):null,T?a.a.createElement(o.a,{Icon:m.a,actionSubText:y,actionText:p({screenName:d}),onClick:L}):null,a.a.createElement(o.a,{Icon:g.a,actionSubText:f,actionText:t?v:b({screenName:d}),onClick:E}),K?a.a.createElement(c.a,{onPress:e,style:S.cancelButton,type:"primaryOutlined"},F):null)};T.defaultProps={isGroup:!1,flatBorders:!1,showBlock:!1,showCancel:!1,showDelete:!1};const S=d.a.create((e=>({roundCorners:{borderRadius:e.borderRadii.xLarge},flatCorners:{borderRadius:e.borderRadii.none},cancelButton:{marginHorizontal:e.spaces.space16,marginVertical:e.spaces.space16}})));l.a=T},tuke:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M21.592 5.576c.877-.967.882-2.298.006-3.174-.877-.877-2.208-.87-3.174.006 0 0-.003 0-.004.002l-.006.006-.005.004s-.002 0-.002.002L8.398 11.27c-1.716-.214-3.424.31-4.534 1.42-3.872 3.874-1.523 9.616-1.422 9.858.1.24.32.41.577.45.037.007.075.01.113.01.218 0 .428-.095.57-.265 1.83-2.15 3.043-2.023 4.328-1.89 1.164.122 2.477.258 3.834-1.282.975-1.106 1.302-2.585.922-4.03l8.792-9.948h.002l.004-.006.006-.006.002-.004zm-1.055-2.113c.305.305.28.74-.06 1.11-.003.003-.004.007-.006.01 0 0-.003 0-.004.003l-5.662 6.406-1.796-1.796 6.406-5.662c.002 0 .002-.003.004-.005.002-.003.006-.004.008-.006.37-.34.807-.365 1.11-.06zm-8.62 10.797L9.74 12.084l2.142-1.894 1.927 1.927-1.894 2.143zm-1.178 4.32c-.848.96-1.488.895-2.552.78-1.27-.13-2.808-.293-4.722 1.463-.415-1.673-.784-4.83 1.457-7.072.807-.805 2.086-1.168 3.377-.983l2.977 2.976c.333 1.03.15 2.057-.538 2.836z"})));r.metadata={width:24,height:24},l.a=r},uB9N:function(e,l,t){"use strict";var n=t("97Jx"),a=t.n(n),i=t("ERkP"),s=t.n(i),r=t("1YZw"),o=t("zh9S"),c=t("P1r1"),d=t("AspN"),u=t("rxPX"),m=Object(u.a)().propsFromState((()=>({dataSaverMode:c.j}))).propsFromActions((()=>({addMedia:d.b,addToast:r.b,processMultipleMedia:d.g,removeMediaUpload:d.i,scribeAction:o.c,preUploadMedia:d.e}))),g=t("wpu3"),p=t("6OUF"),y=t("rHpw"),_=y.a.create((e=>({composeInput:{width:"100%"}}))),h="dmComposerAttachments",k="dmComposerTextInputComponent",v="dmComposerTextInput",b="dmComposerSendButton",f=t("aITJ"),F=t("3XMw"),T=t.n(F);const S=T.a.cdcebd22,K=T.a.ca0ce0e4,R=(e,l)=>{const{disabled:t,editorState:n,isSendDisabledFunc:a,mediaButtonsCollapsible:i,onBlur:r,onFilesAdded:o,onFocus:c,onReturn:d,onRichTextChange:u,placeholderText:m,renderAttachmentsFunc:g,renderEmojiPickerFunc:y,richTextInputContext:h,value:k}=e,b=f.b.isKaiOS()?S:m||K,F=!!h,T=h?{editorState:n,element:h.element}:void 0;return s.a.createElement(p.a,{contentAbove:g(),editable:!t,emojiPickerButton:y(),handleReturn:F?d:void 0,isCompact:!0,leftAligned:!0,maxNumberOfLines:F?8:4,multiline:!0,numberOfLines:1,onBlur:r,onChange:u,onFilesAdded:o,onFocus:c,onKeyPress:F?void 0:e=>{d(e)},placeholder:b,ref:l,richTextInputContext:t?void 0:T,style:_.composeInput,testID:v,useCacheForDOMMeasurements:!a()&&!i,value:k})};var E=s.a.forwardRef(R),L=t("cOB2"),C=t("MWbm"),I=t("0FVZ"),w=t("Oe3h");var x=function(e){const{accessibilityLabel:l,accessibilityRole:t,children:n,onLayout:i,sideNavPresent:r,style:o}=e,c=s.a.useContext(L.a);return r?s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{accessibilityLabel:l,accessibilityRole:t,onLayout:i,style:o},n)):s.a.createElement(I.a.BottomComposer,null,s.a.createElement(w.a,{id:"DMComposerWrapper"},((e,r)=>s.a.createElement(C.a,a()({ref:e()},r({accessibilityLabel:l,accessibilityRole:t,onLayout:i,style:o})),n,s.a.createElement(C.a,{style:!1===c.keyboardVisible&&M.offsetBottom})))))};const M=y.a.create((()=>({offsetBottom:{paddingBottom:y.a.iPhoneOffsetBottom}})));t("kYxP");var O=t("HPNB"),A=t("htQn"),D=t("t62R");class P extends s.a.Component{constructor(...e){super(...e),this._handleClick=()=>{const{id:e,label:l,onClick:t}=this.props;t({id:e,label:l})}}render(){const{description:e,isWide:l,label:t}=this.props;return s.a.createElement(A.a,{accessibilityRole:"button",onClick:this._handleClick,style:[U.root,l&&U.isWide,!l&&U.isNarrow]},s.a.createElement(D.b,{weight:"bold"},t),s.a.createElement(D.b,{color:"gray700",size:"subtext2"},e))}}const U=y.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,borderColor:e.colors.borderColor,borderStyle:"solid",paddingLeft:"1rem",paddingVertical:"1rem"},isWide:{borderRadius:e.borderRadii.xLarge,paddingVertical:"0.5rem",borderWidth:e.borderWidths.small},isNarrow:{borderTopWidth:e.borderWidths.small}})));var H=P,W=t("cHvH"),N=t("mw9i");class q extends s.a.Component{constructor(...e){super(...e),this._handleOptionChoose=e=>{const{onOptionChoose:l,quickReplyOptions:{id:t}}=this.props;return l(t,e)}}render(){const{quickReplyOptions:{options:e}}=this.props,l=1===e.length;return s.a.createElement(W.a,null,(({windowWidth:t})=>{const n=O.a.isTwoColumnLayout(t),a=[n&&j.isWide,n&&l&&j.oneButtonOnly,!n&&j.isNarrow];return s.a.createElement(N.a,{style:a,withGutter:n},e.map((e=>this.renderOption(e,n))))}))}renderOption(e,l){return s.a.createElement(H,{description:e.description,id:e.id,isWide:l,key:e.id,label:e.label,onClick:this._handleOptionChoose})}}const j=y.a.create((e=>({oneButtonOnly:{gridTemplateColumns:"1fr"},isWide:{backgroundColor:e.colors.gray0,display:"grid",gridColumnGap:e.spaces.space12,gridRowGap:e.spaces.space12,gridTemplateColumns:"1fr 1fr",paddingVertical:e.spaces.space12},isNarrow:{maxHeight:"168px",overflow:"auto"}})));var B=q,V=t("krmn"),z=t("cIoY"),G=t("w3n3"),Q=t("MLl7"),Y=t("J2UM"),X=t("VPdC"),$=t("pKoL"),J=t("eyty"),Z=t("zTrU"),ee=t("JYMr");const le=[{waitMs:1e3,progress:.1},{waitMs:1400,progress:.3},{waitMs:1800,progress:.5},{waitMs:2400,progress:.6},{waitMs:3e3,progress:.9}];class te extends s.a.Component{constructor(...e){super(...e),this.state={currentStepIndex:-1}}componentDidMount(){this._scheduleNextStep(0)}componentWillUnmount(){this._currentTimeoutId&&clearTimeout(this._currentTimeoutId)}render(){const{currentStepIndex:e}=this.state,l=e>=0&&e<le.length?le[e].progress:0;return s.a.createElement(ee.a,{progress:l})}_scheduleNextStep(e){e<le.length&&(this._currentTimeoutId=setTimeout((()=>{this._currentTimeoutId=void 0,this.setState({currentStepIndex:e}),this._scheduleNextStep(e+1)}),le[e].waitMs))}}function ne({isSending:e,isUploading:l,progress:t}){return e&&!l?s.a.createElement(te,null):s.a.createElement(ee.a,{progress:e?Math.max(t,.02):0})}var ae=s.a.memo(ne),ie=t("Dtul"),se=t("/yvb"),re=y.a.create((e=>({actionButton:{marginLeft:e.spaces.space4}}))),oe=t("UgB4");const ce=T.a.e3275464,de=s.a.createElement(oe.a,null);function ue(e){const{showIconInsteadOfLabel:l}=e;return s.a.createElement(se.a,{accessibilityLabel:ce,disabled:e.disabledFunc(),hoverLabel:{label:ce},icon:l?de:void 0,onPress:e.onSend,size:"medium",style:re.actionButton,testID:b,type:l?"brandText":"brandFilled"},l?null:ce)}t("YWiL");var me,ge=t("HvW7"),pe=t.n(ge);const ye=void 0!==me?me:me=t("iunV");var _e=()=>{const[e]=pe()(ye);return(l,t)=>e({variables:{message:{text:{text:l}},target:{conversation_id:t}},onCompleted(e){},updater(e,l){},onError(e){throw e}}).dispose()};function he(e){const{showIconInsteadOfLabel:l}=e,t=_e();return s.a.createElement(se.a,{accessibilityLabel:ce,disabled:e.disabledFunc(),icon:l?de:void 0,onPress:l=>t(e.messageText,e.conversationId),size:"medium",style:re.actionButton,testID:b,type:l?"brandText":"brandFilled"},l?null:ce)}var ke=t("Es6L"),ve=t("GZwR"),be=t("9Xij"),fe=t("OiMc"),Fe=t("v6aA"),Te=t("gpVt"),Se=t("Lsrn"),Ke=t("k/Ka");const Re=(e={})=>Object(Ke.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Se.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M19 13.5H5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5zm0 6H5c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5zm0-12H5c-.828 0-1.5-.672-1.5-1.5S4.172 4.5 5 4.5h14c.828 0 1.5.672 1.5 1.5s-.672 1.5-1.5 1.5z"})));Re.metadata={width:24,height:24};var Ee=Re;const Le=(e={})=>Object(Ke.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Se.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M19 13H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1zm0 6H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1zm0-12H5c-.553 0-1-.447-1-1s.447-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"})));Le.metadata={width:24,height:24};var Ce=Le,Ie=t("iySH");const we=T.a.ee230734,xe=T.a.ic8c615e,Me=T.a.a04077c4,Oe=e=>!(!e||!e.media),Ae=Object(g.b)({maxNumberOfPhotos:1});class De extends s.a.Component{constructor(e,l){var t;super(e,l),this._handleLayout=e=>{const{onHeightChange:l}=this.props,{mediaButtonsCollapsible:t}=this.state,n=e.nativeEvent.layout;n&&(Object(ke.a)()||l&&l(n.height),n.width<=y.a.theme.breakpoints.small&&!t?this.setState({mediaButtonsCollapsible:!0}):n.width>y.a.theme.breakpoints.small&&t&&this.setState({mediaButtonsCollapsible:!1}))},this._renderMainContent=()=>{const{richTextInputContext:e,typeaheadWrapper:l}=this.props,{value:t}=this.state,n=l;return n?s.a.createElement(n,{contextText:t,isInline:!0,onTextUpdated:e?this._handleRichTextChange:this._handlePlainTextChange,onTypeaheadStateChange:this._handleTypeaheadStateChange,source:ve.d.ComposeMessage},this._renderFieldTextInput):this._renderFieldTextInput()},this._renderFieldTextInput=e=>{const{disabled:l,placeholderText:t,richTextInputContext:n}=this.props,{editorState:a,mediaButtonsCollapsible:i,value:r}=this.state;return s.a.createElement(E,{disabled:l||!1,editorState:a,isSendDisabledFunc:this._isSendDisabled,mediaButtonsCollapsible:i,onBlur:this._handleOnBlur,onFilesAdded:this._handleAddMediaFiles,onFocus:this._handleTextInputFocus,onInputChange:e||(()=>{}),onPlainTextChange:this._handlePlainTextChange,onReturn:this._handleReturn,onRichTextChange:this._getHandleRichTextChange(e),placeholderText:t||"",ref:this._setTextInputRef,renderAttachmentsFunc:this._renderAttachments,renderEmojiPickerFunc:this._renderEmojiPicker,richTextInputContext:n,testID:k,value:r})},this._getHandleRichTextChange=Object(Z.a)((e=>l=>{null==e||e(l),this._handleRichTextChange(l)})),this._handleTypeaheadStateChange=e=>{this.setState({isTypeaheadActive:e})},this._renderAttachments=()=>{const{attachment:e,conversationId:l,isCardPreviewTombstoned:t,isShareViaDM:n,isUploading:a}=this.props,{value:i}=this.state,{height:r,width:o}=e&&(e.media&&e.media.mediaFile||e.provider&&e.media&&e.media.externalMediaDetails)||{},c=null==e?void 0:e.media,d=null==c?void 0:c.mediaMetadata,u=null==d?void 0:d.altText,m=null==d?void 0:d.defaultAltText,g=Object(Te.b)(i);return s.a.createElement(s.a.Fragment,null,c?s.a.createElement(C.a,{style:Pe.attachmentContainer,testID:h},s.a.createElement(be.a,{ratio:o/r,style:Pe.aspectContainer},s.a.createElement(C.a,{style:Pe.mediaPreviewContainer},s.a.createElement($.a,{accessibilityLabel:u||m,mediaItem:c,onClick:this._canEditImage?this._handleClickMediaDetail:void 0,onEdit:this._canEditGif||this._canEditImage?this._handleClickMediaDetail:void 0,onRemove:this._handleRemoveMedia(c.id),resizeIfNeeded:"width",style:Pe.mediaPreview,withAltTextLabel:!!u,withCloseButton:!a,withEditButton:(this._canEditGif||this._canEditImage)&&!a,withEditIcon:!0}))),e&&e.provider&&e.gifUrl&&s.a.createElement(C.a,{style:Pe.gifAttribution},s.a.createElement(z.a,{gifUrl:e.gifUrl,provider:e.provider}))):g&&!n?s.a.createElement(Te.a,{conversationId:l,isCardPreviewTombstoned:t,style:Pe.cardPreviewContainer,urls:g}):null)},this._renderEmojiPicker=()=>{const{withEmojiPicker:e}=this.props;return e&&f.b.isDesktopOS()?s.a.createElement(V.a,{disabled:this.props.disabled,onEmojiSelect:this._handleEmojiSelect,onPress:this._handleTextInputFocus,size:"small",textInputRef:this._textInput||void 0}):null},this._renderPrimaryActionButton=e=>{const{conversationId:l,quickReplyOptions:t}=this.props,n=this._hasMessageText();if(!t||n||e){const t=this.context.featureSwitches.isTrue("dm_evolution_enabled")&&this.context.featureSwitches.isTrue("dm_evolution_message_creation_enabled"),n={disabledFunc:this._isSendDisabled,showIconInsteadOfLabel:!0};return t?s.a.createElement(he,a()({},n,{conversationId:l||"",messageText:this._getMessageText()})):s.a.createElement(ue,a()({},n,{hasAttachment:e,onSend:this._handlePrimaryAction}))}return s.a.createElement(se.a,{accessibilityLabel:xe,icon:this.state.isQuickReplyOpen?s.a.createElement(Ee,null):s.a.createElement(Ce,null),onPress:this._handleQuickReplyPickerToggle,size:"medium",style:Pe.actionButton,type:"brandText"})},this._renderSecondaryActionButton=()=>{const{secondaryActionDisabledPopoverRenderer:e,secondaryActionLabel:l,shouldEnableSecondaryActionFunc:t,shouldShowSecondaryActionFunc:n}=this.props;if(n&&!n()||!l)return null;const a=!t||t(),i=s.a.createElement(se.a,{accessibilityLabel:l,disabled:!a,onPress:this._handleSecondaryAction,style:Pe.actionButton,type:"primaryOutlined"},this.props.secondaryActionLabel);return a||!e?i:s.a.createElement(fe.a,{enableHover:!0,preferredVerticalOrientation:"up",renderContent:e,withArrow:!0},i)},this._renderComposer=()=>{const{attachment:e}=this.props,l=Oe(e);return s.a.createElement(C.a,{style:[Pe.composer,l&&Pe.composerWithAttachment]},l?null:this._renderMediaButtons(),s.a.createElement(C.a,{style:Pe.composeBoxContainer},this._renderMainContent()),this._renderSecondaryActionButton(),this._renderPrimaryActionButton(l))},this._renderMediaButtons=()=>{const{conversationId:e,history:l,withGifPicker:t,withMediaPicker:n}=this.props,{mediaButtonsCollapsed:a,mediaButtonsCollapsible:i}=this.state,r=i&&a;return s.a.createElement(C.a,{style:Pe.uploadButtons},r?s.a.createElement(se.a,{accessibilityLabel:we,icon:s.a.createElement(Ie.a,null),onMouseDown:this._handleShowMediaControlsMouseDown,type:"brandText"}):null,n&&!r?s.a.createElement(X.a,{onChange:this._handleAddMediaFiles,style:Pe.mediaPicker,type:"brandText"}):null,t&&!r?s.a.createElement(G.a,{dmConversationId:e,enabled:!0,gifSearchKeySource:Q.a.DMComposition,history:l}):null)},this._handleShowMediaControlsMouseDown=()=>{const{scribeAction:e,scribeNamespace:l}=this.props;this.setState({mediaButtonsCollapsed:!1}),e({...l,component:"dm_composer",element:"toggle",action:"expand"})},this._handleReturn=e=>{const{nativeEvent:{ctrlKey:l,key:t,metaKey:n,shiftKey:a}}=e,i="Enter"===t,{isTypeaheadActive:s}=this.state;return!s&&i&&this._keyboardOrMouseDetected&&!(a||n||l)?(e.preventDefault(),this._handlePrimaryAction(e),"handled"):"not-handled"},this._handleClickMediaDetail=()=>{const{attachment:e,conversationId:l,history:t}=this.props;if(this._canEditGif||this._canEditImage){const n=e&&e.media?e.media.id:0,a=this._canEditGif?"alt_text":"crop";t.push("/messages/compose/media",{mediaId:n,conversationId:l,tab:a})}},this._handleAddMediaFiles=e=>{const{addMedia:l,addToast:t,dataSaverMode:n,onAddMedia:a,preUploadMedia:i,processMultipleMedia:s,removeMedia:r,removeMediaUpload:o}=this.props;l(e,{location:J.d.Dm}).then((e=>{const l=e.map((e=>e.id));this._validateMedia(e)?(a&&a(l),s(e,{onFailure:r}).then((e=>{n||i(e.map((e=>e.id)))}))):(t({text:Me}),o(l))}))},this._handleEmojiSelect=e=>{const{editorState:l}=this.state,{richTextInputContext:t}=this.props;if(!t||!l)return;const n=t.insertTextAtCursor(l,e.text);this._handleRichTextChange(n)},this._handleRemoveMedia=e=>()=>{this.props.removeMedia&&this.props.removeMedia(e)},this._handlePrimaryAction=e=>{if(!this._isSendDisabled()){const{onPrimaryAction:e}=this.props;this._textInput&&this._textInput.applyFinalValue((l=>{e({type:"richText"},l)})),this._closeQuickReplyPicker()}},this._handleSecondaryAction=e=>{const{onSecondaryAction:l}=this.props;this._textInput&&this._textInput.applyFinalValue((e=>{l&&l({type:"richText"},e)}))},this._handleRichTextChange=e=>{const{onTyping:l,richTextInputContext:t}=this.props,{value:n}=this.state,a=t?e.getCurrentContent().getPlainText():e.target.value,i=t?t.convertEmojiToEntities(e):null;this.setState({editorState:i,value:a}),n!==a&&(null==l||l())},this._handlePlainTextChange=e=>{const{onTyping:l}=this.props,{value:t}=this.state,n=e.target.value;this.setState({value:n}),t!==n&&(null==l||l())},this._handleOnBlur=()=>{const{onBlur:e}=this.props,{mediaButtonsCollapsible:l}=this.state;e&&e(),l&&this.setState({mediaButtonsCollapsed:!1})},this._handleTextInputFocus=()=>{const{quickReplyOptions:e}=this.props,{isQuickReplyOpen:l,mediaButtonsCollapsible:t}=this.state;e&&l&&this._closeQuickReplyPicker(),t&&this.setState({mediaButtonsCollapsed:!0})},this._handleQROptionSelection=(e,l)=>{const{disabled:t,onPrimaryAction:n}=this.props;t||(n({quickReply:{id:e,selected_id:l.id}},l.label),this._closeQuickReplyPicker())},this._handleQuickReplyPickerToggle=()=>{this.setState({isQuickReplyOpen:!this.state.isQuickReplyOpen})},this._validateMedia=e=>!Oe(this.props.attachment)&&Ae(e),this._detectKeyboardOrMouse=e=>{const{KEYBOARD:l,MOUSE:t,registerSome:n}=e;n((()=>{this._keyboardOrMouseDetected=!0}),[l,t])},this._isSendDisabled=()=>{const{attachment:e,canSendEmptyMessage:l,disabled:t,isUploading:n}=this.props,a=Oe(e),i=this._hasMessageText()||l,s=!(!e||!e.media)&&(e.media.needsProcessing||n);return t||!i&&!a||s||n},this._getMessageText=()=>(this.state.value||"").trim(),this._hasMessageText=()=>!!this._getMessageText(),this._closeQuickReplyPicker=()=>{this.setState({isQuickReplyOpen:!1})},this.handleAddMediaFiles=e=>this._handleAddMediaFiles(e),this._setTextInputRef=e=>{this._textInput=e};const{prefillText:n,richTextInputContext:i}=e;this.state={isQuickReplyOpen:!0,value:n,editorState:null!=(t=null==i||null==i.initEditorState?void 0:i.initEditorState(n))?t:null,isTypeaheadActive:!1,mediaButtonsCollapsed:!1,mediaButtonsCollapsible:!1}}componentDidMount(){Object(Y.a)().then(this._detectKeyboardOrMouse),this._unlockReload=ie.a.acquire()}componentWillUnmount(){this._unlockReload&&this._unlockReload()}componentDidUpdate(){this.props.quickReplyOptions&&this.state.isQuickReplyOpen&&this._textInput&&this._textInput.blur()}UNSAFE_componentWillReceiveProps(e){const l=this.props.quickReplyOptions,t=e.quickReplyOptions;l&&!t?this.setState({isQuickReplyOpen:!1}):(!l&&t||l&&t&&l.id!==t.id)&&this.setState({isQuickReplyOpen:!0}),this.props.conversationId!==e.conversationId&&this.clear()}render(){const{dtabBarInfo:e,isSending:l,isUploading:t,mediaUploadProgress:n,placeholderText:a,quickReplyOptions:i,style:r}=this.props,{isQuickReplyOpen:o}=this.state,c=a||K,d=Object(ke.a)(),u=d&&e&&(e.dtabAll||e.ttsToken)&&!e.hide;return s.a.createElement(x,{accessibilityLabel:c,accessibilityRole:"complementary",onLayout:this._handleLayout,sideNavPresent:d,style:[Pe.root,u&&Pe.dtabOffset,r]},s.a.createElement(ae,{isSending:l,isUploading:t,progress:l?Math.max(n,.02):0}),this._renderComposer(),i&&o?s.a.createElement(B,{onOptionChoose:this._handleQROptionSelection,quickReplyOptions:i}):null)}get _canEditGif(){var e,l,t,n;return!(null==(e=this.props.attachment)||!e.gifUrl)||!(null==(l=this.props.attachment)||null==(t=l.media)||null==(n=t.mediaFile)||!n.isGif)}get _canEditImage(){var e,l,t;return!(null==(e=this.props.attachment)||null==(l=e.media)||null==(t=l.mediaFile)||!t.isImage)}clear(){const{richTextInputContext:e}=this.props;if(e){const{initEditorState:l}=e||{};this.setState({value:"",editorState:l&&l("")})}else this.setState({value:""})}focus(){this._textInput&&this._textInput.focus()}value(){return this.state.value}}De.contextType=Fe.a,De.defaultProps={prefillText:"",withEmojiPicker:!0,withGifPicker:!0,withMediaPicker:!0};const Pe=y.a.create((e=>({root:{backgroundColor:e.colors.navigationBackground,borderTopColor:e.colors.borderColor,borderTopWidth:e.borderWidths.small},attachmentContainer:{maxHeight:"10rem",margin:e.spaces.space12},aspectContainer:{flexShrink:1},cardPreviewContainer:{margin:e.spaces.space12},dtabOffset:{marginBottom:e.spaces.space40},gifAttribution:{flexDirection:"row",marginVertical:e.spaces.space4,marginHorizontal:0},mediaPicker:{margin:0},icon:{color:e.colors.primary,fontSize:"1.5em"},composeBoxContainer:{flexGrow:1,flexShrink:1,alignSelf:"center"},mediaPreviewContainer:{flexDirection:"row",height:"100%"},mediaPreview:{borderRadius:e.borderRadii.xLarge,overflow:"hidden",minWidth:"10em"},composer:{alignItems:"center",flexDirection:"row",padding:e.spaces.space4,width:"100%"},composerWithAttachment:{paddingLeft:e.spaces.space12},actionButton:{marginLeft:e.spaces.space4},uploadButtons:{flexDirection:"row",marginRight:e.spaces.space4}})));l.a=m.forwardRef(De)},uFYP:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("Lsrn"),s=t("k/Ka");const r=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[i.a.root,e.style],viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M20.75 2H3.25C2.007 2 1 3.007 1 4.25v15.5C1 20.993 2.007 22 3.25 22h17.5c1.243 0 2.25-1.007 2.25-2.25V4.25C23 3.007 21.993 2 20.75 2zM17.5 13.504c0 .483-.392.875-.875.875s-.875-.393-.875-.876V9.967l-7.547 7.546c-.17.17-.395.256-.62.256s-.447-.086-.618-.257c-.342-.342-.342-.896 0-1.237l7.547-7.547h-3.54c-.482 0-.874-.393-.874-.876s.392-.875.875-.875h5.65c.483 0 .875.39.875.874v5.65z"})));r.metadata={width:24,height:24},l.a=r},uHIe:function(e,l,t){"use strict";t.r(l),t.d(l,"DMMediaScreen",(function(){return k}));t("MvUL");var n=t("ERkP"),a=t.n(n),i=t("MMRb"),s=t("hqKg"),r=t("H9MA"),o=t("rxPX");const c=(e,l)=>l.match.params.conversationId,d=(e,l)=>l.match.params.entryId,u=(e,l)=>i.selectEntry(e,d(0,l));var m=Object(o.a)().propsFromState((()=>({conversationId:c,dataSaver:r.c,mediaItem:Object(s.createSelector)(u,(e=>{var l;const t=null==e||null==(l=e.message_data)?void 0:l.attachment;return t&&t.photo?t.photo:t&&t.animated_gif?null==t?void 0:t.animated_gif:t&&t.video?t.video:void 0})),messageId:d}))).withAnalytics({page:"messages",section:"media"}),g=t("2doW"),p=t("UPvq"),y=t("wiP2"),_=t("lklz"),h=t("RCZO");const k=e=>{const{conversationId:l,dataSaver:t,history:n,mediaItem:i,messageId:s}=e,r=Object(h.b)(i),{handleMediaDetailZoomed:o,handleMediaItemTapped:c,hideButtons:d}=Object(h.h)(),u=()=>{const e=l?`/messages/${l}`:"/messages";n.goBack({backLocation:e})};return a.a.useEffect((()=>{i||n.replace(l?`/messages/${l}`:"/messages")}),[n,l,i]),i?a.a.createElement(y.a.Configure,{headerless:!0},a.a.createElement(p.a,{backgroundColor:r,hideButtons:d,mediaItem:i,onCloseButtonPress:u},a.a.createElement(g.a,{dataSaver:t,mediaItems:[i],onDismiss:u,onMediaDetailZoomed:o,onTap:c,videoId:_.b.forDm(s)}))):null},v=m(k);l.default=v},uMiA:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"withConversationQueryHighlights"}],kind:"Fragment",metadata:null,name:"DMConversationSearchTabPeopleQuery",selections:[{alias:"dm_people_convo_slice_result",args:[a={kind:"Variable",name:"query",variableName:"query"},i={kind:"Literal",name:"s",value:21}],concreteType:null,kind:"LinkedField",name:"__DMConversationSearchTabPeopleQuer_dm_people_convo_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[d,u={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"dm_people_convo_slice_result.items.dm_convo_search.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:m,action:"THROW",path:"dm_people_convo_slice_result.items.dm_convo_search.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[p={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,r,{kind:"RequiredField",field:y={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},d,u,{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"dm_people_convo_slice_result.items.dm_convo_search.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},v={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},b={condition:"withConversationQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],storageKey:null},f={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"DMConversationSearchTabPeopleQuery",selections:[{alias:null,args:F=[{kind:"Variable",name:"cursor",variableName:"cursor"},a,i],concreteType:null,kind:"LinkedField",name:"dm_people_convo_slice_result",plural:!1,selections:[T={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMPeopleConvoSearchItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"dm_convo_search",plural:!1,selections:[s,r,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[o,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[o,c,d,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:R=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[T,{kind:"InlineFragment",selections:[s,r,m,S={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},K={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},s],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:R,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[T,p],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[T,{kind:"InlineFragment",selections:[s,r,y,S],type:"User",abstractKey:null}],storageKey:null},K,s],storageKey:null},_,h,k],storageKey:null},v],storageKey:null}],storageKey:null},b],storageKey:null},f],type:"DmPeopleConvoSlice",abstractKey:null}],storageKey:null},{alias:null,args:F,filters:["query","s"],handle:"slice",key:"DMConversationSearchTabPeopleQuer_dm_people_convo_slice_result",kind:"LinkedHandle",name:"dm_people_convo_slice_result"}]},params:{id:"qno3lU4_eSHtSFoWQUhEag",metadata:{sliceInfoPath:["dm_people_convo_slice_result","slice_info"]},name:"DMConversationSearchTabPeopleQuery",operationKind:"query",text:null}};E.hash="74e2e86bd0b699e3a7ca150febc3dcaa",e.exports=E},vL4t:function(e,l,t){"use strict";var n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMEntryPreview",selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMMessageEntry"}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},n],storageKey:null},action:"THROW",path:"legacy.event_detail.users_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[n],storageKey:null},action:"THROW",path:"legacy.initiating_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMEvent",abstractKey:null};a.hash="7b4601839d2e24e344ab6c258a797ce5",e.exports=a},"vU/8":function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"evolutionDMInboxPollQuery",selections:[{alias:"trusted",args:s=[{kind:"Literal",name:"desired_lists",value:["Trusted"]},n={kind:"Literal",name:"known_lists",value:["Trusted","Untrusted","LowQuality"]},a={kind:"Literal",name:"s",value:17},i={kind:"Literal",name:"sort_by",value:"Recency"}],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionDMInboxItem"}],type:"DMConversation",abstractKey:null},r={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"untrusted",args:o=[{kind:"Literal",name:"desired_lists",value:["Untrusted"]},n,a,i],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"evolutionMessageRequestsPivot"}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"low_quality",args:c=[{kind:"Literal",name:"desired_lists",value:["LowQuality"]},n,a,i],concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[m={kind:"InlineFragment",selections:u=[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"DMConversation",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"evolutionDMInboxPollQuery",selections:[{alias:"trusted",args:s,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[g,p={kind:"TypeDiscriminator",abstractKey:"__isDMConvoListItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},k={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},d],type:"User",abstractKey:null}],storageKey:null},v={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},d],storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"last_readable_event_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},y,F,_,h],storageKey:null},k,b],type:"User",abstractKey:null}],storageKey:null},v,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"legacy_conversation_slice",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isDMEventSliceResult"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEventItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:u,storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[g,{kind:"InlineFragment",selections:T=[{alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null}],type:"ApiGif",abstractKey:null},{kind:"InlineFragment",selections:T,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:T,storageKey:null}],type:"ApiVideo",abstractKey:null}],storageKey:null},d],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:u,storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},F,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[y,F],storageKey:null},k,d],type:"User",abstractKey:null}],storageKey:null},v,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[F],storageKey:null},k,d],type:"User",abstractKey:null}],storageKey:null},v,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null}],storageKey:null},b,d],storageKey:null}],storageKey:null}],type:"DMEventSlice",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null}],storageKey:null}],type:"DMConversation",abstractKey:null},r],storageKey:null},d],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Trusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"untrusted",args:o,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[g,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"SocialProof",kind:"LinkedField",name:"social_proof",plural:!1,selections:[{alias:null,args:null,concreteType:"MutualFriendsSocialProof",kind:"LinkedField",name:"mutual_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_mutual_friends",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},d],type:"DMConversation",abstractKey:null}],storageKey:null},d],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["Untrusted"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'},{alias:"low_quality",args:c,concreteType:null,kind:"LinkedField",name:"dm_convo_list_slice",plural:!1,selections:[g,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[g,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMConversationResults",kind:"LinkedField",name:"dm_conversation_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[g,m],storageKey:null},d],storageKey:null}],type:"DMConvoItem",abstractKey:null}],storageKey:null}],type:"DMConvoListSlice",abstractKey:null}],storageKey:'dm_convo_list_slice(desired_lists:["LowQuality"],known_lists:["Trusted","Untrusted","LowQuality"],s:17,sort_by:"Recency")'}]},params:{id:"fX_IQIy_2_wh-6Sn0u6CoQ",metadata:{},name:"evolutionDMInboxPollQuery",operationKind:"query",text:null}};S.hash="3962883421aaee924f7a3184c6f5b800",e.exports=S},w3n3:function(e,l,t){"use strict";var n=t("ERkP"),a=t.n(n),i=t("/yvb"),s=t("3XMw"),r=t.n(s),o=t("3rWK"),c=t("Irs7");const d=r.a.a4993fa2,u=a.a.createElement(o.a,null),m=r.a.i0db46e6,g={viewType:"gif_search"};l.a=({dmConversationId:e,enabled:l=!0,gifSearchKeySource:t,history:n,onPress:s,style:r,testID:o})=>{const p=Object(c.b)(),y=a.a.useCallback((()=>{s&&s(),p.scribe({element:"found_media_button",action:"click"}),n.push({pathname:"/i/foundmedia/search",state:{gifSearchKeySource:t,dmConversationId:e}})}),[e,p,t,n,s]);return a.a.createElement(i.a,{accessibilityLabel:d,behavioralEventContext:g,disabled:!l,hoverLabel:{label:m},icon:u,onPress:y,size:"medium",style:r,testID:o,type:"brandText"})}},wO1l:function(e,l,t){"use strict";t.d(l,"b",(function(){return g})),t.d(l,"a",(function(){return p}));t("kYxP");var n=t("aWyx"),a=t("4q8G"),i=t("lL5k"),s=t.n(i),r=t("XnpN"),o=t("w6IS"),c=t("s1N3"),d=t("VIKJ"),u=t("vy4g"),m=t("GZwR");const g=(e,l,t,n=!1)=>{const i=e&&new RegExp(`(^|.*\\s)${s()(e)}.*`,"i"),d=((e,l)=>Object(o.a)(e.map((e=>Object(r.a)(e,l).map((e=>e.user))))))(l.sort(a.a),t).filter((e=>(!i||(i.test(e.screen_name)||i.test(e.name)))&&(e.followed_by||n))).map((e=>(e=>{const{id_str:l}=e,{rounded_score:t,src:n,tokens:a,...i}=Object(u.a)(Object(u.b)(e),m.c.DMInjected);return{data:{...i,can_dm:!0},rounded_score:t,tokens:a,src:n,id:l,type:m.b.User}})(e)));return Object(c.a)(d,(e=>e.id))};function p(e,l,t){const i=e&&new RegExp(`(^|.*\\s)${s()(e)}.*`,"i"),u=l.filter((e=>e.trusted)).filter((l=>{if(!e)return!0;const n=i&&l.name&&i.test(l.name),a=Object(r.a)(l,t).map((e=>e.user)),s=i&&a.some((e=>i.test(e.screen_name)||i.test(e.name)));return n||s})).sort(a.a);let p=u;if(e){const[e,l]=Object(d.a)(u,(e=>e.type===n.a.ONE_TO_ONE));p=e.concat(l)}return y=Object(o.a)(p.map((l=>{const a=l.type===n.a.GROUP;let i=[];return a&&i.push((e=>({data:{name:e.name||"",conversationId:e.conversation_id},id:e.conversation_id,type:m.b.DMConversation}))(l)),!e&&a||(i=i.concat(g(a?e:null,[l],t,!a))),i}))),Object(c.a)(y,(({id:e,type:l})=>l===m.b.DMConversation?`c_${e}`:`u_${e}`));var y}},whlN:function(e,l,t){"use strict";var n,a,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"}],kind:"Fragment",metadata:null,name:"evolutionUnpinConversationMutation",selections:a=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Literal",name:"label_type",value:"Pinned"}],kind:"ScalarField",name:"dm_conversation_label_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"evolutionUnpinConversationMutation",selections:a},params:{id:"uZN4IpDCjHJcya7TpOKoNA",metadata:{},name:"evolutionUnpinConversationMutation",operationKind:"mutation",text:null}};i.hash="f4f7a6ace610f9e1ec942cce46c4c778",e.exports=i},wpu3:function(e,l,t){"use strict";t.d(l,"a",(function(){return d})),t.d(l,"b",(function(){return m})),t.d(l,"c",(function(){return g})),t.d(l,"d",(function(){return p}));t("kYxP"),t("qd3W");var n=t("oEoC"),a=t("1auM"),i=t("kIAd"),s=t("VAyw"),r=t("/Ikv"),o=t("s1N3"),c=t("lnti");const d=({excludeReplyUser:e,inReplyToStatus:l,loggedInUserId:t})=>{const{retweeted_status:n}=l,{entities:a,unmentioned_user_ids:i,user:r}=n||l,d=n?n.user:{},m=n?l.user:{},g=(null==a?void 0:a.user_mentions)||[],p=s.a.mergeTaggedUsers((null==a?void 0:a.media)||[]),y=u(n||l)||{},_={[d.id_str]:d,[m.id_str]:m,[r.id_str]:r,[y.id_str]:y};g.forEach((e=>{_[e.id_str]=e})),p.forEach((({name:e,screen_name:l,user_id:t})=>{_[t]={id_str:t,name:e,screen_name:l}}));const h=e=>{const l=null==i?void 0:i.includes(e.id_str),t=e.id_str===r.id_str;return!l||t?[e.id_str]:[]},k=Object(o.a)(Object(c.a)([...h(d),...h(m),r.id_str,...g.flatMap((e=>h(e))),...p.map((e=>e.user_id))])).filter((e=>e!==t));let v=t&&r.id_str===t?[t,...k]:k;return e&&(v=v.filter((e=>e!==r.id_str))),v.map((e=>_[e]))},u=({card:e})=>{let l=null;if(e){const t=r.a.getBindingValue(e.binding_values,"site");t&&e.users&&(l=e.users[t.id_str])}return l},m=({maxNumberOfPhotos:e})=>l=>{if(0===l.length)return!0;const t=l.some((e=>!!e.externalMediaDetails)),n=!t&&l.some((e=>e.mediaFile&&e.mediaFile.isGif)),i=l.some((e=>e.mediaFile&&!(e.mediaFile instanceof a.a)&&e.mediaFile.isVideo));if(n||t||i)return 1===l.length;{const t=l.length<=e,n=l.every((e=>e.mediaFile&&e.mediaFile.isImage));return t&&n}},g=m({maxNumberOfPhotos:4}),p=(e,l=!1)=>{const t=e.split(i.b.WordBoundary);return l&&t.pop(),!!t.find((e=>{const l=Object(n.e)(e,"compose");return l&&"users"===l.result_type}))}},y59G:function(e,l,t){"use strict";var n,a,i,s,r,o,c,d,u,m,g,p,y,_,h,k,v,b,f,F,T,S,K,R,E,L,C,I,w,x,M,O,A,D,P,U,H,W,N,q,j,B,V,z,G,Q,Y,X,$,J,Z,ee,le,te,ne,ae,ie,se,re,oe,ce,de,ue,me,ge,pe,ye,_e,he,ke,ve,be,fe,Fe,Te,Se,Ke,Re,Ee,Le,Ce,Ie,we,xe,Me,Oe,Ae,De,Pe,Ue,He,We,Ne,qe,je,Be,Ve,ze,Ge,Qe,Ye,Xe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,dl,ul,ml,gl,pl,yl,_l,hl,kl,vl,bl,fl,Fl,Tl,Sl,Kl,Rl,El,Ll,Cl,Il,wl,xl,Ml,Ol,Al,Dl,Pl,Ul,Hl,Wl,Nl,ql,jl,Bl,Vl,zl,Gl,Ql,Yl,Xl,$l,Jl,Zl,et,lt,tt,nt,at,it,st,rt,ot,ct,dt,ut,mt,gt,pt,yt,_t,ht,kt,vt,bt,ft,Ft,Tt,St,Kt,Rt,Et,Lt,Ct,It,wt,xt,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,Bt,Vt,zt,Gt,Qt,Yt,Xt,$t,Jt,Zt,en,ln,tn,nn,an,sn,rn,on=(n={defaultValue:null,kind:"LocalArgument",name:"cursor"},a={defaultValue:null,kind:"LocalArgument",name:"query"},i={defaultValue:null,kind:"LocalArgument",name:"withAttachments"},s={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withMessageQueryHighlights"},o={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},c={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"},d={kind:"Variable",name:"query",variableName:"query"},u={kind:"Literal",name:"s",value:21},m={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},T={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[f,F],storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null},E={kind:"InlineFragment",selections:[S,K,R],type:"ApiImage",abstractKey:null},L={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null},I={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[L,f,F,C],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null},O={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null},A={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},Q=[B,V,z,G],Y={alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:Q,storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},$={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls_entity",plural:!0,selections:Q,storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},ne=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],ae=[Z,R,K,S,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[ee,{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},le],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[te,{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:ne,storageKey:null}],storageKey:null}],storageKey:null}],ie={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},oe={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:ae,storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},de={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},ce,G],storageKey:null},ue={kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[g,J,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[X,{kind:"InlineFragment",selections:ae,type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[ie,se,re,oe,de,{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[Z,ie,oe,de],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},me={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ge={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:ne,storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ye={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[me,{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},ee,le,G],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[ge,te],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},pe,{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[L,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},_e={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},f],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},he={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},ke={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[he,G],storageKey:null},ve=[G],be={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:ve,storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Fe={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},Se={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},Ke={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ee={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},Le=[j],Ce={kind:"InlineFragment",selections:Le,type:"TimelineRichTextCashtag",abstractKey:null},Ie={kind:"InlineFragment",selections:[g,G],type:"TimelineRichTextList",abstractKey:null},we={kind:"InlineFragment",selections:Le,type:"TimelineRichTextHashtag",abstractKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Me={kind:"InlineFragment",selections:[G,he,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},xe,{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[me,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},Oe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[F],storageKey:null},Ae={alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Pe={kind:"InlineFragment",selections:[Ae,De],type:"UserUnavailable",abstractKey:null},Ue={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null},He={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},We={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},Qe={alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[B,V,G,z],storageKey:null},Ye=[Qe],Xe=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:Ye,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:Ye,storageKey:null}],$e={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:Xe,storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},nl={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},al={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},il={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},sl={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},rl={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},ol={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},gl={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},pl={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},_l={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive",storageKey:null},hl=[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[te,ge],storageKey:null}],kl=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:hl,storageKey:null}],storageKey:null}],storageKey:null}],vl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:kl,storageKey:null},bl={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},fl={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:kl,storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},El={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},wl={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:Xe,storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null},Dl={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[g,f,Al],storageKey:null},Pl={alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ol,Dl],storageKey:null},Ul={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},Hl={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]},Wl={alias:null,args:null,kind:"ScalarField",name:"conversation_muted",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"policy",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"invite_via_mention",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"collab_invitation_status",storageKey:null},Bl={alias:null,args:null,kind:"ScalarField",name:"conversation_id_str",storageKey:null},Vl={alias:null,args:null,kind:"ScalarField",name:"coordinates",storageKey:null},zl=[pe,Vl],Gl={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"coordinates",plural:!1,selections:zl,storageKey:null},Ql={alias:null,args:null,kind:"ScalarField",name:"display_text_range",storageKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"ext_alt_text",storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"media_url_https",storageKey:null},$l={alias:null,args:null,kind:"ScalarField",name:"source_status_id_str",storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"source_user_id_str",storageKey:null},Zl={alias:null,args:null,concreteType:"ApiCallToActions",kind:"LinkedField",name:"call_to_actions",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiVisitSiteCallToAction",kind:"LinkedField",name:"visit_site",plural:!1,selections:ve,storageKey:null},{alias:null,args:null,concreteType:"ApiWatchNowCallToAction",kind:"LinkedField",name:"watch_now",plural:!1,selections:ve,storageKey:null},{alias:null,args:null,concreteType:"ApiAppInstallCallToAction",kind:"LinkedField",name:"app_install",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"play_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_store_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ipad_app_store_id",storageKey:null}],storageKey:null}],storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"monetizable",storageKey:null},lt={alias:null,args:null,concreteType:"ApiMediaInfo360",kind:"LinkedField",name:"ext_info360",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is360",storageKey:null}],storageKey:null},tt={alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ext_media_color",plural:!1,selections:hl,storageKey:null},nt={alias:"mediaStats",args:null,concreteType:"ApiMediaEngagementInfo",kind:"LinkedField",name:"ext_media_stats",plural:!1,selections:[{alias:"viewCount",args:null,kind:"ScalarField",name:"view_count",storageKey:null}],storageKey:null},at={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},it={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},st={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"copyright_holder_name",storageKey:null}],type:"ApiMediaUnavailabilityInfoCopyrightViolation",abstractKey:null},rt={alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[at,it,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[st],storageKey:null}],storageKey:null},ot={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},dt={alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},ut={alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},mt=[{alias:null,args:null,concreteType:"ApiMediaEntityFace",kind:"LinkedField",name:"faces",plural:!0,selections:[ot,ct,dt,ut],storageKey:null}],gt={alias:null,args:null,concreteType:"ApiMediaEntityFeatures",kind:"LinkedField",name:"features",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTags",kind:"LinkedField",name:"all",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityTag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},f,F,pe],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"large",plural:!1,selections:mt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"medium",plural:!1,selections:mt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"small",plural:!1,selections:mt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityFaces",kind:"LinkedField",name:"orig",plural:!1,selections:mt,storageKey:null}],storageKey:null},pt={alias:null,args:null,concreteType:"SensitiveMediaWarning",kind:"LinkedField",name:"sensitive_media_warning",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"adult_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"graphic_violence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"other",storageKey:null}],storageKey:null},yt=[dt,ut,{alias:null,args:null,kind:"ScalarField",name:"resize",storageKey:null}],_t={alias:null,args:null,concreteType:"ApiMediaEntitySizes",kind:"LinkedField",name:"sizes",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"large",plural:!1,selections:yt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"medium",plural:!1,selections:yt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"small",plural:!1,selections:yt,storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntitySize",kind:"LinkedField",name:"thumb",plural:!1,selections:yt,storageKey:null}],storageKey:null},ht={alias:null,args:null,concreteType:"ApiMediaEntityOriginalInfo",kind:"LinkedField",name:"original_info",plural:!1,selections:[ee,le,{alias:null,args:null,concreteType:"ApiMediaEntityFocusRect",kind:"LinkedField",name:"focus_rects",plural:!0,selections:[ot,ct,ut,dt],storageKey:null}],storageKey:null},kt={alias:null,args:null,concreteType:"ApiMediaEntityVideoInfo",kind:"LinkedField",name:"video_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},se,{alias:null,args:null,concreteType:"ApiMediaEntityVideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bitrate",storageKey:null},ce,G],storageKey:null}],storageKey:null},vt={alias:null,args:null,concreteType:"ApiMentionEntity",kind:"LinkedField",name:"user_mentions",plural:!0,selections:[L,f,F,z],storageKey:null},bt=[z,j],ft={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"hashtags",plural:!0,selections:bt,storageKey:null},Ft={alias:null,args:null,concreteType:"ApiTagEntity",kind:"LinkedField",name:"symbols",plural:!0,selections:bt,storageKey:null},Tt={alias:null,args:null,kind:"ScalarField",name:"favorite_count",storageKey:null},St={alias:null,args:null,kind:"ScalarField",name:"favorited",storageKey:null},Kt={alias:null,args:null,kind:"ScalarField",name:"full_text",storageKey:null},Rt={alias:null,args:null,concreteType:"ApiGeoFeature",kind:"LinkedField",name:"geo",plural:!1,selections:zl,storageKey:null},Et={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_screen_name",storageKey:null},Lt={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_status_id_str",storageKey:null},Ct={alias:null,args:null,kind:"ScalarField",name:"in_reply_to_user_id_str",storageKey:null},It={alias:null,args:null,kind:"ScalarField",name:"is_quote_status",storageKey:null},wt={alias:null,args:null,kind:"ScalarField",name:"lang",storageKey:null},xt={alias:null,args:null,kind:"ScalarField",name:"limited_actions",storageKey:null},Mt={alias:null,args:null,kind:"ScalarField",name:"possibly_sensitive_editable",storageKey:null},Ot={alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"place",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiGeoAttributes",kind:"LinkedField",name:"attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"factual_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iso3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"street_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"twitter",storageKey:null},G],storageKey:null},{alias:"bounding_box",args:null,concreteType:"ApiGeoPolygon",kind:"LinkedField",name:"bounding_box_polygon",plural:!1,selections:[Vl,pe],storageKey:null},{alias:null,args:null,concreteType:"ApiPlace",kind:"LinkedField",name:"contained_within",plural:!0,selections:[g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},f,g,{alias:null,args:null,kind:"ScalarField",name:"place_type",storageKey:null},G],storageKey:null},At={alias:null,args:null,concreteType:"ApiTweetPromotedContent",kind:"LinkedField",name:"promoted_content",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"impression_id",storageKey:null}],storageKey:null},Dt={alias:null,args:null,kind:"ScalarField",name:"quote_count",storageKey:null},Pt={alias:null,args:null,kind:"ScalarField",name:"quoted_status_id_str",storageKey:null},Ut={alias:null,args:null,concreteType:"ApiShortenedUrl",kind:"LinkedField",name:"quoted_status_permalink",plural:!1,selections:[G,{alias:null,args:null,kind:"ScalarField",name:"expanded",storageKey:null},Al],storageKey:null},Ht={alias:null,args:null,kind:"ScalarField",name:"reply_count",storageKey:null},Wt={alias:null,args:null,kind:"ScalarField",name:"retweet_count",storageKey:null},Nt={alias:null,args:null,kind:"ScalarField",name:"retweeted",storageKey:null},qt={alias:null,args:null,concreteType:"ApiScopes",kind:"LinkedField",name:"scopes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"place_ids",storageKey:null}],storageKey:null},jt={alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null},Bt={alias:null,args:null,kind:"ScalarField",name:"supplemental_language",storageKey:null},Vt={alias:null,args:null,kind:"ScalarField",name:"user_id_str",storageKey:null},zt={alias:null,args:null,kind:"ScalarField",name:"withheld_text",storageKey:null},Gt={alias:null,args:null,concreteType:"ApiSelfThreadMetadata",kind:"LinkedField",name:"self_thread",plural:!1,selections:[L],storageKey:null},Qt={condition:"withMessageQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]},Yt={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},Xt=[{kind:"Variable",name:"cursor",variableName:"cursor"},d,u],$t={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"},Jt={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"},Zt=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,T,$t],type:"User",abstractKey:null}],storageKey:null},Jt,g],en=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[Oe,$t,m,g],type:"User",abstractKey:null},Pe],storageKey:null},g],ln={alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[X,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:en,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},tn=[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,ln],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ne,qe,je,Be,Ve,ze,Ge,fe,$e,Je,Ze,el,ll,tl,nl,al,il,sl,rl,ol,cl,dl,ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,Tl,F,Sl,Kl,Rl,G,El,Ll,Cl,Il,wl,xl,Ml],storageKey:null},$t,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,Ol,Dl,g],storageKey:null},Ul,Hl],nn={alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ye,_e,f,G,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:tn,storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"user_refs",handleArgs:[{kind:"Literal",name:"isPlural",value:!0}]}],storageKey:null},g],storageKey:null},an=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:tn,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,ln,Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null},Jt,g],sn=[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:an,storageKey:null}],rn=[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[B,V,Yl,L,z,J,Xl,_l,$l,Jl,pe,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,Zl,re,et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:sn,storageKey:null}],storageKey:null},lt,tt,nt,{alias:null,args:null,concreteType:"ApiMediaAvailability",kind:"LinkedField",name:"ext_media_availability",plural:!1,selections:[at,it,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unavailability_info",plural:!1,selections:[X,st],storageKey:null}],storageKey:null},gt,pt,_t,ht,kt],storageKey:null},vt,Qe,ft,Ft],{fragment:{argumentDefinitions:[n,a,i,s,r,o,c],kind:"Fragment",metadata:null,name:"DMMessageSearchTabQuery",selections:[{alias:"dm_message_slice_result",args:[d,u],concreteType:null,kind:"LinkedField",name:"__DMMessageSearchTabQuery_dm_message_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[g,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,b,f,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[E],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:I,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},w,x,M],storageKey:null},O],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[A,D,P,U,H,f,W,N,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.users_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.participants_snapshot_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.initiating_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[q,g,j,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[Y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[X,ue,{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ye,_e,f,G,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy"},Pl,Ul,Hl],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[X,g,m,{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[ye,_e,f,G,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.card.legacy.user_refs.legacy"},Pl,Ul,Hl],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Wl,Ve,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Nl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.conversation_control.conversation_owner.legacy"}],storageKey:null},ql],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.legacy"},Pl,Ul,Hl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.collaborators_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[jl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.legacy"},Pl,Ul,Hl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.collab_control.invited_collaborators.collaborator_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Bl,Gl,Ql,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[B,V,Yl,L,z,J,Xl,_l,$l,Jl,pe,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,Zl,re,et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.legacy"},Pl,Ul,Hl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},lt,tt,nt,rt,gt,pt,_t,ht,kt],storageKey:null},vt,Qe,ft,Ft],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntity",kind:"LinkedField",name:"media",plural:!0,selections:[B,V,Yl,L,z,J,Xl,_l,$l,Jl,pe,G,{alias:null,args:null,concreteType:"ApiMediaMetadata",kind:"LinkedField",name:"additional_media_info",plural:!1,selections:[xe,fe,Zl,re,et,{alias:null,args:null,concreteType:"ApiMediaSourceUser",kind:"LinkedField",name:"source_user",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.legacy"},Pl,Ul,Hl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.extended_entities.media.additional_media_info.source_user.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},lt,tt,nt,rt,gt,pt,_t,ht,kt],storageKey:null},vt,Qe,ft,Ft],storageKey:null},{kind:"RequiredField",field:Tt,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorite_count"},{kind:"RequiredField",field:St,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.favorited"},Kt,Rt,Et,Lt,Ct,It,wt,xt,_l,Mt,Ot,At,Dt,Pt,Ut,{kind:"RequiredField",field:Ht,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.reply_count"},{kind:"RequiredField",field:Wt,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweet_count"},{kind:"RequiredField",field:Nt,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.legacy.retweeted"},qt,jt,Bt,Vt,Ml,L,zt,Gt],storageKey:null},{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[ke,be,fe,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[Fe,Te,j,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Ue],storageKey:null}],storageKey:null},He,We,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ne,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocked_by"},{kind:"RequiredField",field:qe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.blocking"},je,Be,Ve,ze,Ge,fe,$e,Je,{kind:"RequiredField",field:Ze,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.favourites_count"},{kind:"RequiredField",field:el,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.follow_request_sent"},ll,{kind:"RequiredField",field:tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followed_by"},{kind:"RequiredField",field:nl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.followers_count"},{kind:"RequiredField",field:al,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.following"},{kind:"RequiredField",field:il,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.friends_count"},sl,rl,ol,cl,{kind:"RequiredField",field:dl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.media_count"},ul,f,ml,gl,pl,yl,_l,vl,bl,fl,C,Fl,{kind:"RequiredField",field:Tl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.protected"},F,{kind:"RequiredField",field:Sl,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.statuses_count"},Kl,Rl,G,El,{kind:"RequiredField",field:Ll,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy.verified"},Cl,Il,wl,xl,Ml],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.legacy"},Pl,Ul,Hl],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[De,{alias:null,args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"unavailable_message",plural:!1,selections:[Fe,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[Se,Ke,Re,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[Ee,Ce,Ie,we,Me,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[F,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:Oe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.tweet_results.result.core.user_results.result.unavailable_message.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Pe],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null},Te,j],storageKey:null},Ae],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[m],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.recipient_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[g,m,{kind:"RequiredField",field:T,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.sender_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Qt],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},Yt],type:"DMMessageSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,a,i,r,c,o,s],kind:"Operation",name:"DMMessageSearchTabQuery",selections:[{alias:null,args:Xt,concreteType:null,kind:"LinkedField",name:"dm_message_slice_result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,g,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[p,y,_,h,k,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[g,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,b,f,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:Zt,storageKey:null},y,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:Zt,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[X,E],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,I,$t],type:"User",abstractKey:null}],storageKey:null},Jt,g],storageKey:null},w,x,M],storageKey:null},O],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[A,D,P,U,H,f,W,N,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Zt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Zt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Zt,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[q,g,j,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Zt,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Zt,storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[Y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[X,ue,{kind:"InlineFragment",selections:[$,nn],type:"DMCardAttachment",abstractKey:null},{kind:"InlineFragment",selections:[$,{alias:null,args:null,concreteType:"TweetResults",kind:"LinkedField",name:"tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[g,m,nn,{alias:null,args:null,concreteType:"LegacyTweet",kind:"LinkedField",name:"legacy",plural:!1,selections:[Wl,Ve,{alias:null,args:null,concreteType:"ApiConversationControl",kind:"LinkedField",name:"conversation_control",plural:!1,selections:[Nl,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"conversation_owner",plural:!1,selections:[Oe,$t,g],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"conversation_owner"},ql],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collab_control",plural:!1,selections:[X,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborators_results",plural:!0,selections:an,storageKey:null}],type:"CollabTweet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InvitedCollaborator",kind:"LinkedField",name:"invited_collaborators",plural:!0,selections:[jl,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"collaborator_results",plural:!1,selections:an,storageKey:null}],storageKey:null}],type:"CollabInvitation",abstractKey:null}],storageKey:null},Bl,Gl,Ql,{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"entities",plural:!1,selections:rn,storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"extended_entities",plural:!1,selections:rn,storageKey:null},Tt,St,Kt,Rt,Et,Lt,Ct,It,wt,xt,_l,Mt,Ot,At,Dt,Pt,Ut,Ht,Wt,Nt,qt,jt,Bt,Vt,Ml,L,zt,Gt],storageKey:null},$t,{alias:null,args:null,concreteType:"TweetCore",kind:"LinkedField",name:"core",plural:!1,selections:sn,storageKey:null},{alias:"quotedRefResult",args:null,concreteType:"TweetResults",kind:"LinkedField",name:"quoted_tweet_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[X,{kind:"InlineFragment",selections:[m,g],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"Tweet",abstractKey:null}],storageKey:null},g],storageKey:null}],type:"DMTweetAttachment",abstractKey:null}],storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Qt],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},Yt],type:"DMMessageSlice",abstractKey:null}],storageKey:null},{alias:null,args:Xt,filters:["query","s"],handle:"slice",key:"DMMessageSearchTabQuery_dm_message_slice_result",kind:"LinkedHandle",name:"dm_message_slice_result"}]},params:{id:"PiSGvjQPSd_b3-lfeC6Mrg",metadata:{sliceInfoPath:["dm_message_slice_result","slice_info"]},name:"DMMessageSearchTabQuery",operationKind:"query",text:null}});on.hash="047e679536a37cb5fc5faf0309b35bd1",e.exports=on},yV8l:function(e,l,t){"use strict";t.r(l),t.d(l,"ConversationInfoScreen",(function(){return Se})),t.d(l,"styles",(function(){return Ke}));var n=t("ERkP"),a=t.n(n),i=t("EbOo"),s=t("EPsT"),r=(t("849X"),t("MMRb")),o=t("RqPI"),c=t("1YZw"),d=t("hqKg"),u=t("p9G8"),m=t("X/yg"),g=t("AQOc"),p=t("zh9S"),y=t("G6rE"),_=t("0KEI"),h=t("oEGd");const k=(e,l)=>l.match.params.conversationId,v=(e,l)=>{const t=k(0,l);return r.selectInboxTypeByConversation(e,t)},b=Object(d.createSelector)(((e,l)=>r.selectConversation(e,k(0,l))),r.selectEntries,k,((e,l)=>r.selectConversationFetchStatus(e,k(0,l))),o.q,o.s,y.e.selectAll,((e,l)=>{const t=v(e,l);return Object(m.k)(t)}),v,o.A,((e,l,t,n,a,i,s,r,o,c)=>{const d=e&&e.data,m=d&&Object(g.b)(d,l,s),p=m&&Object(u.a)(m,i),y=!(!d||!d.notifications_disabled),_=!(!d||!d.mention_notifications_disabled),h=d&&d.mute_expiration_time&&Number(d.mute_expiration_time),k=(null==m?void 0:m.participants.map((e=>e.user_id)))||[],v=k&&1===k.length&&k[0]===i,b=k&&k.filter((e=>e!==i)),f=v?k:b.slice(0,5),F=f.length<b.length;if(!i)throw new Error("logged-in user not found");return{conversation:m,conversationId:t,fetchStatus:n,groupName:p,inboxType:o,mentionNotificationsDisabled:_,language:a,muteExpirationTime:h,notificationsDisabled:y,perspective:i,scribeComponent:r,showViewPeople:F,visibleParticipants:f,isSelfConversation:v,reporterCountry:c}})),f={addToast:c.b,block:y.e.block,createLocalApiErrorHandler:Object(_.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION_INFO"),disableMentionNotifications:r.disableMentionNotifications,disableNotifications:r.disableNotifications,enableMentionNotifications:r.enableMentionNotifications,enableNotifications:r.enableNotifications,fetchConversationIfNeeded:r.fetchConversationIfNeeded,leaveConversation:r.leaveConversation,muteDMUser:r.muteDMUser,scribeAction:p.c,unblock:y.e.unblock,unmuteDMUser:r.unmuteDMUser,updateConversationName:r.updateConversationName};var F=Object(h.f)(b,f),T=t("aWyx"),S=t("I2k/"),K=t("aA19"),R=t("v//M"),E=t("Gpeq"),L=t("XnpN"),C=t("3XMw"),I=t.n(C),w=t("tuLS"),x=t("M2mT"),M=t("u0B7"),O=t("Re5t"),A=t("hqDb"),D=t("MWbm"),P=t("mjJ+"),U=t("mw9i"),H=t("5mJL"),W=t("t62R"),N=t("0yYu"),q=t("6vad"),j=t("jtO7"),B=t("CK8+"),V=t("rHpw"),z=t("v6aA"),G=t("7JQg"),Q=t("pHkl"),Y=t("mN6z"),X=t("fs1G"),$=t("fz3c");const J=I.a.e3e58b6e,Z=I.a.a9ddbb94,ee=I.a.abd845fe,le=I.a.g2fd3206,te=I.a.eb1bb5a2,ne=I.a.c602600a,ae=I.a.eb75875e,ie=I.a.a7f20223,se=I.a.g2f04a6b,re=I.a.i453fedf,oe=I.a.b3dfd51a,ce=I.a.cc7c8ce6,de=I.a.hab58674,ue=I.a.e3c6e080,me={confirmButtonLabel:I.a.bb1d57b6,actionTextDelete:I.a.ad63377e,actionTextLeave:I.a.g9074da4,header:I.a.gdf4b790,text:I.a.h09b49f8},ge=I.a.i6b19b08,pe=I.a.j7bb1a43,ye=I.a.fcd4d489,_e=I.a.a30e1677,he=I.a.a9fd20be,ke=I.a.e133be4e,ve=I.a.c9623eeb,be=I.a.cceeaf2b,fe=I.a.d87bff5a,Fe=[{duration:1,displayText:I.a.j37c4674,toast:I.a.je7e1fed,toastOld:I.a.hf94a2d6},{duration:2,displayText:I.a.fb7a43c6,toast:I.a.e95c8f8b,toastOld:I.a.bd54fad2},{duration:3,displayText:I.a.cb5bf56e,toast:I.a.gb7a130b,toastOld:I.a.f6fce0fe},{duration:0,displayText:I.a.cabeb6c2,toast:I.a.i78153dd,toastOld:I.a.hfc86556}],Te={page:"messages",section:"conversation_settings"};class Se extends a.a.Component{constructor(e,l){super(e,l),this._getNameOfGroupOrOneToOneConvo=()=>{const{conversation:e,groupName:l}=this.props;return(null==e?void 0:e.type)===T.a.GROUP?l||"":this._getNameOfOneToOneConvo()},this._getScreenNameOfOneToOneConvo=()=>{const e=this._getSenderOfOneToOneConvo();return e?e.screen_name:""},this._getNameOfOneToOneConvo=()=>{const e=this._getSenderOfOneToOneConvo();return e?e.name:""},this._getBlockedOfOneToOneConvo=()=>{const e=this._getSenderOfOneToOneConvo();return e?e.blocking:null},this._getUserIdOfOneToOneConvo=()=>{const e=this._getSenderOfOneToOneConvo();return e?e.id_str:""},this._getSenderOfOneToOneConvo=()=>{const{conversation:e,perspective:l}=this.props,t=e&&Object(L.a)(e,l).map((({user:e})=>e));return t&&t[0]||null},this._renderContent=()=>{const{conversation:e}=this.props,l=!(null!=e&&e.trusted);return a.a.createElement(z.a.Consumer,null,(({featureSwitches:e})=>a.a.createElement(D.a,null,this._renderGroupSection(),this._renderParticipantsSection(),l?null:this._renderNotificationsSection(),this._renderConversationActions())))},this._getItems=()=>Fe.map((e=>({text:e.displayText,onClick:()=>this._handleNotificationsDisabled(e)}))),this._renderActionMenu=()=>e=>a.a.createElement(P.a,{items:this._getItems(),onCloseRequested:e}),this._handleViewPeople=()=>{this._scribeAction("view_participants")},this._handleMuteDMUser=()=>{const{conversationId:e,createLocalApiErrorHandler:l,muteDMUser:t}=this.props,n=this._getSenderOfOneToOneConvo();n&&(t(n.id_str,e).catch(l()),this._scribeAction("mute_user"))},this._handleUnmuteDMUser=()=>{const{conversationId:e,createLocalApiErrorHandler:l,unmuteDMUser:t}=this.props,n=this._getSenderOfOneToOneConvo();n&&(t(n.id_str,e).catch(l()),this._scribeAction("unmute_user"))},this._handleBlockUser=()=>{const{addToast:e,block:l,createLocalApiErrorHandler:t}=this.props,n=this._getSenderOfOneToOneConvo(),a=n?n.id_str:"";""!==a&&(l(a).then((()=>{e({action:{label:ke,onAction:this._handleUnblockUser},text:he})}),t(i.a)),this._scribeAction("block"))},this._handleUnblockUser=()=>{const e=this._getSenderOfOneToOneConvo(),l=e?e.id_str:"",{createLocalApiErrorHandler:t,unblock:n}=this.props;n(l).catch(t(M.a)),this._scribeAction("unblock")},this._handleReportConversation=()=>{this._scribeAction("report")},this._handleFetch=()=>{const{conversationId:e,createLocalApiErrorHandler:l,fetchConversationIfNeeded:t}=this.props;t({conversationId:e}).catch(l(Object(S.a)(e)))},this._handleLeaveConversation=()=>{var e;const{conversation:l,conversationId:t,createLocalApiErrorHandler:n,inboxType:a,leaveConversation:i,location:s}=this.props;i({conversationId:t}).catch(n({showToast:!0}));const r=(null==l?void 0:l.type)===T.a.GROUP?"leave_group":"delete_thread",o=(null==s||null==(e=s.state)?void 0:e.position)||0,c=(null==l?void 0:l.participants.length)||0,d={conversation_type:(null==l?void 0:l.type)===T.a.GROUP?Q.l.GROUP:Q.l.ONE_TO_ONE,conversation_id:t,conversation_participant_count:c,position:o,inbox_type:Object(m.l)(a),entry_point:Q.c.CONVERSATION_INFO};this._scribeAction(r,d),this._handleConversationClose()},this._handleNotificationsDisabled=e=>{const{addToast:l,conversationId:t,disableNotifications:n}=this.props,a=this._getNameOfGroupOrOneToOneConvo();n({conversationId:t,duration:e.duration}),l({text:e.toast({name:a})})},this._handleNotificationsEnabled=()=>()=>{const{addToast:e,conversationId:l,createLocalApiErrorHandler:t,enableNotifications:n}=this.props,a=this._getNameOfGroupOrOneToOneConvo(),i=se({name:a});n({conversationId:l}).then((()=>{e({text:i})}),t({showToast:!0}))},this._handleMentionSwitchChanged=e=>{const{addToast:l,conversationId:t,createLocalApiErrorHandler:n,disableMentionNotifications:a,enableMentionNotifications:i,scribeAction:s,scribeNamespace:r}=this.props;s({...r,component:"dm_existing_conversation_dialog",action:e?"disable_mentions":"enable_mentions"}),e?a({conversationId:t}).then((()=>{l({text:de})}),n({showToast:!0})):i({conversationId:t}).then((()=>{l({text:ue})}),n({showToast:!0}))},this._handleConversationClose=()=>{this._returnToInbox()},this._returnToInbox=()=>{const{history:e,inboxType:l}=this.props;e.push(Object(m.g)(l))},this._scribeAction=(e,l)=>{const{scribeAction:t,scribeComponent:n,scribeNamespace:a}=this.props;t({...a,component:n,action:e},l||this._getScribeData())},this._getScribeData=()=>{const{conversation:e}=this.props;return{items:[{conversation_type:(null==e?void 0:e.type)===T.a.GROUP?Q.l.GROUP:Q.l.ONE_TO_ONE}]}},this.state={notificationsDisabled:e.notificationsDisabled,muteExpirationTime:e.muteExpirationTime}}componentDidMount(){this._handleFetch()}shouldComponentUpdate(e,l){return!Object(Y.a)(e,this.props)||!Object(Y.a)(l,this.state)}render(){const{conversation:e,conversationId:l,fetchStatus:t}=this.props,n=(null==e?void 0:e.type)===T.a.GROUP;return a.a.createElement(x.a,{backLocation:`/messages/${l}`,screenType:"secondaryDetail",title:n?Z:J,withBottomTabBar:!1},a.a.createElement(U.a,{style:Ke.root},a.a.createElement(R.a,{accessibilityLabel:fe,fetchStatus:t,onRequestRetry:this._handleFetch,render:this._renderContent})))}_renderGroupSection(){const{conversation:e,conversationId:l,groupName:t,perspective:n}=this.props,i=(null==e?void 0:e.type)===T.a.GROUP,s=null==e?void 0:e.trusted;return i?a.a.createElement(H.a,{avatarCell:a.a.createElement(K.a,{conversation:e,perspective:n}),cellStyle:Ke.groupSectionRight,style:Ke.groupSection},a.a.createElement(W.b,{numberOfLines:1,weight:"bold"},t),s?a.a.createElement(W.b,{link:`/messages/${l}/group-info`,style:Ke.edit},ee):null):null}_renderParticipantsSection(){const{conversation:e,conversationId:l,showViewPeople:t,visibleParticipants:n}=this.props,i=(null==e?void 0:e.type)===T.a.GROUP,s=null==e?void 0:e.trusted;return a.a.createElement(D.a,null,i?a.a.createElement(a.a.Fragment,null,a.a.createElement(N.a,null),a.a.createElement(q.b,{text:le})):null,a.a.createElement(A.a,{displayMode:O.a.UserCompact,userIds:n,withFinalItemBorder:i,withItemBorder:!0}),t?a.a.createElement(j.a,{color:"primary",label:te,link:`/messages/${l}/participants`,onClick:this._handleViewPeople}):null,i&&s?a.a.createElement(j.a,{color:"primary",label:ne,link:`/messages/${l}/add`}):null)}_renderSnoozeConversationSwitch(){const{muteExpirationTime:e,notificationsDisabled:l}=this.props,t=this._getNameOfGroupOrOneToOneConvo(),n=ie({name:t});return l?a.a.createElement(D.a,{accessibilityRole:"label"},a.a.createElement(D.a,{style:Ke.notificationsToggleContainer},a.a.createElement(W.b,null,n),a.a.createElement(B.a,{onValueChange:this._handleNotificationsEnabled(),value:l})),e?a.a.createElement(W.b,{color:"gray700",size:"subtext2",style:Ke.notificationsDescription},this._displayExpirationTime()):null):a.a.createElement(D.a,{style:Ke.notificationsToggleContainer},a.a.createElement(W.b,null,n),a.a.createElement(w.a,{accessibilityLabel:n,renderMenu:this._renderActionMenu()},a.a.createElement(B.a,{onValueChange:X.a,value:l})))}_renderSnoozeMentionsSwitch(){const{mentionNotificationsDisabled:e}=this.props;return a.a.createElement(D.a,null,a.a.createElement(D.a,{accessibilityRole:"label",style:Ke.notificationsToggleContainer},a.a.createElement(W.b,null,oe),a.a.createElement(B.a,{onValueChange:this._handleMentionSwitchChanged,value:e})),a.a.createElement(W.b,{color:"gray700",size:"subtext2",style:Ke.notificationsDescription},ce))}_renderNotificationsSection(){const{conversation:e,isSelfConversation:l}=this.props,t=(null==e?void 0:e.type)===T.a.GROUP;return l?null:a.a.createElement(D.a,null,a.a.createElement(N.a,null),a.a.createElement(q.b,{text:ae}),a.a.createElement(D.a,null,this._renderSnoozeConversationSwitch()),t?this._renderSnoozeMentionsSwitch():null)}_displayExpirationTime(){const{language:e,muteExpirationTime:l}=this.props;if(!l)return null;const t=l-(new Date).getTime()<864e5,n=new Date(l).toLocaleString(Object(E.a)(e||"en"),t?{hour:"2-digit",minute:"2-digit"}:{weekday:"long",month:"short",day:"2-digit"});return re({expiration:n})}_renderConversationActions(){const{conversation:e}=this.props,l=(null==e?void 0:e.type)!==T.a.GROUP,t=!(null!=e&&e.trusted);return a.a.createElement(D.a,null,a.a.createElement(N.a,null),l?this._renderBlockUserButton():null,this._renderReportConversationButton(),a.a.createElement(s.a,{confirmationSheetConfirmButtonLabel:me.confirmButtonLabel,confirmationSheetConfirmButtonType:"destructiveFilled",confirmationSheetHeadline:me.header,confirmationSheetText:me.text,label:t?me.actionTextDelete:me.actionTextLeave,onConfirmationSheetConfirm:this._handleLeaveConversation,withBottomBorder:!1}))}_renderBlockUserButton(){const{isSelfConversation:e}=this.props,l=this._getScreenNameOfOneToOneConvo(),t=this._getBlockedOfOneToOneConvo(),n=t?be({screenName:l}):_e({screenName:l}),i=t?ve({screenName:l}):ye({screenName:l});return e?null:a.a.createElement(s.a,{color:"primary",confirmationSheetText:n,label:i,onConfirmationSheetConfirm:t?this._handleUnblockUser:this._handleBlockUser})}_renderReportConversationButton(){const{conversation:e,conversationId:l,inboxType:t,isSelfConversation:n}=this.props,i=(null==e?void 0:e.type)!==T.a.GROUP?pe({screenName:this._getScreenNameOfOneToOneConvo()}):ge,s=$.a.DMConversation,{featureSwitches:r}=this.context,o=(null==e?void 0:e.type)===T.a.GROUP?"0":this._getUserIdOfOneToOneConvo(),c=Object($.g)(r,s)?{pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(Object($.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:s,reportedConversationId:l,reportedUser:o,scribeNamespace:Te}))}}}:{pathname:`/i/report/dm_conversation/${l}`,state:{clientReferer:window.location.pathname,scribeNamespace:Te,inboxType:t}};return n?null:a.a.createElement(j.a,{color:"primary",label:i,link:c,onPress:this._handleReportConversation})}}Se.contextType=z.a;const Ke=V.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},edit:{flexShrink:0},groupSection:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},groupSectionRight:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},notificationsToggleContainer:{alignItems:"center",flexDirection:"row",flexGrow:1,justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},notificationsDescription:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.componentDimensions.gutterVertical,paddingTop:0}})));l.default=Object(G.a)(Te)(F(Se))},zQEV:function(e,l,t){"use strict";t.d(l,"b",(function(){return g})),t.d(l,"a",(function(){return y}));var n=t("ERkP"),a=t.n(n),i=t("t62R"),s=t("aWyx"),r=t("3XMw"),o=t.n(r);const c=o.a.c1d4ac84,d=o.a.abc7b032,u=o.a.i263b294,m=({children:e,conversationId:l})=>a.a.createElement(i.b,{link:`/messages/${l}/participants`},e),g=(e,l)=>e>=2?a.a.createElement(o.a.I18NFormatMessage,{$i18n:"e3534477"},a.a.createElement(m,{conversationId:l},o.a.i8d5e62b({count:e}))):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"b6656851",count:e}),p=({entry:e,users:l})=>e.participants?a.a.createElement("span",null,e.participants.map((({user_id:e},t)=>{const n=l[e];return n?a.a.createElement("span",{key:t},t>0?", ":null,a.a.createElement(i.b,null,n.name)):null}))):null,y=(e,l,t,n)=>{const r=t===e.by_user_id;let m;switch(l){case s.b.CONVERSATION_AVATAR_UPDATE:return m=e.by_user_id&&n[e.by_user_id]&&n[e.by_user_id].name,m?r?c:(e=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"bff29c95"},a.a.createElement(i.b,null,e)))(m):d;case s.b.CONVERSATION_NAME_UPDATE:{const l=a.a.createElement(i.b,null,e.conversation_name);return m=e.by_user_id&&n[e.by_user_id]&&n[e.by_user_id].name,m?r?(e=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"b16e4d45"},e))(l):((e,l)=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"c5760699"},a.a.createElement(i.b,null,e),l))(m,l):(e=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"a72730a1"},e))(l)}case s.b.JOIN_CONVERSATION:return m=e.sender_id&&n[e.sender_id]&&n[e.sender_id].name,m?(e=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"fa95b019"},a.a.createElement(i.b,null,e)))(m):u;case s.b.PARTICIPANTS_LEAVE:return(e=>a.a.createElement(o.a.I18NFormatMessage,{$i18n:"fc10875f"},e))(a.a.createElement(p,{entry:e,users:n}));case s.b.PARTICIPANTS_JOIN:m=e.sender_id&&n[e.sender_id]&&n[e.sender_id].name;return((e,l)=>e?a.a.createElement(o.a.I18NFormatMessage,{$i18n:"a4bc88c3"},a.a.createElement(i.b,null,e),l):a.a.createElement(o.a.I18NFormatMessage,{$i18n:"bfdff0c3"},l))(m,a.a.createElement(p,{entry:e,users:n}));default:return""}}},zsGg:function(e,l,t){"use strict";t.d(l,"b",(function(){return h}));t("kYxP");var n=t("ERkP"),a=t.n(n),i=t("hl/W"),s=t("qz2E"),r=t("pXKu"),o=t("maE+"),c=t("3XMw"),d=t.n(c),u=t("AQ79"),m=t("f42t"),g=t("OOE2"),p=t("pHkl"),y=t("pxuL");var _=t("29EQ");d.a.a74e7c77;const h=d.a.h6beb5fb;class k extends a.a.Component{constructor(...e){super(...e),this._renderPivot=()=>{const{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,untrustedCounts:t,untrustedUnreadCount:n}=this.props;return a.a.createElement(g.a,{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,secondaryInboxCounts:t,untrustedUnreadCount:n})},this._renderEmptyDMInbox=()=>a.a.createElement(o.a,{messageRequestPivot:this._renderPivot()})}componentDidMount(){const{allowUntrustedInbox:e,allowUntrustedVDLInbox:l,analytics:t,location:n,setLastViewedDmInboxPath:a}=this.props;a(n.pathname),(e||l)&&t.scribe({element:"requests_pivot",action:"impression"})}componentWillUnmount(){this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled")&&this.props.clearSearchSlicesCache(p.j),this.props.clearSearchCache()}render(){const{analytics:e,conversationIds:l,fetchInboxHistory:t,updateLastSeenEventId:n}=this.props;return a.a.createElement(_.b,null,a.a.createElement(r.a,{accessibilityTitle:_.c,analytics:e,conversationIds:l,fetchInboxHistory:t,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:this._renderPivot,updateLastSeenEventId:n,virtualScrollerCacheKey:_.a,withDmSearch:!0,withPinnedInbox:!0}))}}k.contextType=y.a,k.defaultProps={conversationIds:[],untrustedUnreadCount:0,untrustedCounts:{newUntrustedWithSocialProof:0,newUntrustedWithoutSocialProof:0,oldUntrustedWithSocialProof:0,oldUntrustedWithoutSocialProof:0}};const v=Object(m.a)(Object(i.a)({inbox:u.d.PRIMARY})(k),{directMessages:s.a});l.a=v}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.DirectMessages.b1ec9147.js.map