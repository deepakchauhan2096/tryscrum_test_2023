(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{jHwr:function(e,t,o){"use strict";t.a=(e,t)=>{let o=null;const n=()=>{o=null,e()};return()=>(o||(o=t(n)),o)}},"z2a+":function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return g}));var n=o("97Jx"),r=o.n(n),i=o("ERkP"),a=o.n(i),s=o("zfvc"),d=o("siLd"),c=o("jHwr"),l=o("VY6S"),h=o("w9LO"),p=o("TCjc"),u=o("nb/L"),w=o("Oe3h"),m=o("0FVZ"),b=o("rHpw"),f=o("i4Oy"),_=o("shC7"),C=o("MWbm");class g extends a.a.Component{constructor(e,t){super(e,t),this._renderContent=()=>{const{animationDuration:e,animationType:t,enableClickOutsideToDismiss:o,onAnimateComplete:n,onDismiss:i,show:d,withArrow:c,withContentOverflow:l,withFixedPosition:u,withFocusContainer:m,withMask:b,withRoundedSides:f,withoutLayer:_}=this.props,{bottom:g,left:x,right:R,top:k}=this.state,v=void 0===k&&void 0===g,E=v||!m?a.a.Fragment:h.a,A={top:k,bottom:g,left:x,right:R},S=[v?y.initialRenderWrapper:u?y.contentWrapperFixed:y.contentWrapperAbsolute,A],O=f?y.infiniteCornerRadius:y.defaultCornerRadius,D=[y.contentRoot,O,!l&&!c&&y.overflowHidden];return a.a.createElement(p.a.Provider,{value:{isInHoverCard:!0}},o?a.a.createElement(C.a,{onClick:i,style:[y.mask,b&&y.withMask]}):null,a.a.createElement(C.a,{onKeyUp:this._handleEsc,ref:this._setContentNode,style:S},a.a.createElement(E,null,a.a.createElement(s.a,{animateMount:!0,duration:e||"long",onAnimateComplete:n,show:d,type:t||"fade"},(({isAnimating:e})=>b||_?a.a.createElement(C.a,{style:D},this._renderInnerBody()):a.a.createElement(w.a,{id:"HoverCard",minimizeReporting:e},((e,t)=>a.a.createElement(C.a,r()({ref:e()},t({style:D})),this._renderInnerBody()))))))))},this._renderInnerBody=()=>{const{children:e,withArrow:t}=this.props;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(u.a,{style:this._getArrowStyle()}),e)},this._setContentNode=e=>{this._contentNode=e||void 0,this._scheduleUpdate()},this._handleEsc=e=>{const{onDismiss:t}=this.props,{altKey:o,ctrlKey:n,key:r,metaKey:i}=e;!(o||n||i)&&"Escape"===r&&t&&t()},this._updatePosition=()=>{if(!this._mounted)return;const{anchorNode:e,preferredHorizontalOrientation:t,preferredVerticalOrientation:o,withArrow:n,withFixedPosition:r}=this.props,i=b.a.theme.borderRadiiPx.large,a=Object(d.d)({anchorNode:e,contentNode:this._contentNode,preferredHorizontalOrientation:t,preferredVerticalOrientation:o,withArrow:n,withFixedPosition:r,borderRadius:i});if(!a)return;const{arrowPositionStart:s,bottom:c,left:l,right:h,top:p}=a;this.setState({arrowPositionStart:s,bottom:c,left:l,right:h,top:p})},this.state=Object.freeze({}),this._scheduleUpdate=Object(c.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(l.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,f.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentDidUpdate(e){const{anchorNode:t}=this.props;e.anchorNode!==t&&this._scheduleDebouncedUpdate()}componentWillUnmount(){const{onHoverCardUnmount:e}=this.props;this._mounted=!1,f.a.removeEventListener("change",this._scheduleDebouncedUpdate),e&&e()}render(){const{withoutLayer:e}=this.props;return e?this._renderContent():a.a.createElement(m.a.Dropdown,null,this._renderContent())}_getArrowStyle(){const{arrowPositionStart:e,bottom:t}=this.state;let o;if(e){o=[y.arrow,t?y.downArrow:y.upArrow];const n=`calc(${e}px - ${u.a.metadata.width/2}px)`;_.a.getConstants().isRTL?o.push({right:n}):o.push({left:n})}return o}}const y=b.a.create((e=>({arrow:{color:e.colors.cellBackground,filter:`drop-shadow(${e.spaces.space1} -${e.spaces.space1} ${e.spaces.space1} ${e.colors.gray200})`,fontSize:e.fontSizes.subtext2,position:"absolute",width:`${u.a.metadata.width}px`},contentWrapperAbsolute:{position:"absolute"},contentWrapperFixed:{backfaceVisibility:"hidden",position:"fixed"},initialRenderWrapper:{opacity:0,position:"fixed"},contentRoot:{backgroundColor:e.colors.cellBackground,boxShadow:e.boxShadows.medium},overflowHidden:{overflow:"hidden"},defaultCornerRadius:{borderRadius:e.borderRadii.xLarge},infiniteCornerRadius:{borderRadius:e.borderRadii.infinite},mask:{...b.a.absoluteFillObject,position:"fixed",userSelect:"none"},withMask:{backgroundColor:e.colors.maskColor},downArrow:{bottom:`-${e.fontSizes.subtext3}`,transform:"rotate(180deg)"},upArrow:{top:`-${e.fontSizes.subtext3}`}})))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.HoverCard.f46f31a7.js.map