(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{Lz2T:function(e,t,o){"use strict";var n=o("97Jx"),i=o.n(n),s=o("ERkP"),r=o.n(s),a=o("PnKw"),c=o("vYiB"),l=o("X3+4"),p=o("rcen"),d=o("k89r");function h(e){const{bodyRichText:t,bodyText:o,onImpression:n,primaryAction:s,titleRichText:h,titleText:m,...u}=e,y=Object(d.a)(),g=()=>{y.scribe({action:"click"})},b=h?r.a.createElement(p.a,{entities:h.entities,onEntityClick:g,text:h.text}):m&&m.length?m:null,f=t?r.a.createElement(p.a,{entities:t.entities,onEntityClick:g,text:t.text}):o&&o.length?o:null,C=e=>({...s,onClick:t=>{(null==s?void 0:s.onClick)&&s.onClick(t),e(t)}}),w=r.a.createElement(l.a.Consumer,null,(({handleNextSlide:e})=>r.a.createElement(a.a,i()({},u,{headline:b,primaryAction:s?C(e):void 0,subtext:f}))));return"function"==typeof n?r.a.createElement(c.a,{onImpression:n},w):w}h.defaultProps={shouldRenderBorder:!1},t.a=h},PnKw:function(e,t,o){"use strict";o.d(t,"a",(function(){return y}));o("kYxP");var n=o("ERkP"),i=o.n(n),s=o("TIdA"),r=o("t62R"),a=o("A91F"),c=o("/yvb"),l=o("rHpw"),p="inlinePrompt",d="inlinePrompt-primaryAction",h="inlinePrompt-secondaryAction",m="inlinePrompt-centeredImageContainer",u=o("MWbm");class y extends i.a.Component{constructor(...e){super(...e),this._renderImage=(e,t)=>{const o=i.a.createElement(s.a,{accessibilityLabel:"",aspectMode:a.a.exact(e.width/e.height),backgroundColor:e.backgroundColor,customVariants:t,image:e});return e.isCentered?i.a.createElement(u.a,{style:g.centeredImage,testID:m},i.a.createElement(u.a,{style:{width:`${e.width}px`,height:`${e.height}px`}},o)):o},this._renderTitle=()=>{const{headline:e}=this.props;return e?i.a.createElement(r.b,{accessibilityRole:"heading",align:"left",size:"title3",style:g.flexGrow,weight:"heavy",withHashflags:!0},e):null},this._renderBodyText=()=>{const{subtext:e}=this.props;return e?i.a.createElement(r.b,{align:"left",color:"gray700",style:this.styles.body,withHashflags:!0},e):null},this._renderAction=({action:e,buttonSize:t,buttonType:o,style:n,testID:s})=>{const{secondaryAction:r}=this.props,{link:a,onClick:l,text:p}=e;return i.a.createElement(u.a,{style:[this.styles.actionContainer,n,{justifyContent:"flex-start"}],testID:s},i.a.createElement(c.a,{link:a,onPress:l,size:t,style:{width:r?"100%":"auto"},type:o},p))}}render(){const{image:e,imageVariants:t,primaryAction:o,rightControl:n,secondaryAction:s,shouldRenderBorder:r}=this.props;return i.a.createElement(u.a,{style:r?[b.root,b.rootMargin]:g.root},i.a.createElement(i.a.Fragment,null,e?this._renderImage(e,t):null,i.a.createElement(u.a,{style:this.styles.rootPadding,testID:p},this._renderTitle(),this._renderBodyText(),o?this._renderAction({action:o,buttonType:"primaryFilled",style:this.styles.primaryAction,buttonSize:"large",testID:d}):null,s?this._renderAction({action:s,buttonType:"primaryOutlined",style:this.styles.secondaryAction,buttonSize:"large",testID:h}):null)),n?i.a.createElement(u.a,{style:g.rightControl},n):null)}get styles(){return this.props.isCompact?C:f}}y.defaultProps={shouldRenderBorder:!1};const g=l.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},flexGrow:{flexGrow:1},centeredImage:{display:"flex",flexDirection:"row",justifyContent:"center"},rightControl:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,position:"absolute",right:0,top:0}}))),b=l.a.create((e=>({root:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,overflow:"hidden"},rootMargin:{marginLeft:e.spaces.space16,marginRight:e.spaces.space16}}))),f=l.a.create((e=>({rootPadding:{padding:e.spaces.space32},body:{marginTop:e.spaces.space8},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space28},secondaryAction:{marginTop:e.spaces.space16}}))),C=l.a.create((e=>({rootPadding:{padding:e.spaces.space16},body:{marginTop:e.spaces.space2},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space4},secondaryAction:{marginTop:e.spaces.space2}})))},"X3+4":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("ERkP"),i=o.n(n),s=o("fs1G");const r=i.a.createContext({handleNextSlide:s.a})},"iT+n":function(e,t,o){"use strict";o.r(t),o.d(t,"PushNotificationsPromptContainer",(function(){return S}));var n=o("ERkP"),i=o.n(n),s=o("/yvb"),r=o("3XMw"),a=o.n(r),c=o("hOZg");const l=a.a.ia5e7488,p={viewType:"close_button"};function d({ariaLabel:e,closeIcon:t,color:o="white",disabled:n=!1,isOnMedia:r,onClose:a,size:d="medium",style:h,testID:m}){const u=t||i.a.createElement(c.a,{testID:m});return i.a.createElement(s.a,{accessibilityLabel:e||l,behavioralEventContext:p,borderColor:"transparent",color:o,disabled:n,icon:u,onPress:a,size:d,style:h,type:r?"onMediaDominantColorFilled":void 0})}var h=i.a.memo(d),m=o("vEo5"),u=o("1YZw"),y=o("rxPX");var g=Object(y.a)().propsFromState((()=>({promptAllowed:m.selectIsEligibleForPushPrompt}))).propsFromActions((()=>({addToast:u.b,dismissPushNotificationsPrompt:m.dismissPushNotificationsPrompt,pushSubscribe:m.pushSubscribe}))).withAnalytics({component:"soft_permission_prompt",element:"push_notifications"}),b=o("5pef"),f=o("feu+"),C=o("fs1G"),w=o("Lz2T");const P=a.a.hee41732,x=a.a.b813e4dc,A=a.a.e71e09ec,E=a.a.e71e09ec,_=a.a.hd50e064,T=a.a.g4850f44,k=a.a.dc397182;class S extends i.a.Component{constructor(e,t){super(e,t),this._messageRightControl=()=>i.a.createElement(h,{color:"gray700",onClose:this._handleCancel}),this._handleConfirm=()=>{const{addToast:e,pushSubscribe:t}=this.props;this._scribeAction("click"),t().then((t=>{t&&(this.setState({forceShowPrompt:!1}),e({action:{label:k,link:"/settings/push_notifications"},text:T}))}))},this._handleCancel=()=>{const{dismissPushNotificationsPrompt:e,onDismiss:t}=this.props;e(),this.setState({forceShowPrompt:!1}),this._scribeAction("dismiss"),t()},this.state={forceShowPrompt:e.promptAllowed}}componentDidUpdate(e,t){const{dismissPushNotificationsPrompt:o,promptAllowed:n}=this.props;!e.promptAllowed&&n&&(this._scribeAction("impression"),o(),this.setState({forceShowPrompt:!0}))}componentDidMount(){const{dismissPushNotificationsPrompt:e,promptAllowed:t}=this.props;t&&(this._scribeAction("impression"),this.setState({forceShowPrompt:!0}),e())}render(){const{fullScreen:e,message:t,promptAllowed:o}=this.props;return o||this.state.forceShowPrompt?e?i.a.createElement(f.a,{actionLabel:E,graphic:b.a,headline:A,onAction:this._handleConfirm,onClose:this._handleCancel,onTertiaryAction:this._handleCancel,subtext:t,tertiaryActionLabel:_}):i.a.createElement(w.a,{bodyText:t,primaryAction:{onClick:this._handleConfirm,text:E},rightControl:this._messageRightControl(),titleText:P}):null}_scribeAction(e){const{analytics:t}=this.props;t.scribeAction(e)}}S.defaultProps={fullScreen:!1,message:x,onDismiss:C.a};const v=g(S);t.default=v}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.PushNotificationsPrompt.398b6e27.js.map