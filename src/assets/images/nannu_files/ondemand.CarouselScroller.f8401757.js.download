(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{"0ig/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("i4Oy"),r=n("ERkP");function o(){var e=Object(r.useState)((function(){return a.a.get("window")})),t=e[0],n=e[1];return Object(r.useEffect)((function(){function e(e){var t=e.window;null!=t&&n(t)}return a.a.addEventListener("change",e),n(a.a.get("window")),function(){a.a.removeEventListener("change",e)}}),[]),t}},"0xZH":function(e,t,n){"use strict";n.r(t),n.d(t,"URTCarouselScroller",(function(){return m}));var a=n("ERkP"),r=n.n(a),o=n("BKvV"),i=n("b1wW"),s=n("7n04"),c=n("VrCx"),l=n("Irs7"),u=n("MWbm"),d=n("6iuV"),f=n("rHpw"),g=n("0zXz"),h=n("fs1G");const m=r.a.forwardRef((({assumedItemHeight:e=0,anchoring:t=s.a,identityFunction:n,items:a,minimumOffscreenToViewportRatio:f=0,nearEndProximityRatio:m=0,nearStartProximityRatio:w=0,noItemsRenderer:R=g.a,preferredOffscreenToViewportRatio:v=0,onAtEnd:y=h.a,onAtStart:E=h.a,onNearEnd:S=h.a,onNearStart:C=h.a,onPositionRestored:x=h.a,renderer:V},k)=>{var O,P;const{numRowsFromMetadata:I,scrollerDisplayType:A=i.a.Carousel}=r.a.useContext(o.a),T=I||p(a.length,A),j=r.a.useRef(0),N=Object(l.b)();r.a.useImperativeHandle(k,(()=>({isAtNewest:()=>!0,scrollToNewest:()=>Object(h.a)(),adjustFocusBy:e=>Object(h.a)()})));const M=r.a.useMemo((()=>{const e=[];for(let t=0,o=0;t<a.length;t+=T,o++){const i=a.slice(t,t+T),s=r.a.createElement(u.a,{key:o},i.map((e=>r.a.createElement(r.a.Fragment,{key:n(e)},V(e)))));e.push(s)}return j.current=e.length,e}),[n,a,T,V]),H=r.a.useCallback((({index:e,intersectionRatio:t})=>{e===j.current-1&&1===t&&N.scribeAction("reached_end")}),[N,j]),B=r.a.useCallback((({next:e,previous:t})=>{t>e?N.scribeAction("scroll_left"):t<e&&N.scribeAction("scroll_right")}),[N]);if(!a.length)return R();const F=(null==(O=a[0])||null==(P=O.content)?void 0:P.displayType)&&a[0].content.displayType===c.a.CondensedTweet;return r.a.createElement(d.a,{childrenStyle:F?b.carouselQuoteTweet:void 0,onScroll:B,onVisibleRangeChange:H,style:b.root},M)})),p=(e,t)=>t===i.a.GridCarousel&&e>=8?e<12?2:3:1,b=f.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginVertical:e.spaces.space4},carouselQuoteTweet:{width:"85%"}})));t.default=m},"DO1+":function(e,t,n){"use strict";n.r(t),n.d(t,"PagedCarouselScroller",(function(){return E}));n("kYxP");var a=n("ERkP"),r=n.n(a),o=n("gZV8"),i=n("X3+4"),s=n("7nmT"),c=n.n(s),l=n("c/W/"),u=n("7n04"),d=n("Irs7"),f=n("Fz18"),g=n("FGLp"),h=n("0ig/"),m=n("rHpw"),p=n("38/B"),b=n("6iuV"),w=n("WrBE"),R=n("MWbm"),v=n("0zXz"),y=n("fs1G");const E=r.a.forwardRef((({assumedItemHeight:e=0,anchoring:t=u.a,identityFunction:n,items:a,minimumOffscreenToViewportRatio:s=0,nearEndProximityRatio:E=0,nearStartProximityRatio:C=0,noItemsRenderer:x=v.a,preferredOffscreenToViewportRatio:V=0,onAtEnd:k=y.a,onAtStart:O=y.a,onItemsRendered:P=y.a,onNearEnd:I=y.a,onNearStart:A=y.a,onPositionRestored:T=y.a,renderer:j},N)=>{const M=r.a.useRef(),H=Object(f.b)(),[B,F]=r.a.useState((()=>{const e=H.getSavedPosition();if(null==e||!e.length)return 0;const t=e[0].id,n=a.findIndex((({entryId:e})=>e===t));return n>-1?n:0})),z=r.a.useRef(new w.a.Value(50)).current,_=r.a.useRef({}).current,G=r.a.useRef({}),W=r.a.useRef(0),D=Object(d.b)(),X=Object(h.a)().width<m.a.theme.breakpoints.small,L=r.a.useCallback((e=>{var t;const n=null==(t=a[e])?void 0:t.entryId;n&&H.savePosition([{id:n}])}),[H,a]);r.a.useImperativeHandle(N,(()=>({isAtNewest:()=>!0,scrollToNewest:()=>Object(y.a)(),adjustFocusBy:e=>Object(y.a)()}))),Object(g.a)((function(){const e=G.current[B];if(e){const t=e.getBoundingClientRect().height;z.setValue(t)}T(),Q({index:B,shouldSavePosition:!1})}));const J=r.a.useMemo((()=>{const e=e=>t=>{t&&(G.current[e]=t)},t=e=>{_[e]=new w.a.Value(0);return{opacity:_[e].interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{rotate:_[e].interpolate({inputRange:[0,1],outputRange:["0deg","-2deg"]})}]}},o=[],i=p.a.reducedMotionEnabled?R.a:w.a.View;for(let s=0;s<a.length;s+=1){const c=a[s],l=p.a.reducedMotionEnabled?void 0:t(s),u=r.a.createElement(i,{key:s,ref:e(s),style:l},r.a.createElement(r.a.Fragment,{key:n(c)},j(c)));o.push(u)}return W.current=o.length,o}),[_,n,a,j]),Q=r.a.useCallback((({index:e,shouldSavePosition:t})=>{const n=(e=>{if(!e||!e.current)return new l.a(0,0);const t=c.a.findDOMNode(e.current),{height:n,top:a}=t.getBoundingClientRect();return new l.a(a,n)})(M);P({positions:[{id:a[e].entryId,rectangle:n}],viewport:n}),t&&L(e)}),[a,P,L]),Y=r.a.useCallback((({index:e,intersectionRatio:t})=>{e===W.current-1&&t>=o.c&&D.scribeAction("reached_end"),e!==B&&1===t&&(F(e),Q({index:e,shouldSavePosition:!0}))}),[D,Q,W,B]),Z=r.a.useCallback((e=>{var t;p.a.reducedMotionEnabled||w.a.spring(_[B],{toValue:1,bounciness:2}).start((function(){_[B].setValue(0)})),null==(t=M.current)||t.handleNextSlide(e)}),[_,M,B]),K=r.a.useCallback((({next:e,previous:t})=>{t>e?D.scribeAction("scroll_left"):t<e&&D.scribeAction("scroll_right")}),[D]);if(r.a.useEffect((()=>{const e=G.current[B];if(!p.a.reducedMotionEnabled&&e){const t=e.getBoundingClientRect().height;z.setValue(t)}}),[X,B,z]),!a.length)return x();const U=r.a.createElement(i.a.Provider,{value:{handleNextSlide:Z}},r.a.createElement(b.a,{childrenStyle:S.children,onScroll:K,onVisibleRangeChange:Y,ref:M,scrollToCenter:!0,style:p.a.reducedMotionEnabled?S.root:S.rootInheritHeight,visibleItemIndex:B,withAddedNavButtonClickArea:!0},J));return p.a.reducedMotionEnabled?U:r.a.createElement(w.a.View,{style:[S.root,{height:z}]},U)})),S=m.a.create((e=>({root:{marginHorizontal:e.spaces.space4,marginBottom:e.componentDimensions.gutterVertical},rootInheritHeight:{height:"inherit"},children:{overflowY:"hidden",scrollSnapAlign:"center",scrollSnapStop:"always",width:"100%"}})));t.default=E},"X3+4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ERkP"),r=n.n(a),o=n("fs1G");const i=r.a.createContext({handleNextSlide:o.a})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.CarouselScroller.f8401757.js.map