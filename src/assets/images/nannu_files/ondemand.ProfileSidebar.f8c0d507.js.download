(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{hIbf:function(e,t,a){"use strict";a.r(t),a.d(t,"ProfileSidebarContainer",(function(){return D})),a.d(t,"toRelativePath",(function(){return T}));a("kYxP"),a("MvUL");var i=a("ERkP"),r=a.n(i),n=a("k49u"),s=a("es0u"),d=(a("urw/"),a("hqKg")),o=a("8UdT"),c=a("P1r1"),l=a("wrlS"),p=a("XOJV"),h=a("YjVx"),m=a("FLCi"),u=a("zrOZ");const I=(e,t)=>Object(h.a)(e,t),b=[],f=Object(d.createSelector)(((e,t)=>I(Object(l.d)(e),t).selectEntries(e)),p.a.createHydratedSelector,c.k,((e,t,a)=>Object(m.a)(e,(e=>{var i,r;const n=e.type===o.c.Tweet&&t(e.content.id)||void 0,s=null!=n&&null!=(i=n.extended_entities)&&i.media?Object(u.a)(n.extended_entities.media.map((e=>{const t=e.sensitive_media_warning;return t?Object.keys(t).filter((e=>t[e])):[]})).flat()):void 0;return!n||n.tombstoneInfo||n.isDeleted||n.possibly_sensitive&&!a||null!=s&&s.size||null==(r=n.extended_entities)||!r.media||e.type!==o.c.Tweet?b:n.extended_entities.media.map((t=>({mediaItem:t,entry:e})))})))),w=(e,t)=>I(e,t).fetchInitial();var g=a("MDbM"),M=a("rxPX"),S=a("0KEI");const _=(e,t)=>f(e,t.userId),x=(e,t)=>t.hideMediaModule?g.a.LOADED:((e,t)=>I(Object(l.d)(e),t).selectInitialFetchStatus(e))(e,t.userId)||g.a.LOADING;var v=Object(M.a)().propsFromState((()=>({mediaItemsWithEntry:_,mediaFetchStatus:x}))).adjustStateProps((({mediaFetchStatus:e,mediaItemsWithEntry:t})=>({mediaItems:t.map((e=>({...e.mediaItem}))),mediaItemsWithEntry:t,mediaFetchStatus:e}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(S.createLocalApiErrorHandlerWithContextFactory)("PROFILE_SIDE_BAR"),fetchRecentMediaIfNeeded:w}))),y=a("kGix"),E=a("3XMw"),O=a.n(E),A=a("fs1G"),L=a("q2Cp"),R=a("Qwev"),F=a("rHpw"),j=a("3dad"),k=a("v6aA");const C=O.a.b327c12a,P={[n.a.NotAuthorizedToViewUser]:{customAction:A.a}};class D extends r.a.Component{constructor(...e){super(...e),this._fetchRecentUserMedia=()=>{const{createLocalApiErrorHandler:e,fetchRecentMediaIfNeeded:t,hideMediaModule:a,userId:i}=this.props;!a&&t(this.context.featureSwitches,i).catch(e(P))}}componentDidUpdate(e){e.userId===this.props.userId&&e.hideMediaModule===this.props.hideMediaModule||this._fetchRecentUserMedia()}componentDidMount(){this._fetchRecentUserMedia()}render(){const{mediaFetchStatus:e}=this.props;return e&&e!==y.a.LOADING?this._renderSidebar():r.a.createElement(R.a,{accessibilityLabel:"Loading profile sidebar"})}_renderSidebar(){const{hideMediaModule:e,userId:t,userScreenName:a,withTopicsToFollow:i}=this.props,n=this._getImages();return r.a.createElement(s.a,{profileScreenName:a,profileUserId:t,withTopicsToFollow:i},n.length>=2&&!e?r.a.createElement(L.a,{cacheLocationKey:"profileSidebar",images:n,singleImageMaxAspectRatio:F.a.theme.aspectRatios.landscape,singleImageMinAspectRatio:F.a.theme.aspectRatios.landscape}):null)}_getImages(){const{mediaItems:e,mediaItemsWithEntry:t}=this.props;return t.map(((t,a)=>{var i;const{entry:r,mediaItem:n}=t,s={pathname:T(n.expanded_url),state:{mediaItems:{items:e,index:a},forwardPivotInfo:null==(i=r.content)?void 0:i.forwardPivot}},d=j.a.getOriginalImage(n);return d&&{width:d.width,height:d.height,url:d.url,backgroundColor:j.a.getBackgroundColor(n),cropCandidates:j.a.getCropCandidates(n),accessibilityLabel:n.ext_alt_text||C,shouldShowAltLabel:!1,expandedUrl:s}})).filter(Boolean)}}D.contextType=k.a;const T=e=>e.replace("https://twitter.com",""),U=v(D);t.default=U}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.ProfileSidebar.f8c0d507.js.map