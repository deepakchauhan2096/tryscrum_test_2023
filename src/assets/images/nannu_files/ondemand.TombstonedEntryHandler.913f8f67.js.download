(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{"6l+S":function(e,n,t){"use strict";t("kYxP");var o=t("euJ+"),a=t("ERkP"),c=t.n(a),i=t("rxPX"),s=Object(i.a)().propsFromState((()=>({feedbackActions:(e,n)=>n.module.selectFeedbackActions(e),feedbackKey:(e,n)=>n.feedbackKeys.length&&n.feedbackKeys[0]}))).adjustStateProps((e=>{const n=e.feedbackKey?e.feedbackActions[e.feedbackKey]:void 0,t=n&&n.childKeys?n.childKeys.map((n=>({key:n,action:e.feedbackActions[n]}))):[];return{feedbackAction:n,childFeedbackActions:t}})).propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction,undoFeedbackAction:e.undoFeedbackAction}))).withAnalytics({element:"feedback_dontlike"}),r=t("3XMw"),d=t.n(r),l=t("zTrU"),k=t("xM7j");const u=d.a.aaf2c6ea,b=d.a.e2f2b658,p=d.a.gf5e9ea6,f=(e,n)=>e&&o.g(e,n),v=e=>{const{itemMetadata:n}=e;return n&&n.clientEventInfo&&n.clientEventInfo.component},m=Object(l.a)(((e,n,t,o,a)=>(t||[]).map((({action:t,key:c})=>{var i;return{label:null!=(i=t.prompt)?i:"",onClick:()=>{const i=f(t,o),s=v(o),r=(e=>{const{clientEventInfo:n}=e;return n&&n.action})(t);a.scribe({component:s,element:i,action:r||"click"}),n({entry:o,feedbackKeys:[c,...e]})}}}))));class y extends c.a.Component{constructor(...e){super(...e),this._getFollowUpOptions=()=>{const{analytics:e,applyFeedbackAction:n,childFeedbackActions:t,entry:o,feedbackKeys:a}=this.props;return m(a,n,t,o,e)},this._handleUndo=()=>{const{analytics:e,entry:n,feedbackAction:t,feedbackKeys:a,onUndoRichAction:c,undoFeedbackAction:i}=this.props;if(!t)return;i({entry:n,feedbackKeys:a}),c&&c();const s=f(t,n)||"feedback_unknown",r=v(n),d=o.h(t,n);e.scribe({component:r,element:s,action:d})},this._getTombstoneMessage=()=>{var e;const{feedbackAction:n}=this.props;return null!=n&&n.confirmation?n.confirmation:null!=n&&null!=(e=n.richBehavior)&&e.markNotInterestedTopic?b:u}}render(){const{behavioralEventContext:e,carousel:n,conversationPosition:t,conversationTreeMetadata:o,feedbackAction:a}=this.props,i=this._getTombstoneMessage(),s=null==a?void 0:a.hasUndoAction;return c.a.createElement(k.a,{actionText:s?p:void 0,additionalActions:this._getFollowUpOptions(),behavioralEventContext:e,carousel:n,conversationPosition:t,conversationTreeMetadata:o,onClick:s?this._handleUndo:void 0},i)}}y.defaultProps={carousel:!1};const h=s(y);n.a=h},WunU:function(e,n,t){"use strict";t.r(n);var o=t("ezF+"),a=t("fs1G"),c=t("ERkP"),i=t.n(c),s=t("6l+S");const r=e=>{const{entry:{content:{dismissedEntry:n,feedbackKeys:t},conversationPosition:o,conversationTreeMetadata:a},feedbackItems:c,module:r}=e,d=i.a.useMemo((()=>{if(!c||0===t.length)return;const e=c.find((e=>e.feedbackKey===t[0]));return null==e?void 0:e.onUndo}),[t,c]),l=i.a.useMemo((()=>{var e,t;return{token:null==(e=n.itemMetadata)||null==(t=e.clientEventInfo)?void 0:t.entityToken}}),[n]);return i.a.createElement(s.a,{behavioralEventContext:l,conversationPosition:o,conversationTreeMetadata:a,entry:n,feedbackKeys:t,module:r,onUndoRichAction:d})};var d=i.a.memo(r);const l=o.b({component:d,feedbackEntrySelector:e=>e.content.dismissedEntry,shouldDisplayBorder:e=>{const{conversationPosition:n}=e;return!n||!!n.isEnd},getBehavioralEventContextOverride:a.a}).getHandler();n.default=l}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.TombstonedEntryHandler.913f8f67.js.map