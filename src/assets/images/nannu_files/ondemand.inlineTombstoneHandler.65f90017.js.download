(window.webpackJsonp=window.webpackJsonp||[]).push([[358],{"3zeG":function(e,t,i){"use strict";i("kYxP"),i("ERkP");var o=i("zb92");const n=Object(o.a)({loader:()=>Promise.all([i.e(0),i.e(240)]).then(i.bind(null,"MzK7"))});t.a=n},"64vW":function(e,t,i){"use strict";var o=i("ERkP");const n=i.n(o).a.createContext({heightsReady:!0});t.a=n},"6bZg":function(e,t,i){"use strict";var o=i("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"NO+D":function(e,t,i){"use strict";i.r(t);var o=i("ezF+"),n=(i("kYxP"),i("ERkP")),r=i.n(n),s=i("rxPX"),a=Object(s.a)().propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction}))),l=i("rcen"),c=i("xM7j"),d=i("xZXe"),h=i("P1oR"),u=i("kY28");const _=e=>{const{alignment:t,entities:i,rtl:o,text:n}=e;return r.a.createElement(l.a,{alignment:t,entities:i,rtl:o,text:n})},p=({applyFeedbackAction:e,entry:t,isFocalTweet:i,isReaderMode:o,tweetDismissFeedbackKey:n,withHideReply:s})=>{const{content:{tombstoneInfo:{revealText:a,richRevealText:l,richText:p,text:m}={},tweet:{forwardPivot:w,id:C,innerForwardPivot:b,innerTombstoneInfo:v,nudges:g}={}},conversationPosition:k,conversationTreeMetadata:y,referringContext:{contextTweetId:f,socialContext:I}={}}=t,T=l?_(l):a,A=p?_(p):m,[E,x]=r.a.useState(!0);r.a.useEffect((()=>{x(!0)}),[C]);const P=r.a.useCallback((()=>{x(!1)}),[]),S=r.a.useCallback((()=>{n&&e({entry:t,feedbackKeys:[n]})}),[e,t,n]);return E||!C?r.a.createElement(c.a,{actionText:T,children:A,conversationPosition:k,conversationTreeMetadata:y,onClick:P}):C?i&&!o?r.a.createElement(h.b,{contextTweetId:f,forwardPivotInfo:w,innerForwardPivotInfo:b,nudges:g,onTweetDismiss:S,quotedTweetTombstoneInfo:v,socialContext:I,tweetId:C,withHideReply:s}):r.a.createElement(d.b,{conversationPosition:k,conversationTreeMetadata:y,displayBlocked:!0,displayPromotedContent:!0,forwardPivotInfo:w,innerForwardPivotInfo:b,isReaderMode:o,nudges:g,onTweetDismiss:S,quotedTweetTombstoneInfo:v,replyContext:o?u.a.ReplyContextTypes.None:void 0,shouldSelfThreadIncludeAvatar:!0,tweetId:C,withActions:!0,withHideReply:s,withInlineMedia:!0,withSocialContext:!0}):null};var m=a(r.a.memo(p));t.default=e=>o.b({component:m,shouldDisplayBorder:e=>{const{conversationPosition:t,treeDisplay:i}=e;return"VerticalConversation"!==(null==i?void 0:i.displayType)&&(!t||!!t.isEnd)}}).getHandler((()=>({...e})))},P1oR:function(e,t,i){"use strict";i.d(t,"a",(function(){return Be}));var o=i("97Jx"),n=i.n(o),r=(i("kYxP"),i("Cm4o"),i("KrtT"),i("ERkP")),s=i.n(r),a=i("TZwD"),l=i("6rlp"),c=i("RqPI"),d=i("1YZw"),h=i("eSoz"),u=i("0pUJ"),_=i("SrIh"),p=i("Fmkq"),m=i("j7tW"),w=i("Zejx"),C=i("XOJV"),b=i("G6rE"),v=i("xZGM"),g=i("Ig1G"),k=i("jL08"),y=i("rxPX"),f=i("0KEI"),I=i("EGrD"),T=i("x5Pi"),A=i("Z6aJ"),E=i("P1r1");const x=(e,t)=>Object(m.b)(e,t.tweetId),P=(e,t)=>t.tweetId,S=(e,t)=>t.contextTweetId,O=(e,t)=>{const{promotedContent:i,tweetId:o}=t;if(i&&i.advertiser)return b.e.select(e,i.advertiser.id_str);if(i&&A.a.isPromoted(i)){const{advertiser_name:e}=i;Object(_.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},U=(e,t)=>t.socialContext,F=(e,{socialContext:t})=>{const i=t&&t.topicContext;return i?w.a.select(e,i.topicId):void 0},D=(e,t)=>{const i=C.a.createHydratedTweetSelector(P)(e,t);return null!=i&&i.community_id_str?h.c.select(e,null==i?void 0:i.community_id_str):void 0},M=(e,t)=>{const i=C.a.createHydratedTweetSelector(P)(e,t),o=null==i?void 0:i.quoted_status,n=null==o?void 0:o.community_id_str;return n?h.c.select(e,n):void 0},L=(e,t)=>"PUSH"===t.history.action,R=(e,t)=>Object(v.E)(e,v.l),N=(e,t)=>Object(v.C)(e,v.l);var B=Object(y.a)().propsFromState((()=>({adFreeArticleDomains:I.c,articleDomains:k.b,community:D,contextTweet:C.a.createHydratedTweetSelector(S),daysSinceDownvoteEducation:N,displaySensitiveMedia:E.k,explicitSocialContext:U,isForwardNavigation:L,isNsfwUser:E.t,isPinned:x,loggedInUser:b.e.selectLoggedInUser,promotedContentAdvertiser:O,quoteTweetCommunity:M,shouldShowDownvoteFullscreenEducation:R,topic:F,tweet:C.a.createHydratedTweetSelector(P),userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:i,contextTweet:o,daysSinceDownvoteEducation:n,displaySensitiveMedia:r,explicitSocialContext:s,isForwardNavigation:a,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:_,topic:p,tweet:m,userCountry:w,userLanguage:C})=>{var b,v,y;const f=o?Object(T.f)(o,null==d?void 0:d.id_str,i):m?Object(T.f)(m,null==d?void 0:d.id_str,i):void 0,I=null==m||null==(b=m.card)||null==(v=b.binding_values)||null==(y=v.domain)?void 0:y.string_value,A=Object(k.a)(t,I),E=null==m?void 0:m.quoted_status,x=E?Object(T.f)(E,null==d?void 0:d.id_str,u):void 0,P=x&&Object(T.e)(x),S=Object(g.g)(null==i?void 0:i.role),O=s||f;return{adFreeArticleDomains:e,community:i,contextTweet:o,daysSinceDownvoteEducation:n,displaySensitiveMedia:r,isCardArticle:A,isForwardNavigation:a,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:P,shouldShowDownvoteFullscreenEducation:_,socialContext:O,socialContextColor:Object(g.j)(i,O),topic:p,tweet:m,userCountry:w,userLanguage:C,withCommunityModerationAuthority:S}})).propsFromActions((()=>({addFlag:v.A,addToast:d.b,block:b.e.block,createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:I.a,fetchCommunityIfNeeded:h.c.fetchOneIfNeeded,fetchTopicIfNeeded:w.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:I.b,log:l.a,mute:u.a,updateHeadsUp:C.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:C.a.updateLongformNotesLearnMoreBanner,richScribeAction:p.richScribeAction,setArticlesVisited:k.e,unblock:b.e.unblock,undoTopicNotInterested:w.a.undoNotInterested,unmute:b.e.unmute}))),H=i("zb92");var j=Object(H.a)({loader:()=>i.e(259).then(i.bind(null,"5Yok"))}),V=i("IqLm"),q=i("Irs7"),K=i("MWbm"),W=i("3XMw"),z=i.n(W),G=i("4zmP"),J=i("rHpw");const Z=z.a.c9370e46,X=z.a.b4e042ba,Y=z.a.i859a9d4,Q=J.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var $=e=>{const{onAction:t,onClose:i}=e,o=Object(q.b)();s.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const n=s.a.createElement(z.a.I18NFormatMessage,{$i18n:"id9ba4fb"},s.a.createElement(V.a,{accessibilityLabel:X}));return s.a.createElement(K.a,{style:Q.root},s.a.createElement(G.a,{action:{label:Y,link:""},headline:Z,onAction:t,onClose:i,style:Q.callout,text:n,withCloseButton:!0}))},ee=i("6bZg"),te=i("sCEu"),ie=i("RuTB");var oe=Object(H.a)({loader:()=>Promise.all([i.e(0),i.e(6),i.e(59),i.e(118),i.e(180)]).then(i.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>s.a.createElement(ie.a,{hasError:e,onRetry:t})});var ne=Object(H.a)({loader:()=>Promise.all([i.e(0),i.e(2),i.e(3),i.e(4),i.e(186)]).then(i.bind(null,"RrO2")),renderPlaceholder:(e,t)=>s.a.createElement(ie.a,{hasError:e,onRetry:t})}),re=i("iFPY"),se=i("hACr"),ae=i("Nh1N"),le=i("FGLp");const ce=z.a.de21174c,de=z.a.haebcf52,he=z.a.i859a9d4,ue=J.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var _e=()=>{const e=Object(q.b)();return Object(le.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),s.a.createElement(K.a,{style:ue.callout},s.a.createElement(G.a,{Icon:ae.a,action:{label:he,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:ce,text:de,type:"primary"}))},pe=i("jQy5"),me=i("vMOa"),we=i("Rp9C"),Ce=i("xM7j"),be=i("BLtI"),ve=i("3zeG"),ge=i("aITJ"),ke=i("TnY3"),ye=i("mqpi"),fe=i("v6aA"),Ie=i("E0cF"),Te=i("OIC0"),Ae=i("+pKb"),Ee=i("/Ikv"),xe=i("7JQg"),Pe=i("cFuS"),Se=i("24HD"),Oe=i("fz3c"),Ue=i("4hQ9"),Fe=i("zTrU"),De=i("mN6z"),Me=i("ONCy"),Le=i("Cqiq");const Re=z.a.f277e94a;class Ne extends s.a.Component{constructor(...e){var t,i;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=ye.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(i=this.context.featureSwitches)?void 0:i.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(Fe.a)(((e,t,i)=>{const o=function(e,t,i){return{...i||{},items:we.a.addTweetToItems(i?i.items:[],e,t)}}(e,t,i);return this._cachedScribeData&&Object(De.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const i=Ie.a.getOriginalTweet(t),o=!!i.community_id_str,n=i.user.id_str===e,r=i.reply_count>0;return n&&r&&!i.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(Se.j)({confirmation:Object(Se.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,i=new Date;i.setDate(i.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<i;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:i,tweet:o,userCountry:n,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(o&&Object(Ue.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:n,userLanguage:r}))return Object(Ue.d)(o,i,s)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:i}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:n}=this.props;if(!n)return{};const r=n.user.id_str===o;return{...t&&{[t]:e},...i&&!r&&{[i]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:i,createLocalApiErrorHandler:o,promotedContent:n,tweet:r,unblock:s}=this.props;if(!r)return{};const{user:l}=r,c={addToast:e,behavioralEventEntityToken:null==i?void 0:i.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(a.a)({...c,block:t,unblock:s,user:l,promotedContent:n})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:i,mute:o,promotedContent:n,tweet:r,unmute:s}=this.props;if(!r)return{};const{user:a}=r,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(pe.a)({...l,mute:o,unmute:s,user:a,promotedContent:n})},this._getRenderCurationActionMenu=Object(Fe.a)(((e,t,i,o,n,r,a,l,c,d,h,u,_,p,m,w)=>()=>!!c&&s.a.createElement(ve.a,{behavioralEventEntityToken:p,forwardPivotDisplayType:e,isNsfwUser:i,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:i}=n.state||{};e&&!i?t.goBack():t.push("/")},onMenuClick:r,onTweetDismiss:a,promotedContent:l,tweet:c,userCountry:m,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:_,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,i,o)=>{const{promotedContent:n,richScribeAction:r,scribeNamespace:s,tweet:a}=this.props,l=a?we.a.forTweet(a,n):void 0,c=o?{...l,article_details:{is_ad_free:o}}:l;r({...s,...e},{items:c?[c]:[],...Object(Me.a)(i?{click_tracking_embed_details:i}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(Pe.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(Pe.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,i)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,tweet:s}=this.props,a=Pe.a[t],l=ee.a[t],c=we.a.getClickTrackingEmbedDetails(this.props.promotedContent,i);if(a){const t=a===Pe.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}t===Te.a.URL&&c&&this._scribeAction({action:Ae.b.CLICK_ID_EMBED},void 0,c);let d=!1;if(this._hasClaimsForAdFreeArticles&&null!=i&&i.expandedUrl){const t=new URL(i.expandedUrl).hostname,[a,l]=new te.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:i.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==s?void 0:s.user.id_str});a&&(l(e),d=!0)}if(t===Te.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==i?void 0:i.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:i.id}},void 0,d);l&&this._scribeAction({action:l},void 0,void 0,d)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Pe.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Pe.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:i}=this.props;if(i&&this._isCommunitiesEnabled){var o;const n=i.community_id_str,r=null==(o=i.quoted_status)?void 0:o.community_id_str;n&&t(n).catch(e()),r&&t(r).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:i}=this.props;if(!t)return null;const o=Ie.a.getOriginalTweet(t),n=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&n))return null;i(o.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const i=Ie.a.getOriginalTweet(e),o=Ie.a.hasLongformNoteUrl(i);this._twitterArticleLearnMoreBannerEnabled&&o&&t(i.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:i,socialContext:o}=this.props,n=null==o||null==(e=o.topicContext)?void 0:e.topicId;n&&i(n).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:i}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&i(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:i,createLocalApiErrorHandler:o,fetchAdFreeToken:n,isCardArticle:r,setArticlesVisited:s,tweet:a}=this.props;if(this._isArticleNudgeEnabled&&r){var l;const e=null==a||null==(l=a.card)?void 0:l.url;var c;if(e)s(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==a||null==(c=a.card)?void 0:c.url,in_reply_to_tweet_id:null==a?void 0:a.id_str}]})}const d=null==a||null==(t=a.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,r]=new te.a(n,o()).getAdFreeArticlesClickHandler({destinationUrl:Ee.a.getBindingValue(d,"card_url"),linkDomain:Ee.a.getBindingValue(d,"domain"),adFreeArticleDomains:i});t&&r(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(Pe.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(v.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const i=t.user.id_str===e,o=Object(Le.b)(t.withheld_scope),n=Object(Oe.h)(t)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,o?s.a.createElement(K.a,null,this._renderWithheldTweet(),i?this._renderTweetComponent():null):n?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!i?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,tweet:i}=this.props;if(i&&t.location.pathname.indexOf("/intent/")>-1)return s.a.createElement(re.a,{forwardPivotInfo:e,history:t,location:t.location,tweetId:i.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:i,changeDropdownState:o,contextTweet:r,contextualBehavioralEventInfo:a,conversationAnnotation:l,forwardPivotInfo:c,hasModeratedReplies:d,history:h,innerForwardPivotInfo:u,isNsfwUser:_,isPinned:p,location:m,loggedInUser:w,nudges:C,onTweetDismiss:b,promotedContent:v,promotedContentAdvertiser:g,quoteTweetSocialContextProps:k,quotedTweetTombstoneInfo:y,readerModeAvailable:f,replyBadge:I,replyDropdownSelection:T,rootTweetAuthorId:A,scribeData:E,scribeNamespace:x,socialContext:P,socialContextColor:S,topic:O,topicFollowPrompt:U,tweet:F,userCountry:D,userLanguage:M,withActions:L,withCommunityModerationAuthority:R,withHideReply:N,withInlineMedia:B,withSocialContext:H}=this.props,{loggedInUserId:j}=this.context,V={allowDownvote:i,contextTweet:r,forwardPivotInfo:c,hasModeratedReplies:d,innerForwardPivotInfo:u,promotedContent:v,promotedContentAdvertiser:g,quotedTweetTombstoneInfo:y,quoteTweetSocialContextProps:k,readerModeAvailable:f,socialContext:P,socialContextColor:S,topic:O,topicFollowPrompt:U,tweet:F,replyBadge:I,rootTweetAuthorId:A,withActions:L,withInlineMedia:B,withSocialContext:H,nudges:C},{enableKeyboardShortcuts:q}=this.state;if(!F)return null;const K=Object(De.a)(this._cachedScribeNamespace,x)?this._cachedScribeNamespace:this._cachedScribeNamespace=x,W=F&&F.card&&!F.is_quote_status?F.card.url:void 0,z=Ie.a.getOriginalTweet(F),G=z.user.id_str===j,J=!z.in_reply_to_status_id_str&&G&&!z.community_id_str,Z=this._renderConversationControlsTooltip(),X=!!z.in_reply_to_status_id_str,Y=(null==z?void 0:z.reply_count)>20,Q="Political"===(null==l?void 0:l.conversation_annotation_type)&&(null==(e=F.headsUp)?void 0:e.showBanner)&&!X&&Y,$=null==(t=z.longformNotesLearnMore)?void 0:t.showBanner,ee=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&F.reply_count>0;return s.a.createElement(xe.c,{data:this._getScribeData(F.retweeted_status||F,v,E),namespace:K},s.a.createElement(se.a,{enabled:!!q,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),s.a.createElement(be.b,n()({},V,{enableKeyboardShortcuts:q,excludeCardUrl:W,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,loggedInUser:w,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,renderCurationActionMenu:this._getRenderCurationActionMenu(null==c?void 0:c.displayType,h,_,p,m,this._handleCaretClick,b,v,Ie.a.getOriginalTweet(F),J,Z,N,R,null==a?void 0:a.entityToken,D,M),replyBadge:I,showConversationHeadsUp:Q,showLongformNotesLearnMoreBanner:$,tweet:F})),ee?s.a.createElement(me.a,{changeDropdownState:o,replyDropdownSelection:T}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:i}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(i))?s.a.createElement(_e,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return s.a.createElement(s.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?s.a.createElement(j,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(v.l)}}):null,this._shouldShowDownvoteInlineEducation()?s.a.createElement($,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(v.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:i,tweetId:o}=this.props,{replyPressToggle:n}=this.state,{loggedInUserId:r}=this.context;if(!i)return null;const a=r&&!this._shouldDisable(i,ye.a.Reply),l=ge.b.isMobileOS()?oe:ne;return a?s.a.createElement(l,{history:e,location:t,parentTweetId:o,replyPressToggle:n}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&s.a.createElement(Le.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=Ie.a.getOriginalTweet(e),i=Object(Oe.c)(t.reportingVisibility);return s.a.createElement(Ce.a,{actionText:Re,lang:e.lang,onClick:this._handleShowReportedTweet},i)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:i,log:o,promotedContent:n,tweet:r}=this.props;if(r&&n){const{disclosure_type:s,impression_id:a}=n;o({disclosureType:s,itemId:r.id_str,itemType:"tweet",params:{event:e,impression_id:a,...t}}).catch(i())}}}Ne.contextType=fe.a;const Be=Object(ke.a)(B(Ne));t.b=Object(xe.a)({component:"tweet"})(Be)},j7tW:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return _}));i("kYxP");var o=i("oEOe"),n=i("PiaM");const r="rweb/pinnedTweets";var s=i("x5Pi"),a=i("G6rE"),l=i("SRyb");const c=o.a(r,"PIN"),d=o.a(r,"UNPIN"),h=e=>(t,i,{api:r,featureSwitches:d})=>o.c(t,{params:{id:e},request:r.Tweets.pin})({actionTypes:c,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(o=>{const r=a.e.selectLoggedInUser(i());if(void 0===r)return;const c=r.id_str,h=r.pinned_tweet_ids_str&&r.pinned_tweet_ids_str[0];t(a.e.patchUser(c,{pinned_tweet_ids_str:[e]}));const u=Object(l.a)(d,c,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(n.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(n.k({id:e,content:{socialContext:{generalContext:s.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,i,{api:r,featureSwitches:s})=>o.c(t,{params:{id:e},request:r.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const r=a.e.selectLoggedInUser(i());if(void 0===r)return;const c=r.id_str;return t(a.e.patchUser(c,{pinned_tweet_ids_str:[]})),[Object(l.a)(s,c,"default").removeTweets({[e]:!0}),Object(l.a)(s,c,"default").injectEntry(n.k({id:e,sortIndex:e}),{atTop:!1})]})),_=(e,t)=>{const i=a.e.selectLoggedInUser(e);return!(null==i||!i.pinned_tweet_ids_str)&&i.pinned_tweet_ids_str[0]===t}},xZXe:function(e,t,i){"use strict";i.d(t,"a",(function(){return De}));var o=i("97Jx"),n=i.n(o),r=(i("kYxP"),i("Cm4o"),i("KrtT"),i("ERkP")),s=i.n(r),a=i("ZyXd"),l=i("TZwD"),c=i("RqPI"),d=i("1YZw"),h=i("6rlp"),u=i("0pUJ"),_=i("Fmkq"),p=i("j7tW"),m=i("Zejx"),w=i("XOJV"),C=i("D5n3"),b=i("G6rE"),v=i("Ig1G"),g=i("jL08"),k=i("eSoz"),y=i("rxPX"),f=i("0KEI"),I=i("EGrD"),T=i("x5Pi"),A=i("P1r1");const E=(e,{tweetId:t})=>Object(p.b)(e,t),x=(e,t)=>t.tweetId,P=(e,{urtAdvertiser:t,urtPromotedContent:i})=>{if(e&&i){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:i.adMetadataContainer,disclosure_type:i.disclosureType,experiment_values:i.experimentValues,impression_id:i.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:i.clickTrackingInfo,...o}}}return e},S=(e,{socialContext:t})=>t,O=(e,{socialContext:t})=>{const i=t&&t.topicContext;return i?m.a.select(e,i.topicId):void 0},U=(e,t)=>{const i=t.tweetId,o=i&&w.a.select(e,i);return o?Object(k.g)(e,o):void 0},F=(e,t)=>{const i=w.a.createHydratedTweetSelector(x)(e,t),o=null==i?void 0:i.quoted_status;return o?Object(k.g)(e,o):void 0},D=(e,{urtPromotedContent:t})=>t,M=(e,{urtPromotedContent:t})=>t?b.e.select(e,t.advertiserId):null,L=(e,t)=>t.contextTweetId;var R=Object(y.a)().propsFromState((()=>({adFreeArticleDomains:I.c,articleDomains:g.b,community:U,contextTweet:w.a.createHydratedTweetSelector(L),displaySensitiveMedia:A.k,explicitSocialContext:S,isNsfwUser:A.t,isPinned:E,loggedInUser:b.e.selectLoggedInUser,quoteTweetCommunity:F,topic:O,tweet:w.a.createHydratedTweetSelector(x),urtAdvertiser:M,urtPromotedContent:D,userCountry:c.A,userLanguage:c.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:i,contextTweet:o,displaySensitiveMedia:n,explicitSocialContext:r,isNsfwUser:s,isPinned:a,loggedInUser:l,quoteTweetCommunity:c,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:_,userCountry:p,userLanguage:m})=>{var w,C,b;const k=h&&Object(T.f)(h,null==l?void 0:l.id_str),y=null==h||null==(w=h.card)||null==(C=w.binding_values)||null==(b=C.domain)?void 0:b.string_value,f=Object(g.a)(t,y),I=null==h?void 0:h.quoted_status,A=I?Object(T.f)(I,null==l?void 0:l.id_str,c):void 0,E=A&&Object(T.e)(A),x=Object(v.g)(null==i?void 0:i.role),S=r||k;return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:n,isCardArticle:f,isNsfwUser:s,isPinned:a,loggedInUser:l,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:E,socialContext:S,socialContextColor:Object(v.j)(i,S),topic:d,tweet:P(h,{urtPromotedContent:_,urtAdvertiser:u}),userCountry:p,userLanguage:m,withCommunityModerationAuthority:x}})).propsFromActions((()=>({addToast:d.b,block:b.e.block,createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:h.a,fetchAdFreeToken:I.a,fetchCommunityIfNeeded:k.c.fetchOneIfNeeded,fetchTopicIfNeeded:m.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:I.b,mute:u.a,onUnretweet:C.a,richScribeAction:_.richScribeAction,setArticlesVisited:g.e,undoTopicNotInterested:m.a.undoNotInterested,unblock:b.e.unblock,unmute:b.e.unmute,updateLongformNotesLearnMoreBanner:w.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),N=i("6bZg"),B=i("sCEu"),H=i("3XMw"),j=i.n(H),V=i("iFPY"),q=i("hACr"),K=i("jQy5"),W=i("3IPs"),z=i("Rp9C"),G=i("uArA"),J=i("X04g"),Z=i("xM7j"),X=i("BLtI"),Y=i("3zeG"),Q=i("IO7v"),$=i("Irs7");var ee=i("MWbm"),te=i("v6aA"),ie=i("E0cF"),oe=i("OIC0"),ne=i("+pKb"),re=i("/Ikv"),se=i("Z6aJ"),ae=i("lHOd"),le=i("7JQg"),ce=i("cFuS"),de=i("24HD"),he=i("4hQ9"),ue=i("fz3c"),_e=i("64vW"),pe=i("rHpw"),me=i("gZV8");function we(e){const{id:t,onFullyVisible:i,position:o,testID:n}=e,r=s.a.useMemo((()=>{switch(o){case"top":return Ce.topPixel;case"bottom":return Ce.bottomPixel;case"right":return Ce.rightPixel;case"left":return Ce.leftPixel;default:return}}),[o]),a=s.a.useCallback((e=>{e.visibleFraction()>=me.c&&i()}),[i]);return s.a.createElement(ee.a,{style:[Ce.impressionPixelContainer,r],testID:n},s.a.createElement(me.e,{key:t,onPlacementChange:a},s.a.createElement(ee.a,{style:Ce.impressionPixel})))}const Ce=pe.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),be="top-impression-pixel",ve="bottom-impression-pixel",ge="right-impression-pixel",ke="left-impression-pixel";class ye extends s.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:be}),s.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:ge}),s.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:ve}),s.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:ke})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:i}=this.props,o=e();o&&this._lastVisibleId!==t&&i&&(this._lastVisibleId=t,i(o))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:i,onVisible:o,shouldUseImpressionPixel:n}=this.props;if(!this._areHeightsReady())return;n||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const r=e.visibleFraction()>=me.c,s=e.item.height>e.viewport.height,a=e.verticalOverlap()===e.viewport.height||s&&e.visibleFraction()>=me.d;this._lastFullyVisibleId!==t&&(r||a)&&(this._lastFullyVisibleId=t,i&&i(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:i}}}=e,o={width:i,height:t};if(this._prevLayout&&(this._prevLayout.width!==i||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t,shouldUseImpressionPixel:i}=this.props;return s.a.createElement(me.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>s.a.createElement(s.a.Fragment,null,i&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function fe(e){return s.a.createElement(_e.a.Consumer,null,(({heightsReady:t})=>s.a.createElement(ye,n()({},e,{heightsReady:t}))))}var Ie=i("fs1G"),Te=i("zTrU"),Ae=i("mN6z"),Ee=i("Cqiq");const xe=j.a.f277e94a,Pe=j.a.e4c6c30a;class Se extends s.a.Component{constructor(e,t){var i;super(e,t),this._shouldLogPromotedImpression=Ue.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Oe.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(i=this.context.userClaims)?void 0:i.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(de.j)({confirmation:Object(de.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:i}=this.props;t(ie.a.getOriginalTweet(i).id_str,{promotedContent:i.promoted_content}).catch(e(Q.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:i}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...i&&!o&&{[i]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:i,conversationTreeMetadata:o,feedbackItems:n,focalTweetId:r,forwardPivotInfo:s,handleBlockTrigger:a,isNsfwUser:l,isPinned:c,onTweetDismiss:d,ruxContext:h,saveAsRecentSearch:u,scribeData:_,shouldStoreTypeaheadItem:p,socialContext:m,topicFollowPrompt:w,tweet:C,userCountry:b,userLanguage:v,withActionsDisabled:g,withCommunityModerationAuthority:k,withCurationMenu:y,withHideReply:f,withMuteConversation:I,withUnhideReply:T,withViewHiddenReplies:A}=this.props,E=ie.a.getOriginalTweet(C),x=this._getPromotedContent(),P=_.items&&_.items[0]&&_.items[0].suggestion_details,S=this._isSelected(),O=E&&E.card&&!C.is_quote_status?E.card.url:void 0,{loggedInUserId:U}=this.context,F=(null==E||null==(e=E.user)?void 0:e.id_str)===U,D=!E.in_reply_to_status_id_str&&F&&!E.community_id_str,M=this._renderConversationControlsTooltip(),L=null==(t=E.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:O,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:r===C.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:C.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:C.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,promotedContent:x,renderCurationActionMenu:y&&!C.isPreview?this._getRenderCurationActionMenu(s&&s.displayType,n,a,g,l,c,S,this._handleCaretClick,d,x,E,f,k,I,T,D,A,o,null==i?void 0:i.entityToken,M,b,v):void 0,saveAsRecentSearch:u,shouldStoreTypeaheadItem:p,showLongformNotesLearnMoreBanner:L,to:{state:{focal:E.id_str,socialContext:m,contextualClientEventInfo:i,contextTweetId:C.id_str,promotedContent:x,suggestionDetails:P,topicFollowPrompt:w},pathname:E.permalink,query:h?{cxt:h}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,ruxContext:i,scribeData:o,socialContext:n,topicFollowPrompt:r,tweet:s,tweetTextSize:a}=this.props,l=ie.a.getOriginalTweet(s),c=this._getPromotedContent(),d=o.items&&o.items[0]&&o.items[0].suggestion_details;return{excludeCardUrl:null==(e=s.card)?void 0:e.url,onAnalyticsClick:Ie.a,onAvatarClick:Ie.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:s.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:Ie.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:Ie.a,to:{state:{focal:l.id_str,socialContext:n,contextualClientEventInfo:t,contextTweetId:s.id_str,promotedContent:c,suggestionDetails:d,topicFollowPrompt:r},pathname:l.permalink,query:i?{cxt:i}:void 0},tweet:s,tweetTextSize:a||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:i,tweet:o,userCountry:n,userLanguage:r}=this.props,{featureSwitches:s,loggedInUserId:a}=this.context;if(Object(he.e)({displaySensitiveMedia:e,featureSwitches:s,isNsfwUser:t,loggedInUserId:a,tweet:o,userCountry:n,userLanguage:r}))return Object(he.d)(o,i,s)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:i,createLocalApiErrorHandler:o,tweet:n,unblock:r}=this.props,{user:s}=n,a=this._getPromotedContent(),c={addToast:e,behavioralEventEntityToken:null==i?void 0:i.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(l.a)({...c,block:t,unblock:r,user:s,promotedContent:a})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:i,mute:o,tweet:n,unmute:r}=this.props,{user:s}=n,a={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:i,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},l=this._getPromotedContent();return Object(K.a)({...a,mute:o,unmute:r,user:s,promotedContent:l})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:i}=this.props,o=ie.a.getOriginalTweet(i);if(!o)return!1;const n=!!o.community_id_str,r=o.user&&o.user.id_str===e,s=o.reply_count>0;return!o.in_reply_to_status_id_str&&r&&s&&!n&&t},this._getRenderCurationActionMenu=Object(Te.a)(((e,t,i,o,n,r,a,l,c,d,h,u,_,p,m,w,C,b,v,g,k,y)=>()=>s.a.createElement(Y.a,{behavioralEventEntityToken:v,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:i,isDisabled:o,isNsfwUser:n,isPinned:r,onMenuClick:l,onTweetDismiss:c,promotedContent:d,tweet:h,userCountry:k,userLanguage:y,withChangeConversationControls:w,withChangeConversationControlsTooltip:g,withCommunityModerationAuthority:_,withHideReply:u,withMuteConversation:p,withUnhideReply:m,withViewHiddenReplies:C}))),this._getDefaultScribeData=Object(Te.a)(((e,t,i,o,n,r)=>{const s=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:i,overflow:o,promotedContent:n,scribeData:r,tweet:s})=>({...t||{},...r||{},...e&&{click_tracking_embed_details:e},items:z.a.addTweetToItems(r?r.items:[],s,n,i,o)}))({tweet:e,promotedContent:t,scribeData:i,overflow:o,isSelected:this._isSelected(),contextualScribeData:n,clickTrackingEmbedDetails:r});return this._cachedFinalScribeData&&Object(Ae.a)(s,this._cachedFinalScribeData)||(this._cachedFinalScribeData=s),this._cachedFinalScribeData})),this._scribeAction=(e,t={},i,o,n)=>{var r;const{analytics:s,history:a,richScribeAction:l,scribeData:c,scribeNamespace:d,tweet:h}=this.props,u=null==(r=a.location.state)?void 0:r.overflow,_=this._getPromotedContent();let p=c;if(o){const e=z.a.getUserItem(h.user,_),t=p.items?[...p.items,e]:[e];p={...p,items:t}}if(n){const e={article_details:{is_ad_free:n}},t=p.items?[...p.items,e]:[e];p={...p,items:t}}l({...d,...e},{...this._getDefaultScribeData(ie.a.getOriginalTweet(h),_,p,u,s.contextualScribeData,i),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(ce.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(a.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:i,tweet:o}=this.props,n=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),i.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(he.c)({tweet:o,loggedInUserId:t}),promotedContent:n},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const i=JSON.parse(window.sessionStorage.getItem(t))||0;i<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(i+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:i,log:o,tweet:n}=this.props,r=this._getPromotedContent();if(r){const{disclosure_type:s,impression_id:a}=r;o({disclosureType:s,itemId:n.id_str,itemType:ce.c.TWEET,params:{event:e,impression_id:a,...t}}).catch(i())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(G.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(ce.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,i)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,tweet:s}=this.props,a=ce.a[t],l=N.a[t],c=this._getPromotedContent(),d=z.a.getClickTrackingEmbedDetails(c,i);if(a){const t=a===ce.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(a,t)}if(t===oe.a.MEDIA)return this._handleTweetClick(e);t===oe.a.URL&&d&&this._scribeAction({action:ne.b.CLICK_ID_EMBED},{},d);let h=!1;if(this._hasClaimsForAdFreeArticles&&null!=i&&i.expandedUrl){const t=new URL(i.expandedUrl).hostname,[a,l]=new B.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:i.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:s.user.id_str});a&&(l(e),h=!0)}if(t===oe.a.MENTION){const e=null!=i&&i.text?[{item_type:J.a.ItemType.USER,name:i.text,id:i.id_str}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.HASHTAG){const e=null!=i&&i.text?[{name:i.text}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==i?void 0:i.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:i.id}},void 0,void 0,h);l&&this._scribeAction({action:l},void 0,void 0,void 0,h)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:i,socialContext:o}=this.props,n=o&&(null==(e=o.topicContext)?void 0:e.topicId);n&&i(n).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:i}=this.props;if(this._isCommunitiesEnabled&&i){var o;const n=i.community_id_str,r=null==(o=i.quoted_status)?void 0:o.community_id_str;n&&t(n).catch(e()),r&&t(r).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,i=ie.a.getOriginalTweet(e),o=ie.a.hasLongformNoteUrl(i);e&&o&&this._twitterArticleLearnMoreBannerEnabled&&t(i.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:i}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&i(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:i,analytics:o,createLocalApiErrorHandler:n,fetchAdFreeToken:r,isCardArticle:s,setArticlesVisited:a,tweet:l}=this.props;if(s&&this._isArticleNudgeEnabled){var c;const e=null==l||null==(c=l.card)?void 0:c.url;var d;if(e)a(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==l||null==(d=l.card)?void 0:d.url,in_reply_to_tweet_id:l.id_str}]}})}const h=null==l||null==(t=l.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&h){const[t,o]=new B.a(r,n()).getAdFreeArticlesClickHandler({destinationUrl:re.a.getBindingValue(h,"card_url"),linkDomain:re.a.getBindingValue(h,"domain"),adFreeArticleDomains:i});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:i}=this.props,{user:o}=i;e&&t&&t(J.a.ItemType.USER)&&e({user:{id:o.id_str,type:W.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:i}=e||{};return i&&t.id_str===i.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(ce.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=se.a.isPromoted(o)&&a.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(Ae.a)(this.props,e)||!Object(Ae.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:i,conversationTreeMetadata:o,showWithheldBannerOnMyTweets:n,tweet:r}=this.props;if(!this._shouldRender())return o?s.a.createElement(Z.a,{conversationPosition:i,conversationTreeMetadata:o},Pe):null;const a=(null==r||null==(e=r.user)?void 0:e.id_str)===t,l=Object(Ee.b)(ie.a.getOriginalTweet(r).withheld_scope),c=a&&!r.retweeted_status,d=c&&"user"===ie.a.getOriginalTweet(r).withheld_scope&&!n,h=Object(ue.h)(r)&&!this.state.displayReported;return s.a.createElement(s.a.Fragment,null,l?s.a.createElement(ee.a,null,d?null:this._renderWithheldTweet(),c?this._renderContent():null):h?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:i,tweet:o,tweetId:n}=this.props;if(o&&"focal_module"===(null==e?void 0:e.component)&&i.location.pathname.indexOf("/intent/")>-1&&i.location.query.tweet_id===n)return s.a.createElement(V.a,{forwardPivotInfo:t,history:i,location:i.location,tweetId:o.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,o=i.user.id_str,n=ie.a.getOriginalTweet(i),{loggedInUserId:r}=this.context,a=!!r&&r===o&&n.retweeted,l=n.withheld_text||n.text,c=n.withheld_entities||n.entities,d=i.user.id_str===r;return s.a.createElement(Ee.a,{conversationPosition:e,conversationTreeMetadata:d?void 0:t,displayTextRange:n.display_text_range,entities:c,lang:n.lang,onUnretweet:a?this._handleUnretweet:void 0,showUnretweetButton:a,text:l})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:i}=this.props,o=ie.a.getOriginalTweet(i),n=Object(ue.c)(o.reportingVisibility);return s.a.createElement(Z.a,{actionText:xe,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},n)}_renderContent(){var e;const{allowDownvote:t,analytics:i,bookmarkFolderId:o,contextTweet:n,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:l,displayBlocked:c,forwardPivotInfo:d,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:_,hideTrustedFriendsEducationTextInReplies:p,history:m,hitHighlights:w,injectedFeedbackItem:C,innerForwardPivotInfo:b,isReaderMode:v,isUnread:g,linkify:k,loggedInUser:y,nudges:f,promotedContentAdvertiser:I,quoteTweetSocialContextProps:T,quotedTweetTombstoneInfo:A,replyBadge:E,replyContext:x,rootTweetAuthorId:P,scribeData:S,scribeNamespace:O,shouldSelfThreadIncludeAvatar:U,socialContext:F,socialContextColor:D,topic:M,topicFollowPrompt:L,tweet:R,withActions:N,withActionsDisabled:B,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:V,withQuotedTweetLinks:K,withRemoveFromBookmarks:W,withSelfThread:z,withSocialContext:G,withUserPresence:J}=this.props,{enableKeyboardShortcuts:Z}=this.state,Y=ie.a.getOriginalTweet(R),Q=this._getPromotedContent(),$=Object(Ae.a)(this._cachedScribeNamespace,O)?this._cachedScribeNamespace:this._cachedScribeNamespace=O,ee=null==(e=m.location.state)?void 0:e.overflow,te={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:n,contextualClientEventInfo:r,conversationPosition:a,conversationTreeMetadata:l,displayBlocked:c,enableKeyboardShortcuts:Z,forwardPivotInfo:d,nudges:f,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:_,hideTrustedFriendsEducationTextInReplies:p,hitHighlights:w,injectedFeedbackItem:C,innerForwardPivotInfo:b,linkify:k,loggedInUser:y,promotedContentAdvertiser:I,quotedTweetTombstoneInfo:A,quoteTweetSocialContextProps:T,replyBadge:E,replyContext:x,rootTweetAuthorId:P,shouldSelfThreadIncludeAvatar:U,socialContext:F,socialContextColor:D,topic:M,topicFollowPrompt:L,tweet:R,withActions:N,withActionsDisabled:B,withBirdwatchPivots:H,withCardLinks:j,withInlineMedia:V,withQuotedTweetLinks:K,withRemoveFromBookmarks:W,withSelfThread:z,withSocialContext:G,withUnreadStyles:g,withUserPresence:J},...v?this._getReaderModeTweetProps():this._getBaseTweetProps()},oe=s.a.createElement(le.c,{data:this._getDefaultScribeData(Y,Q,S,ee,i.contextualScribeData,void 0),namespace:$},s.a.createElement(q.a,{enabled:!!Z,handlers:this._getShortcutKeyHandlers()},s.a.createElement(X.b,te)));return Q?s.a.createElement(fe,{id:R.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},oe):oe}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(ue.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:i,focalTweetId:o,tweet:n}=this.props,r=ie.a.getOriginalTweet(n),s=!(null==n||null==(e=n.user)||!e.blocking)||!(null==r||null==(t=r.user)||!t.blocking);return o!==n.id_str&&(!i&&s)}}Se.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Se.contextType=te.a;const Oe=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),Ue=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Oe(e,t.item)),Fe=e=>{const t=s.a.useContext(ae.a);return((e,t)=>{const i=Object($.b)();s.a.useEffect((()=>{t||i.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[i,t,e])})(e.tweetId,e.tweet),e.tweet?s.a.createElement(Se,n()({},e,{history:t,tweet:e.tweet})):null};Fe.defaultProps=Se.defaultProps;const De=R(Fe);t.b=Object(le.a)({component:"tweet"})(De)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.inlineTombstoneHandler.65f90017.js.map