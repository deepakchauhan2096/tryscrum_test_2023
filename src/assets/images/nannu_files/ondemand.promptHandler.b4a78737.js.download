(window.webpackJsonp=window.webpackJsonp||[]).push([[362],{"3ukl":function(e,t,a){"use strict";a.r(t);var n=a("ezF+"),o=a("ERkP"),r=a.n(o),i=a("EIk2"),c=a("rxPX"),s=a("0KEI");var l=Object(c.a)().propsFromActions((({module:e})=>({applyReactionInstructions:e.applyReactionInstructions,createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("RELEVANCE_PROMPT"),processCallback:i.a,updateEntry:e.updateEntry}))),p=a("IMYl"),d=a("hOZg");const m=e=>"IconCheckmark"===e?r.a.createElement(p.a,null):"IconClose"===e?r.a.createElement(d.a,null):void 0,u=Object.freeze({Compact:"Compact",Normal:"Normal",Large:"Large",ThumbsUpAndDown:"ThumbsUpAndDown"});var g=a("pbku"),y=a("Irs7"),b=a("MWbm"),h=a("PbQQ"),C=a("/yvb"),f=a("t62R"),E=a("rHpw");const x=(e,t)=>{if(e&&e===u.ThumbsUpAndDown)return t?"IconCheckmark":"IconClose"},I=({applyReactionInstructions:e,createLocalApiErrorHandler:t,entry:a,processCallback:n,updateEntry:o})=>{const i=a.content.relevancePrompt&&a.content.relevancePrompt,{confirmation:c,displayType:s,isRelevantCallback:l,isRelevantText:p,notRelevantCallback:d,notRelevantText:E,showConfirmation:I,title:w}=i||{},v=Object(y.b)(),R=x(s,!0),L=x(s,!1),T=s===u.ThumbsUpAndDown,A=T,H=h.b.useOpaqueIdentifier();r.a.useEffect((()=>{v.scribe({element:"relevance_prompt",action:"impression"})}),[]);const D=r.a.useCallback((e=>{i&&o(a.entryId,{relevancePrompt:{...i,showConfirmation:!0}}),n(e).catch(t())}),[t,a.entryId,n,i,o]),O=r.a.useCallback((()=>{v.scribe({element:"is_relevant",action:"click"}),D(l),e({entry:a,triggerName:g.a.ON_IS_RELEVANT})}),[v,e,a,l,D]),P=r.a.useCallback((()=>{v.scribe({element:"not_relevant",action:"click"}),D(d)}),[v,d,D]),_=(e,t,a)=>r.a.createElement(C.a,{accessibilityLabel:t,icon:a?m(a):void 0,onPress:e,size:a?"medium":"xSmall",style:a?k.icon:k.button,type:T?"primaryOutlined":"brandFilled"},a?null:t);return r.a.createElement(b.a,{accessibilityLabelledBy:H,accessibilityRole:"group",style:k.promptContainer},I?r.a.createElement(b.a,{accessibilityRole:"alert"},r.a.createElement(f.b,{style:T&&k.survey},c)):r.a.createElement(b.a,{style:[k.root,T&&k.survey]},r.a.createElement(b.a,{style:k.firstHalf},r.a.createElement(f.b,{nativeID:H},w)),r.a.createElement(b.a,{style:k.secondHalf},r.a.createElement(b.a,{style:k.buttonContainer},A?r.a.createElement(r.a.Fragment,null,_(O,p,R),_(P,E,L)):r.a.createElement(r.a.Fragment,null,_(P,E,L),_(O,p,R))))))},k=E.a.create((e=>({button:{margin:"1ex"},buttonContainer:{display:"grid",gridTemplateColumns:"repeat(2,1fr)"},secondHalf:{width:"50%",display:"grid",justifyContent:"end"},firstHalf:{width:"50%",flexDirection:"column",justifyContent:"center"},root:{flexDirection:"row",justifyContent:"space-between"},promptContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},survey:{display:"flex",borderRadius:e.spaces.space8,padding:e.spaces.space12,backgroundColor:e.colors.orange0,alignItems:"center",minHeight:e.spaces.space64},icon:{marginLeft:e.spaces.space12}})));var w=l(r.a.memo(I)),v=a("Rp9C");const R=n.b({component:w,getScribeDataItem:e=>v.a.forRelevancePrompt(e.itemMetadata.clientEventInfo)}).getHandler();t.default=R},EycW:function(e,t,a){"use strict";var n=a("ERkP"),o=a.n(n),r=a("t62R"),i=a("uCrx"),c=a("PnKw"),s=a("rHpw"),l="onboardingLikesGuide-emptyHeart",p="onboardingLikesGuide-filledHeart",d=a("MWbm");const m=o.a.memo((()=>o.a.createElement(i.a,{style:g.emptyHeart,testID:l}))),u=o.a.memo((()=>o.a.createElement(i.a,{style:g.filledHeart,testID:p}))),g=s.a.create((e=>({actionContext:{marginLeft:e.spaces.space8,display:"inline"},actionGuide:{display:"flex",flexDirection:"row",paddingLeft:e.spaces.space16,paddingRight:e.spaces.space16},actionGuideLeft:{flexGrow:"1",display:"flex",flexDirection:"row",alignItems:"center"},actionGuideRight:{flexGrow:"1",display:"block",textAlign:"right"},actionIcon:{display:"inline",marginLeft:e.spaces.space8},container:{position:"relative",marginTop:e.spaces.space4},headerText:{marginTop:e.spaces.space8,marginBottom:e.spaces.space8},actionContextIconContainer:{display:"inline"},actionContextIcon:{color:e.colors.magenta500,width:`calc(${e.spaces.space16} - ${e.spaces.space2})`,height:`calc(${e.spaces.space16} - ${e.spaces.space2})`},actionContextIconHighlight:{display:"flex",flexDirection:"row",backgroundColor:e.colors.magenta50,borderRadius:"50%",width:`calc(${e.spaces.space32} - ${e.spaces.space4})`,height:`calc(${e.spaces.space32} - ${e.spaces.space4})`,justifyContent:"center",alignItems:"center"},iconImage:{width:e.spaces.space64,height:e.spaces.space72},bodyText:{color:e.colors.gray700,marginBottom:e.spaces.space16},iconContainer:{display:"block"},rightControl:{position:"absolute",top:"0px",right:"0px"},emptyHeart:{color:e.colors.gray100,width:e.spaces.space20,height:e.spaces.space20},filledHeart:{color:e.colors.magenta500,width:e.spaces.space20,height:e.spaces.space20}})));t.a=({bodyText:e,currentLikeCount:t,headerIconUrl:a,headerText:n,likeContext:s,rightControl:l,totalLikeCount:p})=>{const y=[];for(let e=0;e<p;e++)y.push(e<t?o.a.createElement(u,null):o.a.createElement(m,null));return o.a.createElement(d.a,{style:g.container},o.a.createElement(c.a,{headline:n,image:a?{url:a,width:68,height:68,isCentered:!0}:void 0,isCompact:!0,rightControl:l,subtext:e}),o.a.createElement(d.a,{style:g.actionGuide},o.a.createElement(d.a,{accessibilityLabel:s,style:g.actionGuideLeft},o.a.createElement(d.a,{style:g.actionContextIconContainer},o.a.createElement(d.a,{style:g.actionContextIconHighlight},o.a.createElement(i.a,{style:g.actionContextIcon}))),o.a.createElement(d.a,{style:g.actionContext},o.a.createElement(r.b,{size:"subtext2",weight:"bold"},s))),o.a.createElement(d.a,{accessibilityLabel:s,accessibilityLiveRegion:"polite",style:g.actionGuideRight},y.map(((e,t)=>o.a.createElement(d.a,{key:`action-icon-${t}`,style:g.actionIcon},e))))))}},PnKw:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));a("kYxP");var n=a("ERkP"),o=a.n(n),r=a("TIdA"),i=a("t62R"),c=a("A91F"),s=a("/yvb"),l=a("rHpw"),p="inlinePrompt",d="inlinePrompt-primaryAction",m="inlinePrompt-secondaryAction",u="inlinePrompt-centeredImageContainer",g=a("MWbm");class y extends o.a.Component{constructor(...e){super(...e),this._renderImage=(e,t)=>{const a=o.a.createElement(r.a,{accessibilityLabel:"",aspectMode:c.a.exact(e.width/e.height),backgroundColor:e.backgroundColor,customVariants:t,image:e});return e.isCentered?o.a.createElement(g.a,{style:b.centeredImage,testID:u},o.a.createElement(g.a,{style:{width:`${e.width}px`,height:`${e.height}px`}},a)):a},this._renderTitle=()=>{const{headline:e}=this.props;return e?o.a.createElement(i.b,{accessibilityRole:"heading",align:"left",size:"title3",style:b.flexGrow,weight:"heavy",withHashflags:!0},e):null},this._renderBodyText=()=>{const{subtext:e}=this.props;return e?o.a.createElement(i.b,{align:"left",color:"gray700",style:this.styles.body,withHashflags:!0},e):null},this._renderAction=({action:e,buttonSize:t,buttonType:a,style:n,testID:r})=>{const{secondaryAction:i}=this.props,{link:c,onClick:l,text:p}=e;return o.a.createElement(g.a,{style:[this.styles.actionContainer,n,{justifyContent:"flex-start"}],testID:r},o.a.createElement(s.a,{link:c,onPress:l,size:t,style:{width:i?"100%":"auto"},type:a},p))}}render(){const{image:e,imageVariants:t,primaryAction:a,rightControl:n,secondaryAction:r,shouldRenderBorder:i}=this.props;return o.a.createElement(g.a,{style:i?[h.root,h.rootMargin]:b.root},o.a.createElement(o.a.Fragment,null,e?this._renderImage(e,t):null,o.a.createElement(g.a,{style:this.styles.rootPadding,testID:p},this._renderTitle(),this._renderBodyText(),a?this._renderAction({action:a,buttonType:"primaryFilled",style:this.styles.primaryAction,buttonSize:"large",testID:d}):null,r?this._renderAction({action:r,buttonType:"primaryOutlined",style:this.styles.secondaryAction,buttonSize:"large",testID:m}):null)),n?o.a.createElement(g.a,{style:b.rightControl},n):null)}get styles(){return this.props.isCompact?f:C}}y.defaultProps={shouldRenderBorder:!1};const b=l.a.create((e=>({root:{backgroundColor:e.colors.cellBackground},flexGrow:{flexGrow:1},centeredImage:{display:"flex",flexDirection:"row",justifyContent:"center"},rightControl:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,position:"absolute",right:0,top:0}}))),h=l.a.create((e=>({root:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,overflow:"hidden"},rootMargin:{marginLeft:e.spaces.space16,marginRight:e.spaces.space16}}))),C=l.a.create((e=>({rootPadding:{padding:e.spaces.space32},body:{marginTop:e.spaces.space8},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space28},secondaryAction:{marginTop:e.spaces.space16}}))),f=l.a.create((e=>({rootPadding:{padding:e.spaces.space16},body:{marginTop:e.spaces.space2},actionContainer:{flexDirection:"row"},primaryAction:{marginTop:e.spaces.space4},secondaryAction:{marginTop:e.spaces.space2}})))},RoyM:function(e,t,a){"use strict";var n=a("ERkP"),o=a.n(n),r=(a("kYxP"),a("zb92"));var i=Object(r.a)({loader:()=>a.e(0).then(a.bind(null,"ACNv"))}),c=a("4bW+"),s=a("IG7M"),l=a("rHpw"),p=a("Irs7");const d=l.a.create((e=>({curationControl:{marginStart:e.spaces.space20}})));t.a=Object(p.a)((e=>{const{analytics:t,feedbackItems:a,isDisplayedOnMedia:n}=e;if(a&&a.length>0){const e=e=>o.a.createElement(i,{actionItems:a,onClose:e}),r=()=>t.scribe({element:"caret",action:"click"});return o.a.createElement(s.a,{onClick:r,renderActionMenu:e,style:d.curationControl,testID:c.a.caret,withDarkBackground:n})}return null}))},YIsX:function(e,t,a){"use strict";a.r(t);var n=a("ezF+"),o=a("ERkP"),r=a.n(o),i=a("G6rE"),c=a("rxPX");const s=(e,t)=>i.e.selectLoggedInUser(e);var l=Object(c.a)().propsFromState((()=>({loggedInUser:s}))),p=a("RoyM"),d=a("3XMw"),m=a.n(d),u=a("EycW"),g=a("Irs7");const y=m.a.a682906d,b=({entry:e,feedbackItems:t,loggedInUser:a})=>{var n,o;const i=Object(g.b)(),c=e.content.onboardingLikesStartPrompt||void 0,s=(null==a?void 0:a.favourites_count)||0,l=(null==c?void 0:c.likesNeededToCompleteOnboarding)||0,d=Math.max(0,l-s),m=r.a.useMemo((()=>null!=t&&t.length?r.a.createElement(p.a,{feedbackItems:t}):void 0),[t]);return r.a.useEffect((()=>{i.scribeAction("impression")}),[]),r.a.createElement(u.a,{bodyText:null==c||null==(n=c.bodyRichText)?void 0:n.text,currentLikeCount:s,headerIconUrl:null==c?void 0:c.headerIconUrl,headerText:null==c||null==(o=c.headerRichText)?void 0:o.text,likeContext:y({count:d}),rightControl:m,totalLikeCount:l})};l(b);const h=n.b({component:b}).getHandler();t.default=h},pbku:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=Object.freeze({ON_BLOCK_AUTHOR:"onBlockAuthor",ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore",ON_LIKE:"onLike",ON_FOLLOW:"onFollow"})}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.promptHandler.b4a78737.js.map