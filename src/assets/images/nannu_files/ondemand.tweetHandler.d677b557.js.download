(window.webpackJsonp=window.webpackJsonp||[]).push([[367],{"+Sp1":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({draggingTweetId:void 0});t.a=i},"0ULw":function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),r=n("Lsrn"),a=n("k/Ka");const s=(e={})=>Object(a.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));s.metadata={width:24,height:24},t.a=s},"3zeG":function(e,t,n){"use strict";n("kYxP"),n("ERkP");var o=n("zb92");const i=Object(o.a)({loader:()=>Promise.all([n.e(0),n.e(240)]).then(n.bind(null,"MzK7"))});t.a=i},"64vW":function(e,t,n){"use strict";var o=n("ERkP");const i=n.n(o).a.createContext({heightsReady:!0});t.a=i},"6bZg":function(e,t,n){"use strict";var o=n("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"6vad":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("ERkP"),i=n.n(o),r=n("t62R"),a=n("EHV7"),s=n("rHpw");const c=s.a.create((e=>({icon:{color:e.colors.primary,height:e.fontSizes.title4,paddingRight:e.spaces.space12,width:e.fontSizes.title4}})));var l=n("7Mjr"),d=n("I4+6"),h=n("cm6r"),u=n("MWbm");const p=Object.freeze({TopicFilled:"TOPIC_FILLED"});const m=s.a.create((e=>({root:{justifyContent:"space-between",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},mainContent:{flexDirection:"row"},subtext:{alignSelf:"flex-start"},withSubtext:{alignSelf:"center"},icon:{alignSelf:"flex-start",height:e.spaces.space20,justifyContent:"center"},iconArrow:{color:e.colors.text},rightControlGroup:{flexDirection:"row",justifyContent:"flex-end",flexGrow:1,alignSelf:"center"}})));t.b=function({icon:e,landingUrl:t,nativeID:n,rightControl:o,style:_,subtext:w,testID:b,text:C}){const v=(e=>{switch(e){case p.TopicFilled:return i.a.createElement(a.a,{style:c.icon});default:return null}})(e),g=w?null:m.withSubtext,y=d.a.generate({backgroundColor:s.a.theme.colors.gray0,color:s.a.theme.colors.cellBackground,customFocusBackgroundColor:s.a.theme.colors.gray0,customHoverBackgroundColor:s.a.theme.colors.gray0,customPressedBackgroundColor:s.a.theme.colors.gray0});return i.a.createElement(h.a,{interactiveStyles:t?y:null,link:null==t?void 0:t.url,nativeID:n,style:[m.root,_],testID:b},i.a.createElement(u.a,{accessibilityLevel:2,accessibilityRole:"heading",style:m.mainContent},i.a.createElement(u.a,{style:m.icon},v),i.a.createElement(r.b,{numberOfLines:3,size:"headline1",style:g,weight:"heavy",withHashflags:!0},C),i.a.createElement(u.a,{style:m.rightControlGroup},t?i.a.createElement(u.a,{style:g},i.a.createElement(l.a,{style:m.iconArrow})):null,o?i.a.createElement(u.a,null,o):null)),w?i.a.createElement(r.b,{color:"gray700",numberOfLines:2,size:"subtext2",style:m.subtext,withHashflags:!0},w):null)}},"9Jxp":function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=n("ERkP"),a=n.n(r),s=n("CXUS"),c=n("rHpw"),l=n("MWbm");const d=c.a.create((()=>({hidden:{opacity:0}})));t.a=e=>{const{children:t,disableInteractiveElementBlocking:n,draggableId:o,fromVirtualList:r,index:c,isBeingDragged:h,isDragDisabled:u,lockYAxis:p}=e;return r&&h?a.a.createElement(l.a,{style:d.hidden},t):a.a.createElement(s.b,{disableInteractiveElementBlocking:n,draggableId:o,index:c,isDragDisabled:u},(e=>{const n=e.draggableProps.style,o=p?(e=>{if(e.transform){const t=`translate(0px${e.transform.slice(e.transform.indexOf(","),e.transform.length)}`;return{...e,transform:t}}return e})(n):n;return a.a.createElement("div",i()({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:o}),t)}))}},A6fF:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("ERkP"),a=n.n(r),s=n("XOJV"),c=n("rxPX"),l=n("Fg8X");const d=(e,t)=>l.a.select(e,t.momentId),h=(e,t)=>s.a.selectHydrated(e,t.entry.content.id);var u=Object(c.a)().propsFromState((()=>({moment:d,tweet:h}))),p=n("+Sp1"),m=n("UcEn"),_=n("9Jxp"),w=n("CUXw"),b=n("TXsO"),C=n("E0cF"),v=n("cm6r");var g=u((({entry:{content:{id:e},index:t},moment:n,onClick:o,tweet:i})=>{var r,s;const c=a.a.useContext(p.a),l=a.a.useContext(m.a),d=a.a.useRef(),h=i&&C.a.getOriginalTweet(i),u=(null==h?void 0:h.id_str)||e;let g;null!=i&&null!=(r=i.user)&&r.protected?g=b.l:i&&C.a.isQuotedTweetUnavailable(i)&&(g=b.k);const y=((null==n||null==(s=n.pages)?void 0:s.length)||0)>=b.e,f=c.draggingTweetId===u,k=!!g||y,I=l.selectedTweets.has(u),T=null!==c.draggingTweetId&&I;return null!=t?a.a.createElement(v.a,{onClick:k?void 0:()=>{var e;null==(e=d.current)||e._handleOnClick()}},a.a.createElement(_.a,{draggableId:u,fromVirtualList:!0,index:t,isBeingDragged:f,isDragDisabled:k},a.a.createElement(w.a,{disabledMessage:g,isPartOfDraggedSelection:T,isSelected:I,onClick:o,ref:e=>{d.current=e},tweetId:e}))):null}));t.default=e=>o.b({component:g,isClickable:Object(i.a)(!0),isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(i.a)(!0)}).getHandler((()=>({...e})))},CUXw:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("ERkP")),a=n.n(r),s=n("XOJV"),c=n("E0cF"),l=n("rxPX"),d=n("0KEI");const h=(e,t)=>t.tweetId;var u=Object(l.a)().propsFromState((()=>({tweet:s.a.createHydratedTweetSelector(h)}))).adjustStateProps((({tweet:e})=>({originalTweet:e&&c.a.getOriginalTweet(e)||e,tweet:e}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.createLocalApiErrorHandlerWithContextFactory)("TWEET_SELECT_CONTEXT")}))),p=n("3XMw"),m=n.n(p),_=n("x5Pi"),w=n("fs1G"),b=n("kXdP"),C=n("BLtI"),v=n("MWbm"),g=n("htQn"),y=n("Znyr"),f=n("kY28"),k=n("rHpw"),I=n("v6aA"),T=n("6Rrp"),E=n("0ULw"),A=n("pu5c");const x=m.a.h6beb5fb,S=e=>e&&e.preventDefault();class P extends a.a.PureComponent{constructor(...e){super(...e),this._renderDisabledTweet=e=>a.a.createElement(v.a,{style:O.root},this._renderContent(),a.a.createElement(v.a,{style:O.disabledTweetMask}),a.a.createElement(v.a,{style:[O.disabledIconWrapper,O.iconMargins]},a.a.createElement(b.a,{hoverText:e},D,a.a.createElement(v.a,{style:O.disabledTweetMask})))),this._renderContent=()=>{const{replyContext:e,tweet:t,withActions:n}=this.props;if(t){var o;const i=Object(_.f)(t,this.context.loggedInUserId);return a.a.createElement(v.a,{style:O.tweet},a.a.createElement(C.b,{excludeCardUrl:null==(o=t.card)?void 0:o.url,linkableQuotedTweet:!0,onAnalyticsClick:w.a,onAvatarClick:w.a,onEntityClick:w.a,onMediaClick:S,onReplyContextClick:w.a,preventVideoPlayback:!0,replyContext:e,socialContext:i,tweet:t,withActions:n,withActionsDisabled:!0,withSocialContext:!0}))}return null},this._renderSelectIcon=e=>e?a.a.createElement(T.a,{style:[O.icon,O.iconMargins,O.iconCheckmark]}):a.a.createElement(E.a,{style:[O.icon,O.iconMargins]}),this._handleOnClick=()=>{const{onClick:e,originalTweet:t,tweetId:n}=this.props;if(e){e((null==t?void 0:t.id_str)||n)}}}render(){const{disabledMessage:e,isPartOfDraggedSelection:t,isSelected:n,showDragCount:o,tweet:i,withSelectIcon:r}=this.props;return e?this._renderDisabledTweet(e):i?a.a.createElement(g.a,{onPress:this._handleOnClick,style:O.root},this._renderDragCount(o),this._renderContent(),r?this._renderSelectIcon(n):null,t&&a.a.createElement(v.a,{style:O.disabledTweetMask})):null}_renderDragCount(e){return e<2?null:a.a.createElement(v.a,{style:O.countBadgeContainer},a.a.createElement(y.a,{count:e,standalone:!0,style:O.countBadge,truncatedCountFormatter:x,unreadCountLabel:()=>"",withBorder:!1}))}}P.contextType=I.a,P.defaultProps={replyContext:f.a.ReplyContextTypes.Isolated,withActions:!0,withSelectIcon:!0,showDragCount:0,isPartOfDraggedSelection:!1,isSelected:!1};const O=k.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexDirection:"row"},tweet:{flex:1},disabledTweetMask:{...k.a.absoluteFillObject,backgroundColor:e.colors.navigationBackground,opacity:"50%"},disabledIconWrapper:{height:"100%"},icon:{color:e.colors.gray700},iconMargins:{marginTop:e.spaces.space12,marginRight:e.spaces.space12},iconCheckmark:{color:e.colors.green500},countBadge:{height:e.spaces.space32,width:e.spaces.space32},countBadgeContainer:{height:e.spaces.space32,width:e.spaces.space32,position:"absolute",right:`-${e.spaces.space16}`,top:`-${e.spaces.space16}`}}))),D=a.a.createElement(A.a,{style:O.icon}),F=a.a.forwardRef(((e,t)=>a.a.createElement(P,i()({},e,{ref:t})))),M=u.forwardRef(F);t.a=M},"Fcw+":function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("ERkP"),a=n.n(r),s=n("kY28"),c=n("CUXw");const l=({entry:{content:{id:e},index:t},onClick:n,selectedTweetIds:o,withSelectIcon:i})=>a.a.createElement(c.a,{index:t,isSelected:null==o?void 0:o.includes(e),onClick:n,replyContext:s.a.ReplyContextTypes.None,tweetId:e,withActions:!1,withSelectIcon:i});var d=a.a.memo(l);t.default=e=>o.b({component:d,isClickable:Object(i.a)(!0),isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(i.a)(!0)}).getHandler((()=>({...e})))},GUcm:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("ERkP"),a=n.n(r),s=n("b5s6"),c=n("nBUg"),l=n("rHpw");const d={isCarouselItem:()=>!0},h=({entry:e})=>{const{forwardPivot:t,id:n}=e.content;return a.a.createElement(c.b.Provider,{value:d},a.a.createElement(s.a,{forwardPivotInfo:t,isCondensed:!0,style:u.carouselQuoteTweet,tweetId:n}))},u=l.a.create((e=>({carouselQuoteTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,height:"172px"}})));var p=a.a.memo(h),m=n("M6G0");t.default=e=>o.b({component:p,divider:e.divider||{},defaultScribeNamespace:m.a,getBehavioralEventContextOverride:m.c,getScribeDataItem:m.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(m.f)(!0)}).getHandler((()=>({...e})))},KQRq:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("97Jx"),a=n.n(r),s=n("ERkP"),c=n.n(s),l=n("P1oR"),d=n("Zejx"),h=n("rxPX");const u=(e,{module:t})=>{var n;const o=t.selectMetadata(e);return(null==o||null==(n=o.reader_mode_config)?void 0:n.is_reader_mode_available)||!1},p=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?d.a.select(e,t.content.socialContext.topicContext.topicId):void 0};var m=Object(h.a)().propsFromState((()=>({readerModeAvailable:u,topic:p}))).propsFromActions((({module:e})=>({applyFeedbackAction:e.applyFeedbackAction}))),_=n("M6G0"),w=n("x5Pi"),b=n("Irs7"),C=n("Qtnm");var v=m((({allowDownvote:e,applyFeedbackAction:t,createAdditionalProps:n=Object(i.a)({}),dismissable:o=!1,entry:r,feedbackItems:s,readerModeAvailable:d,topic:h})=>{const u=Object(b.b)(),{content:{conversation_annotation:p,forwardPivot:m,hasModeratedReplies:v,id:g,innerForwardPivot:y,innerTombstoneInfo:f,nudges:k,replyBadge:I,socialContext:T,topicFollowPrompt:E},conversationPosition:A,referringContext:{contextTweetId:x,contextualClientEventInfo:S,hideMedia:P,promotedContent:O,socialContext:D,topicFollowPrompt:F}={}}=r,{onTweetDismiss:M}=Object(C.a)(u,t,r,s,o),R=c.a.useMemo((()=>Object(_.e)(u.contextualScribeNamespace,S,A)),[u.contextualScribeNamespace,S,A]),U=c.a.useMemo((()=>Object(w.d)({socialContext:T,topic:h})),[T,h]),L=n(r,{readerModeAvailable:d,topic:h},{applyFeedbackAction:t});return c.a.createElement(l.a,a()({allowDownvote:e,contextTweetId:x,conversationAnnotation:p,forwardPivotInfo:m,hasModeratedReplies:v,innerForwardPivotInfo:y,nudges:k,onTweetDismiss:M,promotedContent:O,quotedTweetTombstoneInfo:f,readerModeAvailable:d,replyBadge:I,scribeData:u.contextualScribeData,scribeNamespace:R,socialContext:U||D,topicFollowPrompt:E||F,tweetId:g,withActions:!0,withInlineMedia:!P,withSocialContext:!0},L))}));t.default=e=>o.b({component:v,divider:e.divider||{},defaultScribeNamespace:_.a,getBehavioralEventContextOverride:_.c,getScribeDataItem:_.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(_.f)(!1)}).getHandler((()=>({...e})))},M6G0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var o=n("Rp9C");const i={component:"tweet"},r={component:"thread"},a={serversideContextType:"tweet"},s=e=>{var t,n,o;const i=null!=(t=e.content.retweetedStatusId)?t:e.content.id,r={...a,serversideContextId:i};return{viewType:e.type,token:null==(n=e.itemMetadata)||null==(o=n.clientEventInfo)?void 0:o.entityToken,clientEntity:r}},c=(e=!1)=>t=>{const{conversationPosition:n,conversationTreeMetadata:o}=t;return!(e||n&&!n.isEnd&&(!o||!1!==o.descendantConnector||0!==o.indents.filter((e=>"line"===e.displayType)).length))},l=e=>o.a.getTweetURTEntryItem(e),d=(e,t,n)=>({...e,section:"descendant"===(null==n?void 0:n.position)?"conversation_descendants":"ancestor"===(null==n?void 0:n.position)?"conversation_ancestors":e.section,component:(null==t?void 0:t.component)||e.component,action:(null==t?void 0:t.action)||e.action,element:(null==t?void 0:t.element)||e.element})},P1oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),a=n.n(r),s=n("TZwD"),c=n("6rlp"),l=n("RqPI"),d=n("1YZw"),h=n("eSoz"),u=n("0pUJ"),p=n("SrIh"),m=n("Fmkq"),_=n("j7tW"),w=n("Zejx"),b=n("XOJV"),C=n("G6rE"),v=n("xZGM"),g=n("Ig1G"),y=n("jL08"),f=n("rxPX"),k=n("0KEI"),I=n("EGrD"),T=n("x5Pi"),E=n("Z6aJ"),A=n("P1r1");const x=(e,t)=>Object(_.b)(e,t.tweetId),S=(e,t)=>t.tweetId,P=(e,t)=>t.contextTweetId,O=(e,t)=>{const{promotedContent:n,tweetId:o}=t;if(n&&n.advertiser)return C.e.select(e,n.advertiser.id_str);if(n&&E.a.isPromoted(n)){const{advertiser_name:e}=n;Object(p.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},D=(e,t)=>t.socialContext,F=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?w.a.select(e,n.topicId):void 0},M=(e,t)=>{const n=b.a.createHydratedTweetSelector(S)(e,t);return null!=n&&n.community_id_str?h.c.select(e,null==n?void 0:n.community_id_str):void 0},R=(e,t)=>{const n=b.a.createHydratedTweetSelector(S)(e,t),o=null==n?void 0:n.quoted_status,i=null==o?void 0:o.community_id_str;return i?h.c.select(e,i):void 0},U=(e,t)=>"PUSH"===t.history.action,L=(e,t)=>Object(v.E)(e,v.l),B=(e,t)=>Object(v.C)(e,v.l);var N=Object(f.a)().propsFromState((()=>({adFreeArticleDomains:I.c,articleDomains:y.b,community:M,contextTweet:b.a.createHydratedTweetSelector(P),daysSinceDownvoteEducation:B,displaySensitiveMedia:A.k,explicitSocialContext:D,isForwardNavigation:U,isNsfwUser:A.t,isPinned:x,loggedInUser:C.e.selectLoggedInUser,promotedContentAdvertiser:O,quoteTweetCommunity:R,shouldShowDownvoteFullscreenEducation:L,topic:F,tweet:b.a.createHydratedTweetSelector(S),userCountry:l.A,userLanguage:l.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:r,explicitSocialContext:a,isForwardNavigation:s,isNsfwUser:c,isPinned:l,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetCommunity:u,shouldShowDownvoteFullscreenEducation:p,topic:m,tweet:_,userCountry:w,userLanguage:b})=>{var C,v,f;const k=o?Object(T.f)(o,null==d?void 0:d.id_str,n):_?Object(T.f)(_,null==d?void 0:d.id_str,n):void 0,I=null==_||null==(C=_.card)||null==(v=C.binding_values)||null==(f=v.domain)?void 0:f.string_value,E=Object(y.a)(t,I),A=null==_?void 0:_.quoted_status,x=A?Object(T.f)(A,null==d?void 0:d.id_str,u):void 0,S=x&&Object(T.e)(x),P=Object(g.g)(null==n?void 0:n.role),O=a||k;return{adFreeArticleDomains:e,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:r,isCardArticle:E,isForwardNavigation:s,isNsfwUser:c,isPinned:l,loggedInUser:d,promotedContentAdvertiser:h,quoteTweetSocialContextProps:S,shouldShowDownvoteFullscreenEducation:p,socialContext:O,socialContextColor:Object(g.j)(n,O),topic:m,tweet:_,userCountry:w,userLanguage:b,withCommunityModerationAuthority:P}})).propsFromActions((()=>({addFlag:v.A,addToast:d.b,block:C.e.block,createLocalApiErrorHandler:Object(k.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:I.a,fetchCommunityIfNeeded:h.c.fetchOneIfNeeded,fetchTopicIfNeeded:w.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:I.b,log:c.a,mute:u.a,updateHeadsUp:b.a.updateHeadsUp,updateLongformNotesLearnMoreBanner:b.a.updateLongformNotesLearnMoreBanner,richScribeAction:m.richScribeAction,setArticlesVisited:y.e,unblock:C.e.unblock,undoTopicNotInterested:w.a.undoNotInterested,unmute:C.e.unmute}))),j=n("zb92");var H=Object(j.a)({loader:()=>n.e(259).then(n.bind(null,"5Yok"))}),V=n("IqLm"),z=n("Irs7"),W=n("MWbm"),q=n("3XMw"),K=n.n(q),G=n("4zmP"),X=n("rHpw");const J=K.a.c9370e46,Q=K.a.b4e042ba,Z=K.a.i859a9d4,Y=X.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var $=e=>{const{onAction:t,onClose:n}=e,o=Object(z.b)();a.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const i=a.a.createElement(K.a.I18NFormatMessage,{$i18n:"id9ba4fb"},a.a.createElement(V.a,{accessibilityLabel:Q}));return a.a.createElement(W.a,{style:Y.root},a.a.createElement(G.a,{action:{label:Z,link:""},headline:J,onAction:t,onClose:n,style:Y.callout,text:i,withCloseButton:!0}))},ee=n("6bZg"),te=n("sCEu"),ne=n("RuTB");var oe=Object(j.a)({loader:()=>Promise.all([n.e(0),n.e(6),n.e(59),n.e(118),n.e(180)]).then(n.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>a.a.createElement(ne.a,{hasError:e,onRetry:t})});var ie=Object(j.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(186)]).then(n.bind(null,"RrO2")),renderPlaceholder:(e,t)=>a.a.createElement(ne.a,{hasError:e,onRetry:t})}),re=n("iFPY"),ae=n("hACr"),se=n("Nh1N"),ce=n("FGLp");const le=K.a.de21174c,de=K.a.haebcf52,he=K.a.i859a9d4,ue=X.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var pe=()=>{const e=Object(z.b)();return Object(ce.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),a.a.createElement(W.a,{style:ue.callout},a.a.createElement(G.a,{Icon:se.a,action:{label:he,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:le,text:de,type:"primary"}))},me=n("jQy5"),_e=n("vMOa"),we=n("Rp9C"),be=n("xM7j"),Ce=n("BLtI"),ve=n("3zeG"),ge=n("aITJ"),ye=n("TnY3"),fe=n("mqpi"),ke=n("v6aA"),Ie=n("E0cF"),Te=n("OIC0"),Ee=n("+pKb"),Ae=n("/Ikv"),xe=n("7JQg"),Se=n("cFuS"),Pe=n("24HD"),Oe=n("fz3c"),De=n("4hQ9"),Fe=n("zTrU"),Me=n("mN6z"),Re=n("ONCy"),Ue=n("Cqiq");const Le=K.a.f277e94a;class Be extends a.a.Component{constructor(...e){var t,n;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=fe.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(n=this.context.featureSwitches)?void 0:n.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._getScribeData=Object(Fe.a)(((e,t,n)=>{const o=function(e,t,n){return{...n||{},items:we.a.addTweetToItems(n?n.items:[],e,t)}}(e,t,n);return this._cachedScribeData&&Object(Me.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const n=Ie.a.getOriginalTweet(t),o=!!n.community_id_str,i=n.user.id_str===e,r=n.reply_count>0;return i&&r&&!n.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(Pe.j)({confirmation:Object(Pe.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,n=new Date;n.setDate(n.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<n;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:r}=this.props,{featureSwitches:a,loggedInUserId:s}=this.context;if(o&&Object(De.e)({displaySensitiveMedia:e,featureSwitches:a,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:r}))return Object(De.d)(o,n,a)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:i}=this.props;if(!i)return{};const r=i.user.id_str===o;return{...t&&{[t]:e},...n&&!r&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:n,createLocalApiErrorHandler:o,promotedContent:i,tweet:r,unblock:a}=this.props;if(!r)return{};const{user:c}=r,l={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(s.a)({...l,block:t,unblock:a,user:c,promotedContent:i})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:n,mute:o,promotedContent:i,tweet:r,unmute:a}=this.props;if(!r)return{};const{user:s}=r,c={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(me.a)({...c,mute:o,unmute:a,user:s,promotedContent:i})},this._getRenderCurationActionMenu=Object(Fe.a)(((e,t,n,o,i,r,s,c,l,d,h,u,p,m,_,w)=>()=>!!l&&a.a.createElement(ve.a,{behavioralEventEntityToken:m,forwardPivotDisplayType:e,isNsfwUser:n,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:n}=i.state||{};e&&!n?t.goBack():t.push("/")},onMenuClick:r,onTweetDismiss:s,promotedContent:c,tweet:l,userCountry:_,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,n,o)=>{const{promotedContent:i,richScribeAction:r,scribeNamespace:a,tweet:s}=this.props,c=s?we.a.forTweet(s,i):void 0,l=o?{...c,article_details:{is_ad_free:o}}:c;r({...a,...e},{items:l?[l]:[],...Object(Re.a)(n?{click_tracking_embed_details:n}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(Se.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(Se.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,tweet:a}=this.props,s=Se.a[t],c=ee.a[t],l=we.a.getClickTrackingEmbedDetails(this.props.promotedContent,n);if(s){const t=s===Se.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}t===Te.a.URL&&l&&this._scribeAction({action:Ee.b.CLICK_ID_EMBED},void 0,l);let d=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,c]=new te.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==a?void 0:a.user.id_str});s&&(c(e),d=!0)}if(t===Te.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:c},{interactive_text_details:{id:n.id}},void 0,d);c&&this._scribeAction({action:c},void 0,void 0,d)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Se.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Se.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(n&&this._isCommunitiesEnabled){var o;const i=n.community_id_str,r=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),r&&t(r).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:n}=this.props;if(!t)return null;const o=Ie.a.getOriginalTweet(t),i=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&i))return null;n(o.id_str)},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props;if(e){const n=Ie.a.getOriginalTweet(e),o=Ie.a.hasLongformNoteUrl(n);this._twitterArticleLearnMoreBannerEnabled&&o&&t(n.id_str)}},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=null==o||null==(e=o.topicContext)?void 0:e.topicId;i&&n(i).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,createLocalApiErrorHandler:o,fetchAdFreeToken:i,isCardArticle:r,setArticlesVisited:a,tweet:s}=this.props;if(this._isArticleNudgeEnabled&&r){var c;const e=null==s||null==(c=s.card)?void 0:c.url;var l;if(e)a(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==s||null==(l=s.card)?void 0:l.url,in_reply_to_tweet_id:null==s?void 0:s.id_str}]})}const d=null==s||null==(t=s.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,r]=new te.a(i,o()).getAdFreeArticlesClickHandler({destinationUrl:Ae.a.getBindingValue(d,"card_url"),linkDomain:Ae.a.getBindingValue(d,"domain"),adFreeArticleDomains:n});t&&r(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(Se.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(v.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const n=t.user.id_str===e,o=Object(Ue.b)(t.withheld_scope),i=Object(Oe.h)(t)&&!this.state.displayReported;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement(W.a,null,this._renderWithheldTweet(),n?this._renderTweetComponent():null):i?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!n?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,tweet:n}=this.props;if(n&&t.location.pathname.indexOf("/intent/")>-1)return a.a.createElement(re.a,{forwardPivotInfo:e,history:t,location:t.location,tweetId:n.id_str})}_renderTweetComponent(){var e,t;const{allowDownvote:n,changeDropdownState:o,contextTweet:r,contextualBehavioralEventInfo:s,conversationAnnotation:c,forwardPivotInfo:l,hasModeratedReplies:d,history:h,innerForwardPivotInfo:u,isNsfwUser:p,isPinned:m,location:_,loggedInUser:w,nudges:b,onTweetDismiss:C,promotedContent:v,promotedContentAdvertiser:g,quoteTweetSocialContextProps:y,quotedTweetTombstoneInfo:f,readerModeAvailable:k,replyBadge:I,replyDropdownSelection:T,rootTweetAuthorId:E,scribeData:A,scribeNamespace:x,socialContext:S,socialContextColor:P,topic:O,topicFollowPrompt:D,tweet:F,userCountry:M,userLanguage:R,withActions:U,withCommunityModerationAuthority:L,withHideReply:B,withInlineMedia:N,withSocialContext:j}=this.props,{loggedInUserId:H}=this.context,V={allowDownvote:n,contextTweet:r,forwardPivotInfo:l,hasModeratedReplies:d,innerForwardPivotInfo:u,promotedContent:v,promotedContentAdvertiser:g,quotedTweetTombstoneInfo:f,quoteTweetSocialContextProps:y,readerModeAvailable:k,socialContext:S,socialContextColor:P,topic:O,topicFollowPrompt:D,tweet:F,replyBadge:I,rootTweetAuthorId:E,withActions:U,withInlineMedia:N,withSocialContext:j,nudges:b},{enableKeyboardShortcuts:z}=this.state;if(!F)return null;const W=Object(Me.a)(this._cachedScribeNamespace,x)?this._cachedScribeNamespace:this._cachedScribeNamespace=x,q=F&&F.card&&!F.is_quote_status?F.card.url:void 0,K=Ie.a.getOriginalTweet(F),G=K.user.id_str===H,X=!K.in_reply_to_status_id_str&&G&&!K.community_id_str,J=this._renderConversationControlsTooltip(),Q=!!K.in_reply_to_status_id_str,Z=(null==K?void 0:K.reply_count)>20,Y="Political"===(null==c?void 0:c.conversation_annotation_type)&&(null==(e=F.headsUp)?void 0:e.showBanner)&&!Q&&Z,$=null==(t=K.longformNotesLearnMore)?void 0:t.showBanner,ee=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&F.reply_count>0;return a.a.createElement(xe.c,{data:this._getScribeData(F.retweeted_status||F,v,A),namespace:W},a.a.createElement(ae.a,{enabled:!!z,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),a.a.createElement(Ce.b,i()({},V,{enableKeyboardShortcuts:z,excludeCardUrl:q,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,loggedInUser:w,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,renderCurationActionMenu:this._getRenderCurationActionMenu(null==l?void 0:l.displayType,h,p,m,_,this._handleCaretClick,C,v,Ie.a.getOriginalTweet(F),X,J,B,L,null==s?void 0:s.entityToken,M,R),replyBadge:I,showConversationHeadsUp:Y,showLongformNotesLearnMoreBanner:$,tweet:F})),ee?a.a.createElement(_e.a,{changeDropdownState:o,replyDropdownSelection:T}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:n}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(n))?a.a.createElement(pe,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return a.a.createElement(a.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?a.a.createElement(H,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(v.l)}}):null,this._shouldShowDownvoteInlineEducation()?a.a.createElement($,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(v.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:n,tweetId:o}=this.props,{replyPressToggle:i}=this.state,{loggedInUserId:r}=this.context;if(!n)return null;const s=r&&!this._shouldDisable(n,fe.a.Reply),c=ge.b.isMobileOS()?oe:ie;return s?a.a.createElement(c,{history:e,location:t,parentTweetId:o,replyPressToggle:i}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&a.a.createElement(Ue.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=Ie.a.getOriginalTweet(e),n=Object(Oe.c)(t.reportingVisibility);return a.a.createElement(be.a,{actionText:Le,lang:e.lang,onClick:this._handleShowReportedTweet},n)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:n,log:o,promotedContent:i,tweet:r}=this.props;if(r&&i){const{disclosure_type:a,impression_id:s}=i;o({disclosureType:a,itemId:r.id_str,itemType:"tweet",params:{event:e,impression_id:s,...t}}).catch(n())}}}Be.contextType=ke.a;const Ne=Object(ye.a)(N(Be));t.b=Object(xe.a)({component:"tweet"})(Ne)},Qtnm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("euJ+"),i=n("ERkP"),r=n.n(i);const a=(e,t,n,i,a)=>{const s=null==i?void 0:i.length,c=a&&!s,l=r.a.useCallback((()=>{t({entry:n,feedbackKeys:[o.b]}),e.scribe({element:o.g(o.a,n),action:"click"})}),[e,n,t]);return{onTweetDismiss:c?l:void 0}}},ReVx:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("97Jx"),a=n.n(r),s=n("ERkP"),c=n.n(s),l=n("xZXe"),d=n("wtjx"),h=n("Zejx"),u=n("rxPX");const p=(e,{entry:t,module:n})=>n.selectIsUnread(e,t.entryId),m=(e,{entry:t})=>{var n;return null!=(n=t.content.socialContext)&&n.topicContext?h.a.select(e,t.content.socialContext.topicContext.topicId):void 0};var _=Object(u.a)().propsFromState((()=>({isUnread:p,topic:m}))).propsFromActions((({module:e})=>({saveAsRecentSearch:d.a,applyFeedbackAction:e.applyFeedbackAction,applyReactionInstructions:e.applyReactionInstructions}))),w=n("Df4Q"),b=n("M6G0"),C=n("x5Pi"),v=n("3XMw"),g=n.n(v),y=n("6vad"),f=n("MWbm");const k=g.a.e25a0c3a;var I=e=>c.a.createElement(f.a,null,c.a.createElement(y.b,{text:k}),c.a.createElement(l.a,e)),T=n("pbku"),E=n("VrCx"),A=n("kY28"),x=n("Irs7"),S=n("Qtnm");const P=({allowDownvote:e=!1,applyFeedbackAction:t,applyReactionInstructions:n,bookmarkFolderId:o,createAdditionalProps:r=Object(i.a)({}),dismissable:s=!1,displayBlocked:d,entry:h,feedbackItems:u,hideConversationControlsEducationText:p=!1,hideExclusivityInfoEducationTextInReplies:m=!1,hideTrustedFriendsEducationTextInReplies:_=!1,isReaderMode:v=!1,isUnread:g,saveAsRecentSearch:y,shouldSelfThreadIncludeAvatar:f=!1,shouldStoreTypeaheadItem:k,showWithheldBannerOnMyTweets:P=!1,topic:O,tweetTextSize:D,withActionsDisabled:F=!1,withMuteConversation:M=!1,withRemoveFromBookmarks:R=!1,withSelfThread:U=!1,withUserPresence:L=!1,withUnreadStyles:B=!1})=>{const N=Object(x.b)(),{content:{conversation_annotation:j,displayType:H,forwardPivot:V,hasModeratedReplies:z,highlights:W,id:q,innerForwardPivot:K,innerTombstoneInfo:G,nudges:X,promotedMetadata:J,replyBadge:Q,ruxContext:Z,socialContext:Y,topicFollowPrompt:$},conversationPosition:ee,conversationTreeMetadata:te,itemMetadata:ne,referringContext:{contextTweetId:oe,contextualClientEventInfo:ie,focalTweetId:re,hideMedia:ae,socialContext:se,topicFollowPrompt:ce}={}}=h;let le;ee?le=ee.showReplyContext&&!v?A.a.ReplyContextTypes.Isolated:A.a.ReplyContextTypes.None:v&&(le=A.a.ReplyContextTypes.None);const de=c.a.useCallback((()=>n({entry:h,triggerName:T.a.ON_LIKE})),[n,h]),he=c.a.useCallback((()=>n({entry:h,triggerName:T.a.ON_BLOCK_AUTHOR})),[n,h]),ue=!!h.conversationPosition&&!h.conversationPosition.isStart,pe=c.a.useMemo((()=>u&&!v?{markNotInterestedTopic:u.find((e=>e.feedbackKey===Object(w.b)(h.entryId)))}:void 0),[u,h.entryId,v]),{onTweetDismiss:me}=Object(S.a)(N,t,h,u,s),_e=c.a.useMemo((()=>Object(b.e)(N.contextualScribeNamespace,ie,ee)),[N.contextualScribeNamespace,ie,ee]),we=c.a.useMemo((()=>Object(C.d)({socialContext:Y,topic:O})),[Y,O]),be={allowDownvote:e,bookmarkFolderId:o,contextTweetId:oe,contextualClientEventInfo:ne.clientEventInfo,conversationPosition:ee,conversationTreeMetadata:te,conversationAnnotation:j,displayBlocked:d,displayPromotedContent:!0,feedbackItems:u,focalTweetId:re,forwardPivotInfo:V,shouldStoreTypeaheadItem:k,handleBlockTrigger:he,hasModeratedReplies:z,hideConversationControlsEducationText:p||ue,hideExclusivityInfoEducationTextInReplies:m,hideTrustedFriendsEducationTextInReplies:_,hitHighlights:null==W?void 0:W.textHighlights,injectedFeedbackItem:pe,innerForwardPivotInfo:K,isReaderMode:v,isUnread:B?g:void 0,onTweetDismiss:me,onLike:de,quotedTweetTombstoneInfo:G,replyBadge:Q,replyContext:le,ruxContext:Z,saveAsRecentSearch:y,scribeData:N.contextualScribeData,scribeNamespace:_e,shouldSelfThreadIncludeAvatar:f,showWithheldBannerOnMyTweets:P,socialContext:we||se,topicFollowPrompt:$||ce,tweetId:q,tweetTextSize:D,urtPromotedContent:J,withActions:!0,withActionsDisabled:F,withInlineMedia:!ae||v,withMuteConversation:M,withRemoveFromBookmarks:R,withSelfThread:U,withSocialContext:!0,withUserPresence:L,nudges:X},Ce=r(h,{isUnread:g,topic:O},{saveAsRecentSearch:y,applyFeedbackAction:t,applyReactionInstructions:n});switch(H){case E.a.EmphasizedPromotedTweet:return c.a.createElement(I,a()({},be,Ce));default:return c.a.createElement(l.a,a()({},be,Ce))}};var O=_(c.a.memo(P));t.default=e=>o.b({component:O,divider:e.divider||{},defaultScribeNamespace:e.isReaderMode?b.b:b.a,getBehavioralEventContextOverride:b.c,getScribeDataItem:b.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(b.f)(e.isReaderMode)}).getHandler((()=>({...e})))},b5s6:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),r=n("ERkP"),a=n.n(r),s=n("v6aA"),c=n("XOJV"),l=n("eSoz"),d=n("rxPX"),h=n("0KEI");const u=(e,t)=>t.tweetId,p=(e,t)=>{const n=t.tweetId,o=n&&c.a.select(e,n);return o?Object(l.g)(e,o):void 0};var m=Object(d.a)().propsFromState((()=>({community:p,hydratedTweet:c.a.createHydratedTweetSelector(u)}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(h.createLocalApiErrorHandlerWithContextFactory)("QUOTE_TWEET_CONTAINER"),fetchCommunityIfNeeded:l.c.fetchOneIfNeeded}))),_=n("YeIG"),w=n("uCxL"),b=n("Irs7"),C=n("x5Pi");const v=m((({community:e,createLocalApiErrorHandler:t,fetchCommunityIfNeeded:n,hydratedTweet:o,onPress:r,tweetId:c,...l})=>{const{featureSwitches:d,loggedInUserId:h}=a.a.useContext(s.a),u=Object(b.b)(),p=null==o?void 0:o.community_id_str;a.a.useEffect((()=>{p&&Object(_.a)(e)&&n(p).catch(t())}),[e,p,t,n]);const m=a.a.useCallback((e=>{u.scribeAction("click"),r&&r(e)}),[r,u]),v=o&&Object(C.f)(o,h,e),g=v&&Object(C.e)(v),y=d.isTrue("responsive_web_reactions_enabled");return a.a.createElement(w.a,i()({},l,{loggedInUserId:h,onPress:m,shouldShowAltLabelAlways:!0,socialContextProps:g,tweet:o,withReactions:y}))}));t.a=v},j7tW:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));n("kYxP");var o=n("oEOe"),i=n("PiaM");const r="rweb/pinnedTweets";var a=n("x5Pi"),s=n("G6rE"),c=n("SRyb");const l=o.a(r,"PIN"),d=o.a(r,"UNPIN"),h=e=>(t,n,{api:r,featureSwitches:d})=>o.c(t,{params:{id:e},request:r.Tweets.pin})({actionTypes:l,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(o=>{const r=s.e.selectLoggedInUser(n());if(void 0===r)return;const l=r.id_str,h=r.pinned_tweet_ids_str&&r.pinned_tweet_ids_str[0];t(s.e.patchUser(l,{pinned_tweet_ids_str:[e]}));const u=Object(c.a)(d,l,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(i.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(i.k({id:e,content:{socialContext:{generalContext:a.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,n,{api:r,featureSwitches:a})=>o.c(t,{params:{id:e},request:r.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const r=s.e.selectLoggedInUser(n());if(void 0===r)return;const l=r.id_str;return t(s.e.patchUser(l,{pinned_tweet_ids_str:[]})),[Object(c.a)(a,l,"default").removeTweets({[e]:!0}),Object(c.a)(a,l,"default").injectEntry(i.k({id:e,sortIndex:e}),{atTop:!1})]})),p=(e,t)=>{const n=s.e.selectLoggedInUser(e);return!(null==n||!n.pinned_tweet_ids_str)&&n.pinned_tweet_ids_str[0]===t}},kXdP:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),r=n("t62R"),a=n("OiMc");const s=n("rHpw").a.create((e=>({hoverText:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},popover:{maxWidth:`calc(${e.spaces.space64} * 4)`,minWidth:e.spaces.space64}})));t.a=e=>{const{children:t,hoverText:n}=e;return i.a.createElement(a.a,{contentStyle:s.popover,enableHover:!0,renderContent:()=>i.a.createElement(r.b,{style:s.hoverText},n),withArrow:!0},t)}},pbku:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=Object.freeze({ON_BLOCK_AUTHOR:"onBlockAuthor",ON_LINGER:"onLinger",ON_IS_RELEVANT:"onIsRelevant",ON_SHOW_MORE:"onShowMore",ON_LIKE:"onLike",ON_FOLLOW:"onFollow"})},tvEI:function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("VPAj"),r=n("ERkP"),a=n.n(r),s=n("b5s6"),c=n("nBUg");const l=({entry:e,isCarouselItem:t,isCondensed:n})=>{const{forwardPivot:o,id:i}=e.content;return a.a.createElement(c.b.Provider,{value:{isCarouselItem:()=>t}},a.a.createElement(s.a,{forwardPivotInfo:o,isCondensed:n,style:t?d.carouselQuoteTweet:d.quotedTweet,tweetId:i}))},d=n("rHpw").a.create((e=>({quotedTweet:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginTop:0,marginBottom:e.componentDimensions.gutterVertical},carouselQuoteTweet:{marginTop:0,marginBottom:0,marginRight:0,marginLeft:e.spaces.space12,width:"312px",height:"172px"}})));var h=a.a.memo(l),u=n("M6G0");t.default=e=>o.b({component:h,divider:e.divider||{},defaultScribeNamespace:u.a,getBehavioralEventContextOverride:u.c,getScribeDataItem:u.d,isFocusable:Object(i.a)(!0),shouldDisplayBorder:Object(u.f)(!!e.isCarouselItem)}).getHandler((()=>({...e})))},wtjx:function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y}));var o=n("Ssj5"),i=n("RqPI");const r="recentSearches",a="rweb.recentSearches",s=e=>(t,n,{userPersistence:o})=>o.set(a,{recentSearches:e}).catch((()=>{Promise.resolve()})),c=(e,t)=>{let n=[];if(e&&e.user){const o=e.user;n=t.filter((e=>e.keyword||e.topic||e.event||e.user&&e.user.id!==o.id))}else if(e&&e.topic){const o=e.topic;n=t.filter((e=>e.keyword||e.user||e.event||e.topic&&e.topic.id!==o.id))}else if(e&&e.event){const o=e.event;n=t.filter((e=>e.keyword||e.user||e.topic||e.event&&e.event.id!==o.id))}else if(e&&e.keyword){const o=e.keyword;n=t.filter((e=>e.keyword&&e.keyword.query!==o.query||e.user||e.topic||e.event))}return n},l={fetched:!1,recentSearches:[]};const d=e=>e.recentSearches.recentSearches,h=e=>d(e)[0]||null,u=e=>e.recentSearches.fetched,p="rweb/recentSearches/INIT_FROM_CACHE",m=e=>({type:p,payload:e}),_="rweb/recentSearches/REMOVE_QUERY",w=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:_});const r=n().recentSearches;return Object(i.o)(n())?t(s(r.recentSearches)):Promise.resolve()},b="rweb/recentSearches/CLEAR_ALL",C=()=>(e,t,{userPersistence:n})=>{e({type:b});const o=t().recentSearches;return Object(i.o)(t())?e(s(o.recentSearches)):Promise.resolve()},v="rweb/recentSearches/ADD_QUERY",g=e=>(t,n,{userPersistence:o})=>{t({payload:e,type:v});const r=n().recentSearches;return Object(i.o)(n())?t(s(r.recentSearches)):Promise.resolve()},y=()=>(e,t,{userPersistence:n})=>t().recentSearches.fetched?Promise.resolve():e(((e,t,{userPersistence:n})=>{const o=t();return Object(i.o)(o)?n.get(a).then((t=>{e(m(t))})).catch((()=>{e(m())})):(e(m()),Promise.resolve())}));o.a.register({[r]:function(e=l,t){switch(t.type){case v:{const n=t.payload,o=n?c(n,e.recentSearches):[];return o.length>49&&o.splice(49,1),n&&o.unshift(n),{...e,recentSearches:o}}case _:{const n=t.payload,o=n?c(n,e.recentSearches):[];return{...e,recentSearches:o}}case b:return{fetched:!0,recentSearches:[]};case p:return{...e,...t.payload,fetched:!0};default:return e}}})},xZXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));var o=n("97Jx"),i=n.n(o),r=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),a=n.n(r),s=n("ZyXd"),c=n("TZwD"),l=n("RqPI"),d=n("1YZw"),h=n("6rlp"),u=n("0pUJ"),p=n("Fmkq"),m=n("j7tW"),_=n("Zejx"),w=n("XOJV"),b=n("D5n3"),C=n("G6rE"),v=n("Ig1G"),g=n("jL08"),y=n("eSoz"),f=n("rxPX"),k=n("0KEI"),I=n("EGrD"),T=n("x5Pi"),E=n("P1r1");const A=(e,{tweetId:t})=>Object(m.b)(e,t),x=(e,t)=>t.tweetId,S=(e,{urtAdvertiser:t,urtPromotedContent:n})=>{if(e&&n){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:n.adMetadataContainer,disclosure_type:n.disclosureType,experiment_values:n.experimentValues,impression_id:n.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:n.clickTrackingInfo,...o}}}return e},P=(e,{socialContext:t})=>t,O=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?_.a.select(e,n.topicId):void 0},D=(e,t)=>{const n=t.tweetId,o=n&&w.a.select(e,n);return o?Object(y.g)(e,o):void 0},F=(e,t)=>{const n=w.a.createHydratedTweetSelector(x)(e,t),o=null==n?void 0:n.quoted_status;return o?Object(y.g)(e,o):void 0},M=(e,{urtPromotedContent:t})=>t,R=(e,{urtPromotedContent:t})=>t?C.e.select(e,t.advertiserId):null,U=(e,t)=>t.contextTweetId;var L=Object(f.a)().propsFromState((()=>({adFreeArticleDomains:I.c,articleDomains:g.b,community:D,contextTweet:w.a.createHydratedTweetSelector(U),displaySensitiveMedia:E.k,explicitSocialContext:P,isNsfwUser:E.t,isPinned:A,loggedInUser:C.e.selectLoggedInUser,quoteTweetCommunity:F,topic:O,tweet:w.a.createHydratedTweetSelector(x),urtAdvertiser:R,urtPromotedContent:M,userCountry:l.A,userLanguage:l.q}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,displaySensitiveMedia:i,explicitSocialContext:r,isNsfwUser:a,isPinned:s,loggedInUser:c,quoteTweetCommunity:l,topic:d,tweet:h,urtAdvertiser:u,urtPromotedContent:p,userCountry:m,userLanguage:_})=>{var w,b,C;const y=h&&Object(T.f)(h,null==c?void 0:c.id_str),f=null==h||null==(w=h.card)||null==(b=w.binding_values)||null==(C=b.domain)?void 0:C.string_value,k=Object(g.a)(t,f),I=null==h?void 0:h.quoted_status,E=I?Object(T.f)(I,null==c?void 0:c.id_str,l):void 0,A=E&&Object(T.e)(E),x=Object(v.g)(null==n?void 0:n.role),P=r||y;return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:i,isCardArticle:k,isNsfwUser:a,isPinned:s,loggedInUser:c,promotedContentAdvertiser:u||void 0,quoteTweetSocialContextProps:A,socialContext:P,socialContextColor:Object(v.j)(n,P),topic:d,tweet:S(h,{urtPromotedContent:p,urtAdvertiser:u}),userCountry:m,userLanguage:_,withCommunityModerationAuthority:x}})).propsFromActions((()=>({addToast:d.b,block:C.e.block,createLocalApiErrorHandler:Object(k.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:h.a,fetchAdFreeToken:I.a,fetchCommunityIfNeeded:y.c.fetchOneIfNeeded,fetchTopicIfNeeded:_.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:I.b,mute:u.a,onUnretweet:b.a,richScribeAction:p.richScribeAction,setArticlesVisited:g.e,undoTopicNotInterested:_.a.undoNotInterested,unblock:C.e.unblock,unmute:C.e.unmute,updateLongformNotesLearnMoreBanner:w.a.updateLongformNotesLearnMoreBanner}))).withAnalytics(),B=n("6bZg"),N=n("sCEu"),j=n("3XMw"),H=n.n(j),V=n("iFPY"),z=n("hACr"),W=n("jQy5"),q=n("3IPs"),K=n("Rp9C"),G=n("uArA"),X=n("X04g"),J=n("xM7j"),Q=n("BLtI"),Z=n("3zeG"),Y=n("IO7v"),$=n("Irs7");var ee=n("MWbm"),te=n("v6aA"),ne=n("E0cF"),oe=n("OIC0"),ie=n("+pKb"),re=n("/Ikv"),ae=n("Z6aJ"),se=n("lHOd"),ce=n("7JQg"),le=n("cFuS"),de=n("24HD"),he=n("4hQ9"),ue=n("fz3c"),pe=n("64vW"),me=n("rHpw"),_e=n("gZV8");function we(e){const{id:t,onFullyVisible:n,position:o,testID:i}=e,r=a.a.useMemo((()=>{switch(o){case"top":return be.topPixel;case"bottom":return be.bottomPixel;case"right":return be.rightPixel;case"left":return be.leftPixel;default:return}}),[o]),s=a.a.useCallback((e=>{e.visibleFraction()>=_e.c&&n()}),[n]);return a.a.createElement(ee.a,{style:[be.impressionPixelContainer,r],testID:i},a.a.createElement(_e.e,{key:t,onPlacementChange:s},a.a.createElement(ee.a,{style:be.impressionPixel})))}const be=me.a.create((e=>({impressionPixel:{visibility:"hidden",height:"1px",width:"1px"},impressionPixelContainer:{position:"absolute"},topPixel:{top:"0",right:"50%"},bottomPixel:{bottom:"0",right:"50%"},rightPixel:{right:"0",top:"50%"},leftPixel:{left:"0",top:"50%"}}))),Ce="top-impression-pixel",ve="bottom-impression-pixel",ge="right-impression-pixel",ye="left-impression-pixel";class fe extends a.a.PureComponent{constructor(...e){super(...e),this._areHeightsReady=()=>this.props.heightsReady,this._renderImpressionPixels=e=>a.a.createElement(a.a.Fragment,null,a.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"top",testID:Ce}),a.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"right",testID:ge}),a.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"bottom",testID:ve}),a.a.createElement(we,{id:this.props.id,onFullyVisible:this._handleOnVisible(e),position:"left",testID:ye})),this._handleOnVisible=e=>()=>{const{id:t,onVisible:n}=this.props,o=e();o&&this._lastVisibleId!==t&&n&&(this._lastVisibleId=t,n(o))},this._handlePlacementChange=e=>{const{id:t,onFullyVisible:n,onVisible:o,shouldUseImpressionPixel:i}=this.props;if(!this._areHeightsReady())return;i||this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const r=e.visibleFraction()>=_e.c,a=e.item.height>e.viewport.height,s=e.verticalOverlap()===e.viewport.height||a&&e.visibleFraction()>=_e.d;this._lastFullyVisibleId!==t&&(r||s)&&(this._lastFullyVisibleId=t,n&&n(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:n}}}=e,o={width:n,height:t};if(this._prevLayout&&(this._prevLayout.width!==n||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t,shouldUseImpressionPixel:n}=this.props;return a.a.createElement(_e.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},(({getScrollPlacement:t})=>a.a.createElement(a.a.Fragment,null,n&&this._areHeightsReady()&&this._renderImpressionPixels(t),e)))}}function ke(e){return a.a.createElement(pe.a.Consumer,null,(({heightsReady:t})=>a.a.createElement(fe,i()({},e,{heightsReady:t}))))}var Ie=n("fs1G"),Te=n("zTrU"),Ee=n("mN6z"),Ae=n("Cqiq");const xe=H.a.f277e94a,Se=H.a.e4c6c30a;class Pe extends a.a.Component{constructor(e,t){var n;super(e,t),this._shouldLogPromotedImpression=De.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Oe.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._shouldUseImpressionPixel=this.context.featureSwitches.isTrue("responsive_web_impression_pixel_enabled"),this._hasClaimsForAdFreeArticles=null==(n=this.context.userClaims)?void 0:n.isTrueAndEnabled("subscriptions_feature_1006"),this._twitterArticleLearnMoreBannerEnabled=this.context.featureSwitches.isTrue("responsive_web_twitter_article_view_enabled"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(de.j)({confirmation:Object(de.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:n}=this.props;t(ne.a.getOriginalTweet(n).id_str,{promotedContent:n.promoted_content}).catch(e(Y.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...n&&!o&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{var e,t;const{contextualClientEventInfo:n,conversationTreeMetadata:o,feedbackItems:i,focalTweetId:r,forwardPivotInfo:a,handleBlockTrigger:s,isNsfwUser:c,isPinned:l,onTweetDismiss:d,ruxContext:h,saveAsRecentSearch:u,scribeData:p,shouldStoreTypeaheadItem:m,socialContext:_,topicFollowPrompt:w,tweet:b,userCountry:C,userLanguage:v,withActionsDisabled:g,withCommunityModerationAuthority:y,withCurationMenu:f,withHideReply:k,withMuteConversation:I,withUnhideReply:T,withViewHiddenReplies:E}=this.props,A=ne.a.getOriginalTweet(b),x=this._getPromotedContent(),S=p.items&&p.items[0]&&p.items[0].suggestion_details,P=this._isSelected(),O=A&&A.card&&!b.is_quote_status?A.card.url:void 0,{loggedInUserId:D}=this.context,F=(null==A||null==(e=A.user)?void 0:e.id_str)===D,M=!A.in_reply_to_status_id_str&&F&&!A.community_id_str,R=this._renderConversationControlsTooltip(),U=null==(t=A.longformNotesLearnMore)?void 0:t.showBanner;return{excludeCardUrl:O,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:r===b.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:b.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:b.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onPromotedUserProfileCardClick:this._handlePromotedUserProfileCardClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,promotedContent:x,renderCurationActionMenu:f&&!b.isPreview?this._getRenderCurationActionMenu(a&&a.displayType,i,s,g,c,l,P,this._handleCaretClick,d,x,A,k,y,I,T,M,E,o,null==n?void 0:n.entityToken,R,C,v):void 0,saveAsRecentSearch:u,shouldStoreTypeaheadItem:m,showLongformNotesLearnMoreBanner:U,to:{state:{focal:A.id_str,socialContext:_,contextualClientEventInfo:n,contextTweetId:b.id_str,promotedContent:x,suggestionDetails:S,topicFollowPrompt:w},pathname:A.permalink,query:h?{cxt:h}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,ruxContext:n,scribeData:o,socialContext:i,topicFollowPrompt:r,tweet:a,tweetTextSize:s}=this.props,c=ne.a.getOriginalTweet(a),l=this._getPromotedContent(),d=o.items&&o.items[0]&&o.items[0].suggestion_details;return{excludeCardUrl:null==(e=a.card)?void 0:e.url,onAnalyticsClick:Ie.a,onAvatarClick:Ie.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:a.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:Ie.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:Ie.a,to:{state:{focal:c.id_str,socialContext:i,contextualClientEventInfo:t,contextTweetId:a.id_str,promotedContent:l,suggestionDetails:d,topicFollowPrompt:r},pathname:c.permalink,query:n?{cxt:n}:void 0},tweet:a,tweetTextSize:s||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:r}=this.props,{featureSwitches:a,loggedInUserId:s}=this.context;if(Object(he.e)({displaySensitiveMedia:e,featureSwitches:a,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:r}))return Object(he.d)(o,n,a)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:n,createLocalApiErrorHandler:o,tweet:i,unblock:r}=this.props,{user:a}=i,s=this._getPromotedContent(),l={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(c.a)({...l,block:t,unblock:r,user:a,promotedContent:s})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:n,mute:o,tweet:i,unmute:r}=this.props,{user:a}=i,s={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},c=this._getPromotedContent();return Object(W.a)({...s,mute:o,unmute:r,user:a,promotedContent:c})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n);if(!o)return!1;const i=!!o.community_id_str,r=o.user&&o.user.id_str===e,a=o.reply_count>0;return!o.in_reply_to_status_id_str&&r&&a&&!i&&t},this._getRenderCurationActionMenu=Object(Te.a)(((e,t,n,o,i,r,s,c,l,d,h,u,p,m,_,w,b,C,v,g,y,f)=>()=>a.a.createElement(Z.a,{behavioralEventEntityToken:v,feedbackItems:t,forwardPivotDisplayType:e,handleBlockTrigger:n,isDisabled:o,isNsfwUser:i,isPinned:r,onMenuClick:c,onTweetDismiss:l,promotedContent:d,tweet:h,userCountry:y,userLanguage:f,withChangeConversationControls:w,withChangeConversationControlsTooltip:g,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:m,withUnhideReply:_,withViewHiddenReplies:b}))),this._getDefaultScribeData=Object(Te.a)(((e,t,n,o,i,r)=>{const a=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:n,overflow:o,promotedContent:i,scribeData:r,tweet:a})=>({...t||{},...r||{},...e&&{click_tracking_embed_details:e},items:K.a.addTweetToItems(r?r.items:[],a,i,n,o)}))({tweet:e,promotedContent:t,scribeData:n,overflow:o,isSelected:this._isSelected(),contextualScribeData:i,clickTrackingEmbedDetails:r});return this._cachedFinalScribeData&&Object(Ee.a)(a,this._cachedFinalScribeData)||(this._cachedFinalScribeData=a),this._cachedFinalScribeData})),this._scribeAction=(e,t={},n,o,i)=>{var r;const{analytics:a,history:s,richScribeAction:c,scribeData:l,scribeNamespace:d,tweet:h}=this.props,u=null==(r=s.location.state)?void 0:r.overflow,p=this._getPromotedContent();let m=l;if(o){const e=K.a.getUserItem(h.user,p),t=m.items?[...m.items,e]:[e];m={...m,items:t}}if(i){const e={article_details:{is_ad_free:i}},t=m.items?[...m.items,e]:[e];m={...m,items:t}}c({...d,...e},{...this._getDefaultScribeData(ne.a.getOriginalTweet(h),p,m,u,a.contextualScribeData,n),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(le.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(le.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(le.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(s.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:n,tweet:o}=this.props,i=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),n.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(he.c)({tweet:o,loggedInUserId:t}),promotedContent:i},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const n=JSON.parse(window.sessionStorage.getItem(t))||0;n<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(n+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:n,log:o,tweet:i}=this.props,r=this._getPromotedContent();if(r){const{disclosure_type:a,impression_id:s}=r;o({disclosureType:a,itemId:i.id_str,itemType:le.c.TWEET,params:{event:e,impression_id:s,...t}}).catch(n())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(le.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(G.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(le.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(le.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(le.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,tweet:a}=this.props,s=le.a[t],c=B.a[t],l=this._getPromotedContent(),d=K.a.getClickTrackingEmbedDetails(l,n);if(s){const t=s===le.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}if(t===oe.a.MEDIA)return this._handleTweetClick(e);t===oe.a.URL&&d&&this._scribeAction({action:ie.b.CLICK_ID_EMBED},{},d);let h=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,c]=new N.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:a.user.id_str});s&&(c(e),h=!0)}if(t===oe.a.MENTION){const e=null!=n&&n.text?[{item_type:X.a.ItemType.USER,name:n.text,id:n.id_str}]:void 0;return this._scribeAction({action:c},{targets:e},void 0,void 0,h)}if(t===oe.a.HASHTAG){const e=null!=n&&n.text?[{name:n.text}]:void 0;return this._scribeAction({action:c},{targets:e},void 0,void 0,h)}if(t===oe.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:c},{interactive_text_details:{id:n.id}},void 0,void 0,h);c&&this._scribeAction({action:c},void 0,void 0,void 0,h)},this._handlePromotedUserProfileCardClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user_recommendation",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(le.b.SCREEN_NAME_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(le.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=o&&(null==(e=o.topicContext)?void 0:e.topicId);i&&n(i).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(this._isCommunitiesEnabled&&n){var o;const i=n.community_id_str,r=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),r&&t(r).catch(e())}},this._handleLongformNotesLearnMoreRender=()=>{const{tweet:e,updateLongformNotesLearnMoreBanner:t}=this.props,n=ne.a.getOriginalTweet(e),o=ne.a.hasLongformNoteUrl(n);e&&o&&this._twitterArticleLearnMoreBannerEnabled&&t(n.id_str)},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,analytics:o,createLocalApiErrorHandler:i,fetchAdFreeToken:r,isCardArticle:a,setArticlesVisited:s,tweet:c}=this.props;if(a&&this._isArticleNudgeEnabled){var l;const e=null==c||null==(l=c.card)?void 0:l.url;var d;if(e)s(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==c||null==(d=c.card)?void 0:d.url,in_reply_to_tweet_id:c.id_str}]}})}const h=null==c||null==(t=c.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&h){const[t,o]=new N.a(r,i()).getAdFreeArticlesClickHandler({destinationUrl:re.a.getBindingValue(h,"card_url"),linkDomain:re.a.getBindingValue(h,"domain"),adFreeArticleDomains:n});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:n}=this.props,{user:o}=n;e&&t&&t(X.a.ItemType.USER)&&e({user:{id:o.id_str,type:q.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:n}=e||{};return n&&t.id_str===n.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(le.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=ae.a.isPromoted(o)&&s.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(Ee.a)(this.props,e)||!Object(Ee.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._handleLongformNotesLearnMoreRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){var e;const{loggedInUserId:t}=this.context,{conversationPosition:n,conversationTreeMetadata:o,showWithheldBannerOnMyTweets:i,tweet:r}=this.props;if(!this._shouldRender())return o?a.a.createElement(J.a,{conversationPosition:n,conversationTreeMetadata:o},Se):null;const s=(null==r||null==(e=r.user)?void 0:e.id_str)===t,c=Object(Ae.b)(ne.a.getOriginalTweet(r).withheld_scope),l=s&&!r.retweeted_status,d=l&&"user"===ne.a.getOriginalTweet(r).withheld_scope&&!i,h=Object(ue.h)(r)&&!this.state.displayReported;return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(ee.a,null,d?null:this._renderWithheldTweet(),l?this._renderContent():null):h?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:n,tweet:o,tweetId:i}=this.props;if(o&&"focal_module"===(null==e?void 0:e.component)&&n.location.pathname.indexOf("/intent/")>-1&&n.location.query.tweet_id===i)return a.a.createElement(V.a,{forwardPivotInfo:t,history:n,location:n.location,tweetId:o.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=n.user.id_str,i=ne.a.getOriginalTweet(n),{loggedInUserId:r}=this.context,s=!!r&&r===o&&i.retweeted,c=i.withheld_text||i.text,l=i.withheld_entities||i.entities,d=n.user.id_str===r;return a.a.createElement(Ae.a,{conversationPosition:e,conversationTreeMetadata:d?void 0:t,displayTextRange:i.display_text_range,entities:l,lang:i.lang,onUnretweet:s?this._handleUnretweet:void 0,showUnretweetButton:s,text:c})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n),i=Object(ue.c)(o.reportingVisibility);return a.a.createElement(J.a,{actionText:xe,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},i)}_renderContent(){var e;const{allowDownvote:t,analytics:n,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:r,conversationPosition:s,conversationTreeMetadata:c,displayBlocked:l,forwardPivotInfo:d,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,history:_,hitHighlights:w,injectedFeedbackItem:b,innerForwardPivotInfo:C,isReaderMode:v,isUnread:g,linkify:y,loggedInUser:f,nudges:k,promotedContentAdvertiser:I,quoteTweetSocialContextProps:T,quotedTweetTombstoneInfo:E,replyBadge:A,replyContext:x,rootTweetAuthorId:S,scribeData:P,scribeNamespace:O,shouldSelfThreadIncludeAvatar:D,socialContext:F,socialContextColor:M,topic:R,topicFollowPrompt:U,tweet:L,withActions:B,withActionsDisabled:N,withBirdwatchPivots:j,withCardLinks:H,withInlineMedia:V,withQuotedTweetLinks:W,withRemoveFromBookmarks:q,withSelfThread:K,withSocialContext:G,withUserPresence:X}=this.props,{enableKeyboardShortcuts:J}=this.state,Z=ne.a.getOriginalTweet(L),Y=this._getPromotedContent(),$=Object(Ee.a)(this._cachedScribeNamespace,O)?this._cachedScribeNamespace:this._cachedScribeNamespace=O,ee=null==(e=_.location.state)?void 0:e.overflow,te={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:i,contextualClientEventInfo:r,conversationPosition:s,conversationTreeMetadata:c,displayBlocked:l,enableKeyboardShortcuts:J,forwardPivotInfo:d,nudges:k,hasModeratedReplies:h,hideConversationControlsEducationText:u,hideExclusivityInfoEducationTextInReplies:p,hideTrustedFriendsEducationTextInReplies:m,hitHighlights:w,injectedFeedbackItem:b,innerForwardPivotInfo:C,linkify:y,loggedInUser:f,promotedContentAdvertiser:I,quotedTweetTombstoneInfo:E,quoteTweetSocialContextProps:T,replyBadge:A,replyContext:x,rootTweetAuthorId:S,shouldSelfThreadIncludeAvatar:D,socialContext:F,socialContextColor:M,topic:R,topicFollowPrompt:U,tweet:L,withActions:B,withActionsDisabled:N,withBirdwatchPivots:j,withCardLinks:H,withInlineMedia:V,withQuotedTweetLinks:W,withRemoveFromBookmarks:q,withSelfThread:K,withSocialContext:G,withUnreadStyles:g,withUserPresence:X},...v?this._getReaderModeTweetProps():this._getBaseTweetProps()},oe=a.a.createElement(ce.c,{data:this._getDefaultScribeData(Z,Y,P,ee,n.contextualScribeData,void 0),namespace:$},a.a.createElement(z.a,{enabled:!!J,handlers:this._getShortcutKeyHandlers()},a.a.createElement(Q.b,te)));return Y?a.a.createElement(ke,{id:L.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression,shouldUseImpressionPixel:this._shouldUseImpressionPixel},oe):oe}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(ue.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:n,focalTweetId:o,tweet:i}=this.props,r=ne.a.getOriginalTweet(i),a=!(null==i||null==(e=i.user)||!e.blocking)||!(null==r||null==(t=r.user)||!t.blocking);return o!==i.id_str&&(!n&&a)}}Pe.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},Pe.contextType=te.a;const Oe=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),De=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Oe(e,t.item)),Fe=e=>{const t=a.a.useContext(se.a);return((e,t)=>{const n=Object($.b)();a.a.useEffect((()=>{t||n.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[n,t,e])})(e.tweetId,e.tweet),e.tweet?a.a.createElement(Pe,i()({},e,{history:t,tweet:e.tweet})):null};Fe.defaultProps=Pe.defaultProps;const Me=L(Fe);t.b=Object(ce.a)({component:"tweet"})(Me)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.tweetHandler.d677b557.js.map