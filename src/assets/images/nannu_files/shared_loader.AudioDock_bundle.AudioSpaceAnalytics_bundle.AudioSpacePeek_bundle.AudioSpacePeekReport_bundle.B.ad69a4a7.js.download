(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+cVS":function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h}));a("kYxP");var n=a("Q/sS"),i=a("ERkP"),r=a.n(i),o=a("26a9"),s=a("2nUo"),c=a("9xb5"),l=a("MWbm"),u=a("rHpw"),d=a("t62R"),p=a("VKFJ");function m(e){const t=h(e.audioSpaceId,c.a);const a=t.user.display_name||"",n=t.audioLevel;return r.a.createElement(f,{displayName:a,audioLevel:n})}function h(e,t){const{speakers:a}=Object(p.c)(e,t),n=t.useGuestsLookup(),[i]=a,o=r.a.useRef({participant:i,audioLevel:0}),s={participant:i,audioLevel:0};return a.forEach((e=>{const t=p.b.isParticipantHost(e.kind)||!e.periscopeUserId?"host":e.periscopeUserId,a=n[t];a&&a.audioLevel>s.audioLevel&&e.user.display_name&&(s.participant=e,s.audioLevel=a.audioLevel)})),s.audioLevel>0?(o.current.participant=s.participant,o.current.audioLevel=s.audioLevel,{...o.current.participant,audioLevel:o.current.audioLevel}):{...o.current.participant,audioLevel:0}}function f(e){return r.a.createElement(l.a,{style:y.activeSpeakerIndicatorContainer},r.a.createElement(b,null),r.a.createElement(o.a,{audioLevel:e.audioLevel,size:u.a.theme.spacesPx.space16,withPersistZeroLevel:!0}),r.a.createElement(g,{audioLevel:e.audioLevel,displayName:e.displayName}))}function b(){return n.q()?r.a.createElement(s.a,{style:y.superFollowsIcon,testID:"superfollows-icon"}):null}function g(e){const t=n.m(),a=[y.activeSpeakerIndicatorName,0===e.audioLevel&&y.activeSpeakerIndicatorNameInactive,t?{color:t}:void 0];return r.a.createElement(d.b,{style:a},e.displayName)}const y=u.a.create((e=>({activeSpeakerIndicatorContainer:{flexDirection:"row",alignItems:"center",width:"100%"},activeSpeakerIndicatorName:{color:e.colors.purple500,marginLeft:e.spacesPx.space4,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},activeSpeakerIndicatorNameInactive:{opacity:.6},superFollowsIcon:{color:e.colors.gray700,height:e.spaces.space16,marginRight:e.spaces.space4,width:e.spaces.space16}})))},"0nhk":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("97Jx"),i=a.n(n),r=a("ERkP"),o=a.n(r),s=a("3XMw"),c=a.n(s),l=a("dgjd"),u=a("/yvb"),d=a("rHpw"),p=a("fn9Y"),m=a("I6Uj");function h(e){const{audioSpaceId:t,type:a}=e,{space:n,utils:i}=Object(l.a)(t),r=i.hashtags().join(" ");let s=f;"icon"===a?s=b:"icon-borderless"===a&&(s=g);const c=i.is.replayable?void 0:w.dmText,u=Boolean(null==n?void 0:n.is_employee_only);return o.a.createElement(m.a.Custom,{ButtonComponent:s,isFixed:e.isFixed,pullRight:e.pullRight,scribeNamespace:S,url:y(t)},u?null:o.a.createElement(m.a.Action,{scribeNamespace:E.tweet,shareText:r,type:"tweet"}),o.a.createElement(m.a.Action,{scribeNamespace:E.dm,shareText:c,type:"dm"}),o.a.createElement(m.a.Action,{scribeNamespace:E.copy,shareText:r,type:"copy"}),o.a.createElement(m.a.Action,{scribeNamespace:E.via,shareText:r,type:"via"}))}function f(e){return o.a.createElement(u.a,i()({},e,{borderColor:"transparent",style:v.shareButton,type:"primaryOutlined"}),w.share)}function b(e){return o.a.createElement(u.a,i()({},k,{type:"primaryOutlined"},e))}function g(e){return o.a.createElement(u.a,i()({},k,e))}const y=e=>`https://twitter.com/i/spaces/${e}`,S={page:"audiospace",component:"share_sheet"},E={tweet:{element:"send_tweet",action:"click"},dm:{element:"send_dm",action:"click"},copy:{element:"link",action:"click"},via:{element:void 0,action:"impression"}},v=d.a.create((e=>({shareButton:{width:"100%"}}))),w={share:c.a.ifea3114,dmText:c.a.c63dd2cc},k={accessibilityLabel:w.share,borderColor:"transparent",color:"text",hoverLabel:{label:w.share},icon:o.a.createElement(p.a,null),size:"medium"}},"26a9":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("97Jx"),i=a.n(n),r=a("Q/sS"),o=a("ERkP"),s=a.n(o),c=a("n7AW");function l(e){const t=r.m();return s.a.createElement(c.a,i()({},e,{color:t}))}},"2C8o":function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return C})),a.d(t,"c",(function(){return x}));a("kYxP"),a("MvUL");var n=a("Q/sS"),i=a("ERkP"),r=a.n(i),o=a("Chkh"),s=a("Xda3"),c=a("ssnq");const l=new c.a({liveCaptions:[],pastCaptions:[],currentCaptionSequenceId:0}),u=l;function d(){u.reset()}function p(){const e=n.s();return r.a.useEffect((()=>{if(e!==n.c.On)return;const t=o.a.subscribe(s.a.ChatCaption,b),a=o.a.subscribe(s.a.ServerAudioTranscription,g);return function(){t(),a()}}),[e]),l.useSlice((e=>[...e.pastCaptions,...e.liveCaptions]))}function m(){return l.useSlice((e=>{const{liveCaptions:t,pastCaptions:a}=e;return 0!==t.length||0!==a.length}))}function h(e){l.setState((t=>{e.filter(k).forEach((e=>{const a=e.body.body,n=e.data.sender.twitter_id,i=w(t,n);-1===i?y(t,e):function(e,t){const{longer:a,shorter:n}=e.length<t.length?{longer:t,shorter:e}:{longer:e,shorter:t};if(0===a.length)return 1;return(a.length-function(e="",t=""){const a=Array(t.length+1).fill(null).map((()=>Array(e.length+1).fill(null)));for(let t=0;t<=e.length;t+=1)a[0][t]=t;for(let e=0;e<=t.length;e+=1)a[e][0]=e;for(let n=1;n<=t.length;n+=1)for(let i=1;i<=e.length;i+=1){const r=e[i-1]===t[n-1]?0:1;a[n][i]=Math.min(a[n][i-1]+1,a[n-1][i]+1,a[n-1][i-1]+r)}return a[t.length][e.length]}(a,n))/parseFloat(a.length)}(a,t.liveCaptions[i].text)>.1?S(t,e,i):v(t,e,i)}))}))}function f(e){l.setState((t=>{e.filter(k).forEach((e=>{const a=e.data.sender.twitter_id,n=w(t,a);e.body.final?function(e,t,a){const n=t.data.sender.twitter_id;let i;if(a>-1){const[t]=e.liveCaptions.splice(a,1);i=t.sequenceId}else e.currentCaptionSequenceId+=1,i=e.currentCaptionSequenceId;const r=x(t,{final:!0,sequenceId:i});e.pastCaptions=[...e.pastCaptions,r],E(e,n,t.timestamp)}(t,e,n):-1===n?y(t,e):!function(e,t,a){let n=!1;const i=e.liveCaptions[a].text,r=t.body.body;if(!t.body.final&&r.length>0&&i.length>0){n=r.length/i.length<.2}return n}(t,e,n)?S(t,e,n):v(t,e,n)}))}))}function b(e){return h(e),{clearHeapForMessageType:!0}}function g(e){return f(e),{clearHeapForMessageType:!0}}function y(e,t){const a=t.data.sender.twitter_id;e.currentCaptionSequenceId+=1;const n=x(t,{sequenceId:e.currentCaptionSequenceId});return e.liveCaptions.push(n),E(e,a,t.timestamp),n}function S(e,t,a){const[n]=e.liveCaptions.splice(a,1),{sequenceId:i,timestamp:r}=n,o=x(t,{sequenceId:i,timestamp:r});return e.liveCaptions.push(o),o}function E(e,t,a){e.liveCaptions.filter((e=>!(e.speaker.id_str===t)&&a-e.timestamp>250)).forEach((t=>{const a=e.liveCaptions.findIndex((e=>e.sequenceId===t.sequenceId)),[n]=e.liveCaptions.splice(a,1);e.pastCaptions.push(n)}))}function v(e,t,a){const n=t.data.sender.twitter_id,[i]=e.liveCaptions.splice(a,1);i.final=!0,e.pastCaptions=[...e.pastCaptions,i];const r=y(e,t);return E(e,n,t.timestamp),r}function w(e,t){return e.liveCaptions.findIndex((e=>e.speaker.id_str===t))}function k(e){const{body:{body:t}}=e;return!!t&&t.length>0}function C(e){const{body:{body:t},type:a}=e;return s.a.Chat===a&&t.startsWith("[cc]")}function x(e,t){const{body:{final:a},data:{sender:n,sender:{twitter_id:i}},timestamp:r}=e;let{body:{body:o}}=e;const{sequenceId:s}=t;return o=o.replace(/^\[cc\]\s?/,""),{final:a,sequenceId:s||r,speaker:{id_str:i,name:n.display_name,profile_image_url_https:n.profile_image_url,screen_name:n.username},text:o,timestamp:r,...t}}},"4EYz":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("97Jx"),i=a.n(n),r=a("ERkP"),o=a.n(r),s=a("tM6R"),c=a("fs1G"),l=a("0nhk"),u=a("MWbm"),d=a("t62R"),p=a("fzjU"),m=a("/yvb"),h=a("efqG"),f=a("cm6r"),b=a("rHpw"),g=a("3XMw"),y=a.n(g),S=a("hOZg"),E=a("7Mjr");function v(e){if(e.count<1)return null;const t={count:e.count,labelType:"otherListeners"};return o.a.createElement(u.a,{style:I.otherParticipantsWrapper},o.a.createElement(k,e,o.a.createElement(u.a,{style:I.otherParticipantsContainer},o.a.createElement(u.a,{style:I.otherParticipantsText},o.a.createElement(d.b,{size:x.fontSize,weight:"bold"},o.a.createElement(p.a.ParticipantsCount,t))),o.a.createElement(C,e))))}function w(e){const{audioSpaceId:t,dismiss:a,type:n,...i}=e,r=o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{style:I.popoverSheetDescription},o.a.createElement(d.b,{color:"gray700",size:"body"},o.a.createElement(y.a.I18NFormatMessage,{$i18n:"b9c4cfcb"},o.a.createElement(d.b,{color:"text",link:s.a.help,withUnderline:!0},y.a.g6469591)))),o.a.createElement(d.b,{size:"body",weight:"bold"},P.shareWithPeople),o.a.createElement(u.a,{style:I.popoverShareButtonContainer},o.a.createElement(l.a,{audioSpaceId:t})));return"popover"===n?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{style:I.popoverTitle},o.a.createElement(d.b,{size:"title4",weight:"heavy"},o.a.createElement(p.a.ParticipantsCount,i))),r):o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{style:I.popoverSheetTitleContainer},o.a.createElement(u.a,{style:I.popoverSheetTitle},o.a.createElement(d.b,{size:"headline2",weight:"heavy"},o.a.createElement(p.a.ParticipantsCount,i))),o.a.createElement(m.a,{accessibilityLabel:P.close,borderColor:"transparent",color:"text",hoverLabel:{label:P.close},icon:o.a.createElement(S.a,{style:I.popoverSheetClose}),onPress:a,size:"medium"})),r)}function k(e){if(!e.interactive)return e.children;const t={count:e.count,labelType:"otherListeners"};return o.a.createElement(h.a,{renderContent:function(a,n){return o.a.createElement(w,i()({audioSpaceId:e.audioSpaceId,dismiss:a,type:n},t))},withArrow:!0,withDefaultContainer:!0},o.a.createElement(f.a,{accessibilityLabel:p.a.ParticipantsCount.generateText(t),onPress:c.a},e.children))}function C(e){return e.interactive?o.a.createElement(u.a,{style:I.otherParticipantsArrow},o.a.createElement(E.a,null)):null}const x={fontSize:"body"},I=b.a.create((e=>{const t=e.lineHeightsPx[x.fontSize],a={flexDirection:"row",alignItems:"center",justifyContent:"center",flex:1,paddingVertical:e.spacesPx.space12,paddingLeft:e.spacesPx.space24,paddingRight:e.spacesPx.space16,borderWidth:e.borderWidthsPx.small,borderRadius:e.borderRadiiPx.medium,borderColor:e.colors.gray50},n={width:t,height:t,color:e.colors.text},i={marginVertical:e.spacesPx.space12},r={color:e.colors.gray300,width:e.spacesPx.space24,height:e.spacesPx.space24};return{otherParticipantsWrapper:{width:"100%"},otherParticipantsContainer:a,otherParticipantsText:{flex:1},otherParticipantsArrow:n,popoverTitle:i,popoverSheetTitleContainer:{flexDirection:"row",alignItems:"center",marginVertical:e.spacesPx.space12},popoverSheetTitle:{flex:1},popoverSheetClose:r,popoverSheetDescription:{marginTop:e.spacesPx.space16,marginBottom:e.spacesPx.space12},popoverShareButtonContainer:{marginVertical:e.spacesPx.space16}}})),P={close:y.a.ia5e7488,share:y.a.ifea3114,shareWithPeople:y.a.i7f853ea}},"8A5z":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),r=a("Lsrn"),o=a("k/Ka");const s=(e={})=>Object(o.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M9.008 15.205c-1.766 0-3.187-1.35-3.187-3.196v-.02c0-1.8 1.388-3.214 3.26-3.214 1.26 0 2.075.53 2.62 1.29L10.494 11c-.306-.42-.798-.695-1.357-.695-.93 0-1.684.754-1.684 1.684s.755 1.684 1.685 1.684c.578 0 1.087-.292 1.39-.735l1.22.87c-.583.802-1.368 1.394-2.737 1.394h-.002zm6.582 0c-1.764 0-3.185-1.35-3.185-3.196v-.02c0-1.8 1.386-3.214 3.258-3.214 1.262 0 2.075.53 2.622 1.29l-1.21.935c-.305-.42-.797-.694-1.356-.694-.93 0-1.685.754-1.685 1.684s.754 1.685 1.684 1.685c.577 0 1.086-.292 1.39-.735l1.22.87c-.584.803-1.37 1.395-2.738 1.395z"}),i.a.createElement("path",{d:"M20.5 2.02h-17c-1.24 0-2.25 1.007-2.25 2.247v15.507c0 1.238 1.01 2.246 2.25 2.246h17c1.24 0 2.25-1.008 2.25-2.246V4.267c0-1.24-1.01-2.247-2.25-2.247zm.75 17.754c0 .41-.336.746-.75.746h-17c-.414 0-.75-.336-.75-.746V4.267c0-.412.336-.747.75-.747h17c.414 0 .75.335.75.747v15.507z"})));s.metadata={width:24,height:24},t.a=s},"9xb5":function(e,t,a){"use strict";const n=new(a("nAvj").a);t.a=n},AMlz:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("Q/sS"),i=a("ERkP"),r=a.n(i),o=a("v6aA");function s(){const e=n.p(),{featureSwitches:t}=r.a.useContext(o.a),a=t.getNumberValue("voice_rooms_clip_duration");return{isCreationEnabled:e&&t.isTrue("voice_rooms_clipping_enabled"),durationMs:1e3*a,durationSeconds:a}}},Chkh:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));a("kYxP");var n=a("2C8o"),i=a("9xb5"),r=a("Xda3"),o=a("ssnq");function s(e,t){let a,n=0,i=e.length-1,r=-1,o=-1;if(n>i)return-1;for(;n<=i;){if(r=Math.floor((n+i)/2),o=t(e[r]),void 0!==a&&0!==o)return a;o>=0?n=r+1:i=r-1,0===o&&(a=r)}return void 0!==a||o>0?r:r-1}t.a=new function(){let e,t=!1,a=0,c=0,l=0,u=0;const d={},p=new o.a({});function m(){t=!1,clearTimeout(e)}function h(e,t){if(Array.isArray(d[e])){const a=s(d[e],(e=>t.ntpTimeInSeconds-e.ntpTimeInSeconds));d[e].splice(a+1,0,t)}else d[e]=[t]}function f(){!function(){function e(){return Object.keys(d).filter((e=>d[e]&&d[e].length>0)).map((e=>Number(e))).map((e=>e))}p.setState((t=>{let n={...t};return c===a?(u+=1,l=a+100*u/1e3):(u=0,l=c=a),e().forEach((e=>{const a=d[e];if(!a||0===a.length)return;const i=t[e]||[],r=s(a,(e=>l-e.ntpTimeInSeconds));if(r<0)return;const o=a.splice(0,r+1);n={...n,[e]:[...i,...o]}})),n}))}(),t&&(e=setTimeout(f,100))}return i.a.store.subscribe((e=>{var t;const a=e.state;return null==a||null==(t=a.tracks[a.currentTrackId])?void 0:t.id3NtpTime}),(e=>{e&&(a=e)})),{publish:function(e){setTimeout((()=>{!function(e){switch(e.type){case r.a.Chat:Object(n.a)(e)&&h(r.a.ChatCaption,e);break;case r.a.ServerAudioTranscription:case r.a.Heart:case r.a.HydraControlMessage:h(e.type,e)}}(e)}))},reset:function(){m();for(const e in d)delete d[e];a=0,c=0,l=0,u=0,p.reset()},setCurrentNtpTimeSeconds:function(e){a=e},stacks:d,start:function(){t=!0,f()},stop:m,store:p,subscribe:function(e,t){return p.subscribe((t=>t[e]||[]),(a=>{if(a&&a.length>0){t(a).clearHeapForMessageType&&(n=e,p.setState((e=>({...e,[n]:[]}))))}var n}))}}}},"G/+M":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return p}));a("kYxP");var n=a("ERkP"),i=a.n(n),r=a("v6aA"),o=a("Chkh"),s=a("Xda3");const c=new(a("ssnq").a)({}),l=c;function u(e){return c.useSlice((t=>e?t[e]:null))}function d(e){c.setState((t=>{var a;null==(a=t[e.participantId])||a.shift()}))}function p(){const{featureSwitches:e}=i.a.useContext(r.a),t=e.isTrue("voice_rooms_expanded_dock_reactions");i.a.useEffect((()=>{if(t){const e=o.a.subscribe(s.a.Heart,m);return function(){e()}}}),[t])}function m(e){return c.setState((t=>{for(const n of e){var a;const{reaction:e,sender:i}=h(n);t[i.participantId]||(t[i.participantId]=[]),null==(a=t[i.participantId])||a.push(e)}})),{clearHeapForMessageType:!0}}function h(e){const t=e.data.sender.user_id;return{reaction:{emoji:e.body.body,type:e.body.type,id:e.body.uuid,participantId:t},sender:{participantId:t,twitterId:e.data.sender.twitter_id}}}},HmZq:function(e,t,a){"use strict";a.d(t,"d",(function(){return p})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return f})),a.d(t,"e",(function(){return b}));var n=a("2C8o"),i=a("Q/sS"),r=a("G/+M"),o=a("b2fv"),s=a("VY6S"),c=a("9xb5"),l=a("Chkh"),u=a("Xda3");let d=[];function p(){d=[]}function m(e,t){return d.filter((a=>a.type===u.a.ServerAudioTranscription&&a.body.final&&a.body.ntpTimeInSeconds>=e&&a.body.ntpTimeInSeconds<=t&&Boolean(a.body.body))).map((e=>n.c(e,{})))}function h(...e){e.forEach((e=>{const t=Object(l.b)(d,(t=>e.ntpTimeInSeconds-t.ntpTimeInSeconds));d.splice(t+1,0,e)}))}function f(){var e;const t=null==(e=c.a.getCurrentTrack())?void 0:e.id3NtpTime;t&&g(t)}const b=Object(s.a)((e=>{const t=i.k.getState().startTimeMs;if(!t)return;const a=t+e;g(Object(o.a)(a))}),100);function g(e){l.a.reset(),n.b(),r.b.reset();const t=Object(l.b)(d,(t=>e-t.ntpTimeInSeconds));d.slice(t).forEach((e=>l.a.publish(e))),l.a.start()}},I6Uj:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n);function r(e){return null}var o=a("97Jx"),s=a.n(o),c=a("3XMw"),l=a.n(c),u=a("/yvb"),d=a("fn9Y");const p=l.a.c0530da6,m=l.a.ifea3114;var h=function(e){return i.a.createElement(u.a,{accessibilityLabel:p,hoverLabel:{label:m},icon:i.a.createElement(d.a,null),onPress:e.onPress,pullRight:!0,renderMenu:e.renderMenu,style:e.style,testID:e.testID,type:"primaryText"})},f="share-button",b="share-by-tweet",g=a("1YZw"),y=a("CaKu"),S=a("y+lG"),E=a("SrIh"),v=a("Irs7"),w=a("uDfI"),k=a("zCf4"),C=a("jwTb"),x=a("SOvA"),I=a("I/9y");const P={tweet:{isAvailable:()=>!0,scribeAction:"share_via_tweet",Icon:C.a,text:l.a.fcc684aa,testID:b},dm:{isAvailable:()=>!0,scribeAction:"share_via_dm",Icon:x.a,text:l.a.f61c4bb0},copy:{isAvailable:()=>y.a.isAvailable(),scribeAction:"copy_link",Icon:I.a,text:l.a.e05c00b4},via:{isAvailable:()=>"function"==typeof window.navigator.share,scribeAction:"share_via",Icon:d.a,text:l.a.if23a252}};function T(e){const t=Object(v.b)();return{getActionItem:function(e,t){const a=Object(w.c)(),n=Object(k.f)();return i.a.useMemo((()=>function(i){const{isAvailable:r,scribeAction:o,...s}=P[i.type];if(!r())return null;const c={...s};function l(){const r=i.shareText||e.shareText,s=e.url,c={...e.scribeNamespace,action:o,...i.scribeNamespace},l={text:r,url:s},u={analytics:t,dispatch:a,history:n,mergedScribeNamespace:c};!function(e,t,a){const n=()=>a.analytics.scribe(a.mergedScribeNamespace);switch(e){case"dm":return n(),void a.history.push({...R(t),pathname:"/messages/compose"});case"copy":return y.a.setString(Object(S.a)(t.url)),n(),void a.dispatch(Object(g.b)({text:O.copyLinkSuccessMessage}));case"tweet":return n(),void a.history.push({pathname:"/compose/tweet",...R(t),state:{positionCursorAtBeginning:!0}});case"via":return void window.navigator.share({text:t.text,url:Object(S.a)(t.url)}).then(n).catch((()=>{a.analytics.scribe({...a.mergedScribeNamespace,action:"share_error"})}));default:Object(E.a)(`[ShareButton] Unexpected share type [${e}]`)}}(i.type,l,u)}i.label&&(c.text=i.label);return{...c,onClick:l}}),[t,a,n,e.scribeNamespace,e.shareText,e.url])}(e,t),analytics:t}}const O={copyLinkSuccessMessage:l.a.f88553c8,shareTextPrefixFormatter:l.a.gb5851d7};function R(e){const t=e.url,a=e.text;return{query:{text:a?O.shareTextPrefixFormatter({prefix:a,url:t}):t}}}var _=a("mN6z");var M=a("mjJ+"),L=a("rHpw");const z={element:"share"};function j(e){const t=function(e){const t=i.a.useRef({previous:void 0});function a(e){return t.current.previous=e,e}const{previous:n}=t.current;return n&&(e===n||Object(_.a)(e,n))?n:a(e)}({...z,...e.scribeNamespace}),{analytics:a,getActionItem:n}=T({...e,scribeNamespace:t});const r=e.ButtonComponent||A;return i.a.createElement(r,{onPress:function(){const e={...t,action:"share_menu_click"};a.scribe(e)},pullRight:e.pullRight,renderMenu:function(t){const a=[];return e.children?i.a.Children.forEach(e.children,(e=>{if(!i.a.isValidElement(e))return;const t=n(e.props);t&&a.push(t)})):["tweet","dm","copy","via"].forEach((e=>{const t=n({type:e});t&&a.push(t)})),i.a.createElement(M.a,{isFixed:e.isFixed,items:a,onCloseRequested:t,shouldCloseOnClick:!0})}})}function A(e){return i.a.createElement(h,s()({},e,{style:H.button,testID:f}))}const H=L.a.create((e=>({button:{marginRight:e.spaces.space4}})));function D(e){const{copyLinkShareLabel:t,dmShareLabel:a,externalShareLabel:n,tweetShareLabel:o,...s}=e;return i.a.createElement(j,s,i.a.createElement(r,{label:o,type:"tweet"}),i.a.createElement(r,{label:a,type:"dm"}),i.a.createElement(r,{label:t,type:"copy"}),i.a.createElement(r,{label:n,type:"via"}))}D.Action=r,D.Custom=j;t.a=D},ISLN:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("ERkP"),i=a.n(n),r=a("Tg44"),o=a("+Eiw"),s=a("CDzS"),c=a("cm6r"),l=a("rHpw");function u({accessibilityLabel:e,audience:t,children:a,onPress:n,style:l}){const u=t===r.a.AudienceEnum.superFollowersOnly?o.a.Default:s.a.Default;return i.a.createElement(c.a,{accessibilityLabel:e,onPress:n,style:[d.button,l]},i.a.createElement(u,{style:d.gradient},a))}u.getHeightPx=function(e){return e.spacesPx.space48};const d=l.a.create((e=>({button:{overflow:"hidden",width:"100%",boxShadow:e.boxShadows.small,height:u.getHeightPx(e),borderRadius:e.spacesPx.space48},gradient:{height:"100%",justifyContent:"center",paddingHorizontal:e.spaces.space24}})))},LxAE:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));var n={};a.r(n),a.d(n,"buildPlayerProps",(function(){return H})),a.d(n,"buildDockConfig",(function(){return D}));var i={};a.r(i),a.d(i,"buildPlayerProps",(function(){return U})),a.d(i,"buildDockConfig",(function(){return q}));a("kYxP"),a("849X");var r=a("Nsgw"),o=a("OoQt"),s=a("Xda3"),c=a("ERkP"),l=a.n(c),u=a("QEWO"),d=a("v6aA"),p=a("97Jx"),m=a.n(p),h=a("HmZq"),f=a("Q/sS"),b=a("+cVS"),g=a("1YZw"),y=a("Chkh"),S=a("B/Qy"),E=a("3XMw"),v=a.n(E),w=a("9xb5"),k=a("dgjd"),C=a("xZGM"),x=a("uDfI"),I=a("zCf4");function P({audioSpaceId:e,isSideNavLayout:t}){return function(e){const{featureSwitches:t}=l.a.useContext(d.a),{utils:a}=Object(k.a)(e),n=Object(I.f)(),i=f.t(),r=l.a.useRef(!1);l.a.useEffect((()=>{r.current=!1}),[e]),l.a.useEffect((()=>{if(!r.current){const{isReplay:o}=f.k.getState();if(!o&&!a.is.Running){if(t.isTrue("voice_rooms_end_screen_participants")){const t=Object(S.a)(e);n.push(t)}i("exit"),r.current=!0}}}),[i,a.is.Running,e,t,n])}(e),function(e){const{space:t,utils:a}=Object(k.a)(e),n=w.a.useCurrentTrackDurationMs(),i=w.a.usePlayerApi(),r=null==t?void 0:t.replay_start_time,{scrubToFraction:o}=i||{},s=f.p();l.a.useEffect((()=>w.a.store.subscribe((({state:e})=>null==e?void 0:e.isPlaying),(e=>{e?y.a.start():y.a.stop()}))),[s]),l.a.useEffect((()=>{if(a.is.replayable&&a.is.joined&&o&&n&&r){o(1e3*r/n)}}),[o,a.is.replayable,a.is.joined,r,n])}(e),function(e){const t=f.u(),a=f.t(),{key:n,pathname:i}=Object(I.g)(),r=l.a.useRef({key:n,pathname:i});l.a.useEffect((()=>{if(!e){if(r.current.key!==n){O.spaceUrl.test(r.current.pathname)||"collapse"===t||a("collapse")}r.current.key=n,r.current.pathname=i}}),[n,i,e,a,t])}(t),function(){const{loggedInUserId:e}=l.a.useContext(d.a),t=f.t(),a=Object(x.c)();l.a.useEffect((()=>{function n(n){for(const r of n){switch(r.body.guestBroadcastingEvent){case s.b.RemoveParticipant:var i;((null==(i=r.body)?void 0:i.twitter_participant_ids)||[]).includes(e)&&(t("exit"),a(Object(g.b)({text:R.removedFromSpace})));break}}return{clearHeapForMessageType:!0}}if(e)return y.a.subscribe(s.a.HydraControlMessage,n)}),[e,t,a])}(),function(){const e=Object(x.c)(),{openSheet:t}=f.n(),a=f.u()===f.a.full,n=Object(x.d)(T);l.a.useEffect((()=>{let i;return a&&n&&(i=setTimeout((()=>{t(f.b.generalNux),e(Object(C.A)(C.v))}),2e3)),()=>clearTimeout(i)}),[a,n])}(),null}const T=e=>Object(C.E)(e,C.v);const O={spaceUrl:/i\/spaces\/.+/},R={removedFromSpace:v.a.jd859c9c};var _=a("fzjU"),M=a("xVWt");function L(e){const t=e.audioSpaceId,{space:a,utils:n}=Object(k.a)(t),i=n.title(),r=(null==a?void 0:a.participants.total)||0;return l.a.createElement(_.a,{activeSpeakers:l.a.createElement(b.a,{audioSpaceId:t}),isWide:e.isSideNavLayout,onDockPress:()=>{e.onToggleCollapsed(),n.scribe(":audiospace::dock::click")},onRequestClose:()=>{e.onRequestClose(),n.scribe(":audiospace::dock:close:click")},title:i,totalParticipants:r,wideDockMaxWidth:e.width})}function z(e){const{featureSwitches:t}=l.a.useContext(d.a),[a,n]=l.a.useState(!1);const i={...e,onToggleCollapsed:function(){a||f.d(),n(j)}},r=t.isTrue("voice_rooms_expanded_dock")&&!a;return l.a.createElement(l.a.Fragment,null,l.a.createElement(L,i),r?l.a.createElement(M.a,i):null,l.a.createElement(P,{audioSpaceId:e.audioSpaceId,isSideNavLayout:e.isSideNavLayout}))}function j(e){return!e}function A(e){const[t]=e.activeItem;return t?{activeItem:t}:null}function H({commonApi:e,context:t}){const a=A(t);if(!a)return{media:null};const{activeItem:n}=a;return{broadcastId:n.id,disablePlaybackCoordination:!0,mediaKey:n.mediaKey,isLive:n.isLive,onPlayerApi:function(e){w.a.setPlayerApi(n.id,e)},onPlayerState:function(e,t){w.a.setPlayerState(n.id,e,t)}}}function D({audioDockProps:e,commonApi:t,context:a,history:n}){const i=A(a);if(!i)return null;const{activeItem:r}=i;return l.a.createElement(z,m()({key:r.id,audioSpaceId:r.id,onRequestClose:function(){t.clear(),h.d(),f.k.reset()}},e))}a("MvUL");var B=a("zrc3"),F=a("abiO"),N=a("pupE");function V(e){var t;const[a]=e.activeItem,n=e.hydrateVoiceTweetTrack(a.conversationId),i=Object(B.a)(n.tweets,(e=>e.id_str===a.id)),r=n.tweets[i];if(!r)return null;const[o]=(null==(t=r.extended_entities)?void 0:t.media)||[],s="photo"!==(null==o?void 0:o.type)?o:null;return{activeItem:a,track:n,media:s,activeIndex:i,activeTweet:r}}function U({commonApi:e,context:t}){const a=V(t);if(!a)return{media:null};const{activeIndex:n,activeItem:i,media:r,track:o}=a,s=o.tweets[n+1];return{media:r,requestedTimecode:i.startTimeMs,onEnded:()=>{s&&e.load.voiceTweet(s)}}}function q({audioDockProps:e,commonApi:t,context:a,history:n}){const[i]=a.playerApi,[r]=a.playerState,o=t.currentTrack;if(!r||!i||!o)return null;const s=V(a);if(!s)return null;const{activeIndex:c,activeTweet:u,media:d,track:p}=s,{isMuted:m,isPlaying:h,isSeeking:f,volume:b}=r;let g=0,y=0;W(p.tweets,(({endMs:e,i:t})=>{t===c-1&&(y=e),g=e}));const S=d&&d.id_str===o.contentId&&o.currentTimeMs||0,E=y+S,v=null==d?void 0:d.url,w=u.full_text,k=v&&w?w.replace(v,"").trim():w,C=u.user;return l.a.createElement(F.a,{isWide:e.isSideNavLayout,width:e.width,isMuted:m,isPlaying:h,isSeeking:f,progressMs:E,durationMs:g,volume:100*b,title:k,user:C,onRequestClose:t.clear,onTogglePlayback:t.togglePlayback,onDockPress:()=>n.push(u.permalink),onMuteToggle:t.toggleMute,onVolumeChange:t.setVolume,onSeek:function(e){W(p.tweets,(({durationMs:a,endMs:n,i:r,startMs:o,tweet:s})=>{if(e>=o&&e<=n){const n=e-o;if(r===c){const e=n/a;i.scrubToFraction(e)}else t.load.voiceTweet(s,n);return!0}}))}})}function W(e,t){let a=0;for(let n=0;n<e.length;n++){const i=e[n],r=N.a.getVoiceTweetDuration(i),o=a+r;if(t({i:n,tweet:i,startMs:a,endMs:o,durationMs:r}))break;a=o}}const $={default:{buildDockConfig:a("0zXz").a},space:n,voiceTweet:i};function G(){const e=l.a.useRef({}),{history:t}=l.a.useContext(d.a),a=l.a.useContext(o.a),[n,i]=a.activeItem,[c,p]=a.playerApi,[m,h]=a.playerState,[f,b]=a.guestsState,g=J(m);e.current.playerApi=c,e.current.playerState=m;const y=l.a.useMemo((()=>function(){s.c(),i(null)}),[i]),S=l.a.useMemo((()=>function(){const{playerApi:t,playerState:a}=e.current;if(t&&a){(a.isPlaying?t.pause:t.play)()}}),[]),E=l.a.useMemo((()=>function(){const{playerApi:t,playerState:a}=e.current;if(t&&a){(a.isMuted?t.unmute:t.mute)()}}),[]),v={space:function(e,t,a){i({type:u.a.space,id:e,mediaKey:t,isLive:a})},voiceTweet:function(e,t){i({type:u.a.voiceTweet,id:e.id_str,conversationId:r.a(e),startTimeMs:t})}},w={load:v,clear:y,currentTrack:g,toggleMute:E,togglePlayback:S,setVolume:l.a.useMemo((()=>function(t){const{playerApi:a}=e.current;a&&a.setVolume(t/100)}),[])};return{activeItem:n,load:v,clear:y,player:{api:c,state:m,guests:f,currentTrack:g,toggleMute:E,togglePlayback:S},config:{dock:function(e){if(!n)return $.default.buildDockConfig();switch(n.type){case u.a.space:return $.space.buildDockConfig({history:t,context:a,commonApi:w,audioDockProps:e});case u.a.voiceTweet:return $.voiceTweet.buildDockConfig({history:t,context:a,commonApi:w,audioDockProps:e});default:return $.default.buildDockConfig()}},player:function(){const e={media:null,onPlayerApi:function(e){p(e)},onPlayerState:function(e,t){h(e),t&&b(t)}};if(!n)return e;let t;switch(n.type){case u.a.space:t=$.space.buildPlayerProps({context:a,commonApi:w});break;case u.a.voiceTweet:t=$.voiceTweet.buildPlayerProps({context:a,commonApi:w});break;default:throw new Error(`[AudioContext:Player] unhandled active item type [${n.type}]`)}return{...e,...t}}},audioSpaces:{cache:a.audioSpaceCache}}}const J=e=>e&&e.tracks[e.currentTrackId]},O07O:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var n=a("HmZq"),i=a("Q/sS"),r=a("ERkP"),o=a.n(r),s=a("tI3i"),c=a.n(s),l=a("fs1G"),u=a("/yvb"),d=a("rHpw");function p(e){return c()(e.accessibilityLabel,"ControlButton must have an accessibilityLabel"),o.a.createElement(u.a,{accessibilityLabel:e.accessibilityLabel,backgroundColor:"transparent",borderColor:"transparent",color:"text",disabled:e.disabled,hoverLabel:{label:e.accessibilityLabel},icon:e.icon,onPress:e.onPress||l.a,renderMenu:e.renderMenu,size:e.size||"medium",style:m.button})}const m=d.a.create((e=>({button:{height:"100%"}})));var h=a("3XMw"),f=a.n(h),b=a("akpX"),g=a("9xb5"),y=a("dgjd"),S=a("MWbm"),E=a("mjJ+"),v=a("t62R");function w(e){const{utils:t}=Object(y.a)(e.audioSpaceId),a=g.a.usePlaybackRate(),n=x.map((({rate:e,text:n})=>({text:n,disabled:a===e,onClick:()=>{t.scribe(":audiospace:replay:recording:speed:click");const{api:a}=g.a.store.getState();a&&a.setPlaybackRate(e)}})));return o.a.createElement(p,{accessibilityLabel:C.accessibility({rate:`${a}`}),icon:o.a.createElement(w.Icon,{playbackRate:a}),renderMenu:e=>o.a.createElement(E.a,{isFixed:!0,items:n,onCloseRequested:e,shouldCloseOnClick:!0})})}w.Icon=function({playbackRate:e}){return o.a.createElement(S.a,{style:k.playbackRateIcon},o.a.createElement(v.b,{style:k.playbackRateIconText,weight:"normal"},e),o.a.createElement(b.a,{style:k.playbackRateIconSvg}))};const k=d.a.create((e=>({playbackRateIcon:{flexDirection:"row",alignItems:"center"},playbackRateIconText:{marginRight:e.spaces.space2},playbackRateIconSvg:{height:e.spaces.space8}}))),C={accessibility:f.a.e07f6e7d},x=[{text:f.a.jd04fc66,rate:.5},{text:f.a.f03848b8,rate:1},{text:f.a.j0e5c2ce,rate:1.5},{text:f.a.b3f2318e,rate:2}];var I=a("Pl95"),P=a("0nhk"),T=a("AMlz"),O=a("5Ixf"),R=a("AtEG"),_=a("Lsrn"),M=a("k/Ka");const L=(e={})=>Object(M.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[_.a.root,e.style],viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M19.837 19.076C17.928 21.639 14.978 23 11.979 23c-2.009 0-4.029-.616-5.768-1.887-2.099-1.53-3.469-3.785-3.849-6.338-.39-2.553.25-5.096 1.79-7.172 1.79-2.404 4.589-3.824 7.548-3.914l-1.43-1.41c-.29-.298-.29-.765 0-1.063.29-.288.77-.288 1.06 0l2.779 2.762c.14.139.22.328.22.526 0 .199-.08.388-.22.527L11.54 7.574c-.14.149-.33.219-.53.219-.19 0-.38-.069-.53-.219-.29-.288-.29-.765 0-1.053l1.36-1.351C9.3 5.219 6.9 6.431 5.361 8.487c-1.31 1.758-1.849 3.914-1.52 6.069.33 2.155 1.48 4.063 3.259 5.354 3.659 2.682 8.828 1.907 11.527-1.719 1.869-2.503 2.139-5.781.72-8.553-.19-.368-.04-.825.33-1.003.37-.189.82-.04 1.01.328 1.679 3.279 1.349 7.153-.85 10.113z"}),o.a.createElement("path",{d:"M15.928 14.368c0 .417-.09.794-.27 1.112-.17.328-.43.576-.76.755-.33.179-.71.268-1.15.268-.57 0-1.05-.129-1.43-.397-.38-.258-.62-.626-.71-1.083l-.02-.099 1.14-.228.02.099c.05.228.16.407.33.536.18.139.41.199.69.199.32 0 .56-.089.74-.288.18-.199.27-.477.27-.834 0-.368-.09-.676-.27-.884-.17-.209-.41-.308-.74-.308-.52 0-.84.239-.99.725l-.02.08-1.06-.099.36-3.447h3.579v.973h-2.689l-.14 1.262c.1-.099.22-.189.36-.259.24-.119.53-.179.85-.179.59 0 1.06.189 1.4.566.34.377.51.894.51 1.53zm-5.459-3.894v5.91H9.31v-4.162c-.08.05-.17.099-.28.129-.2.07-.4.099-.59.099h-.38v-1.053h.28c.28 0 .53-.08.73-.219.19-.139.33-.358.41-.636l.02-.069h.969zm4.311-2.681c-.192 0-.385-.073-.531-.219-.292-.292-.291-.763.001-1.054l2.037-2.018-2.249-2.228c-.293-.291-.294-.762-.001-1.054.292-.29.767-.292 1.061-.001l2.781 2.755c.141.14.22.33.22.528s-.079.388-.22.528L15.31 7.576c-.147.145-.338.217-.53.217z"})));L.metadata={width:24,height:24};var z=L;const j=(e={})=>Object(M.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[_.a.root,e.style],viewBox:"0 0 24 24"},o.a.createElement("g",null,o.a.createElement("path",{d:"M23.284 16.22c-.062-.063-.134-.114-.213-.15l-9.183-4.32 9.182-4.32c.374-.176.535-.622.36-.997-.037-.08-.088-.15-.15-.213l-.9-.9c-1.107-1.1-2.777-1.403-4.2-.764l-6.565 2.98c-.943.43-1.564 1.353-1.607 2.39l-2.133-1c1.475-1.45 1.494-3.822.044-5.297-1.45-1.476-3.822-1.495-5.297-.045-1.475 1.45-1.494 3.82-.044 5.296.703.717 1.666 1.12 2.67 1.12.354-.005.704-.06 1.042-.166L10 11.58v.34l-3.708 1.746c-.338-.105-.688-.16-1.042-.166-2.078-.007-3.767 1.672-3.774 3.75-.007 2.078 1.672 3.767 3.75 3.774 2.078.007 3.767-1.672 3.774-3.75.003-1.013-.402-1.985-1.125-2.695l2.133-1c.043 1.035.664 1.96 1.607 2.39l6.568 2.976c.484.22 1.01.333 1.54.332.997 0 1.953-.396 2.66-1.1l.9-.9c.292-.292.293-.766 0-1.06zM5.25 8.5C4.007 8.5 3 7.493 3 6.25 3.002 5.008 4.008 4.002 5.25 4 6.493 4 7.5 5.007 7.5 6.25S6.493 8.5 5.25 8.5zm0 11C4.007 19.5 3 18.493 3 17.25S4.007 15 5.25 15c1.242.002 2.248 1.008 2.25 2.25 0 1.243-1.007 2.25-2.25 2.25zm6.25-9.46c0-.49.287-.937.734-1.14L18.8 5.924c.29-.132.605-.2.924-.2.6-.002 1.175.234 1.6.657l.144.145-9.968 4.69V10.04zm9.82 7.077c-.663.658-1.664.84-2.518.458L12.234 14.6c-.447-.203-.734-.65-.734-1.14v-.587l.625-.294 9.34 4.394-.144.143z"})));j.metadata={width:24,height:24};var A=j,H=a("abiO");function D(e){const t=Object(T.a)();return o.a.createElement(S.a,{style:N.controlsContainer},o.a.createElement(D.SeekSlider,null),o.a.createElement(S.a,{style:N.buttonsContainer},o.a.createElement(D.Captions,{audioSpaceId:e.audioSpaceId}),o.a.createElement(w,{audioSpaceId:e.audioSpaceId}),o.a.createElement(D.Play,null),o.a.createElement(D.SkipAhead,null),t.isCreationEnabled?o.a.createElement(D.Clip,{audioSpaceId:e.audioSpaceId}):o.a.createElement(P.a,{audioSpaceId:e.audioSpaceId,isFixed:!0,type:"icon-borderless"})))}function B(){const e=g.a.getCurrentTrack();e&&null!=e&&e.currentTimeMs&&F(e.currentTimeMs+U)}function F(e){const{api:t}=g.a.store.getState(),a=g.a.getCurrentTrack();if(null==a||!a.durationMs||null==t||!t.scrubToFraction)return;n.e(e);const i=e/a.durationMs;t.scrubToFraction(i)}D.SeekSlider=function(){const{currentTimeMs:e,durationMs:t,externalSeeking:a,onSeek:n}=D.useSeekSliderProps();return o.a.createElement(H.a.SeekSlider,{durationMs:t,externalSeeking:a,onSeek:n,progressMs:e,withTimes:!0})},D.useSeekSliderProps=function(){const e=g.a.useIsSeeking(),t=g.a.useCurrentTrackDurationMs();return{currentTimeMs:g.a.useCurrentTrackTimeMs()||0,durationMs:t||1,externalSeeking:e,onSeek:F}},D.Captions=function({audioSpaceId:e}){const{disabled:t,icon:a,label:n,onPress:i}=I.a.useSpaceCaptionsToggleProps({audioSpaceId:e});return o.a.createElement(p,{accessibilityLabel:n,disabled:t,icon:a,onPress:i})},D.Play=function(){const{isPlaying:e,togglePlayback:t}=D.usePlayButtonProps();return o.a.createElement(p,{accessibilityLabel:e?V.pause:V.play,icon:e?o.a.createElement(O.a,null):o.a.createElement(R.a,null),onPress:t,size:"xLarge"})},D.usePlayButtonProps=()=>{const e=g.a.useIsPlaying(),t=g.a.usePlayerApi();return{isPlaying:e,togglePlayback:()=>{t&&t.play&&t.pause&&(e?t.pause():t.play())}}},D.SkipAhead=function(){return o.a.createElement(p,{accessibilityLabel:V.skipForward,icon:o.a.createElement(z,null),onPress:B})},D.Clip=function({audioSpaceId:e}){const{openSheet:t}=i.n();return o.a.createElement(p,{accessibilityLabel:V.createClip,icon:o.a.createElement(A,null),onPress:function(){t(i.b.createClip)}})};const N=d.a.create((e=>({controlsContainer:{width:"100%",alignSelf:"start",marginVertical:e.spaces.space8},buttonsContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}))),V={skipForward:f.a.jf9f3e54,play:f.a.ic1e826e,pause:f.a.b89c5a50,createClip:f.a.f91f00ba},U=15e3},PaZX:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return y}));var n=a("ERkP"),i=a.n(n),r=a("1YZw"),o=a("hUaP"),s=a("3XMw"),c=a.n(s),l=a("uDfI"),u=a("Q/sS"),d=a("dgjd"),p=a("MWbm"),m=a("t62R"),h=a("CKsB"),f=a("/yvb"),b=a("rHpw");function g(e){const{requestSheetDismissal:t}=Object(u.n)(),a=g.useReportingItems({audioSpaceId:e.audioSpaceId});return i.a.createElement(p.a,{style:S.container},i.a.createElement(p.a,{style:S.menu},i.a.createElement(m.b,{align:"center",size:"headline1",style:S.description,weight:"bold"},y.reportThisSpace),i.a.createElement(m.b,{align:"center",style:S.description},y.describeTheIssue),null==a?void 0:a.map((e=>i.a.createElement(h.a,{actionText:e.label,key:e.label,onClick:()=>{e.onClick(),t()},textColor:"red500"})))),i.a.createElement(f.a,{onClick:t,type:"primaryOutlined"},y.cancel))}g.useReportingItems=function({audioSpaceId:e}){const t=Object(l.c)(),{handlers:a}=Object(d.a)(e),n=a.report;return i.a.useMemo((()=>Object.keys(n).map((e=>({label:y[e],onClick:()=>{n&&n[e](),t(Object(r.b)({text:y.spaceReported}))}})))),[n,t])};const y={reportThisSpace:c.a.b3481ffe,describeTheIssue:c.a.d0aebc28,SelfHarm:c.a.g971a4e8,Violence:c.a.b96e6682,SexualContent:c.a.e5bf9b3a,ChildSafety:c.a.d2a34320,PrivateInformation:c.a.a9ba3e28,AbusiveBehavior:c.a.d5519f4a,cancel:c.a.cfd2f35e,spaceReported:c.a.eb55363c},S=b.a.create((e=>{const t=Object(o.b)(e);return{container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},menu:{marginBottom:e.spaces.space20},description:{marginTop:e.spaces.space4,marginBottom:e.spaces.space16,paddingHorizontal:t}}}));t.b=g},"Pc/x":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a("849X");var n=a("CEs6");class i extends Error{constructor(e,t,a){super(`${i.displayName}: ${e} HTTP-${t} message: ${a}`),this.url=e,this.status=t}}i.displayName="ProxseeApiError";var r=a("epkG"),o=a("SrIh"),s=a("RqPI");let c,l=0;const u="X-Idempotence",d={["X-Periscope-User-Agent"]:"Twitter/m5",["X-Attempt"]:1};function p(){const e=Date.now();return l=e<=l?l+1:e,Object.assign({},d,{[u]:l,"content-type":"application/json"})}const m="m5-proxsee-login-a2011357b73e",h={},f={host:"https://proxsee.pscp.tv",errorFilter:function(e,t){return t(e).then((t=>{return t.status&&((a=t.status)<200||a>399)?Promise.reject(function(e,t){const{uri:a}=e,{status:r}=t,o=Object(n.a)(t);return new i(a,r,o.msg)}(e,t)):t;var a}))}};const b=Object.freeze({SelfHarm:"SELF_HARM",Violence:"VIOLENCE",SexualContent:"SEXUAL_CONTENT",ChildSafety:"CSE",PrivateInformation:"PRIVATE_INFO",AbusiveBehavior:"HARASSMENT"}),g=new class{constructor(e=h){this.reportSpaceFor={SelfHarm:e=>this._reportSpace({abuse_type:b.SelfHarm,...e}),Violence:e=>this._reportSpace({abuse_type:b.Violence,...e}),SexualContent:e=>this._reportSpace({abuse_type:b.SexualContent,...e}),ChildSafety:e=>this._reportSpace({abuse_type:b.ChildSafety,...e}),PrivateInformation:e=>this._reportSpace({abuse_type:b.PrivateInformation,...e}),AbusiveBehavior:e=>this._reportSpace({abuse_type:b.AbusiveBehavior,...e})};const{httpConfig:t}=e;this.client=new r.a({...f,...t}),this._authToken=void 0,this._authPromise=null}init(e){c=e}initialized(){return!!c}isLoggedIn(){return!!this._authToken}isTwitterAuthenticated(){if(!this.initialized())return!1;const e=c.store.getState();return Object(s.o)(e)}authToken(){return this._authToken}dispatch(e){return this.initialized()?this.client.dispatch(e).then(n.a):Promise.reject(new Error("[ProxseeApi] config not initialized"))}post(e,t,a={}){const{params:n}=a,i=Object.assign(p(),a.headers),r=JSON.stringify({...t,cookie:this._authToken}),o="Twitter"===this._authUserType?`twitter/${e}`:e;return this.dispatch({method:"POST",path:`/api/v2/${o}`,headers:i,params:n,data:r})}login(){return this._authPromise?this._authPromise:this.initialized()?this.isTwitterAuthenticated()?this.isLoggedIn()?Promise.resolve():(this._authPromise=c.api.Auth.authenticatePeriscope().then((e=>this.loginTwitterToken(e.token))).then((e=>{if(!e)throw new Error("[ProxseeApi] invalid loginTwitterToken response");this._authToken=e.cookie,this._authUserType=e.type})).catch((e=>{const t={err:e};Object(o.a)("[ProxseeApi] failed to login",{extra:t})})).then((()=>{this._authPromise=null})),this._authPromise):Promise.resolve():Promise.reject(new Error("[ProxseeApi] config not initialized"))}loginTwitterToken(e){const t={jwt:e,vendor_id:m,create_user:!1,direct:!0};return this.post("loginTwitterToken",t)}publicPath(e){return this.isLoggedIn()?e:`${e}Public`}accessChat(e){return this.login().then((()=>this.post(this.publicPath("accessChat"),{chat_token:e})))}getChatHistory(e,t={}){return this.login().then((()=>{const{params:a}=t,n=Object.assign(p(),t.headers),i=JSON.stringify({access_token:e.access_token,cursor:e.cursor,limit:1e3,since:null,quick_get:!0});return this.dispatch({method:"POST",host:e.host,path:e.path,headers:n,params:a,data:i})}))}createClip(e){return this.login().then((()=>this.post("createClip",e).catch((e=>{Object(o.a)("[ProxseeApi] failed to create clip",{extra:{err:e}})}))))}getClip(e){return this.login().then((()=>this.post("getClip",{clip_id:e}).catch((e=>{Object(o.a)("[ProxseeApi] failed to get clip",{extra:{err:e}})}))))}_reportSpace(e){return this.login().then((()=>this.post("markAbuse",e).catch((e=>{Object(o.a)("[ProxseeApi] failed to report space",{extra:{err:e}})}))))}};var y=a("G6rE");let S;const E=new Error("[AudioModule] config not initialized");var v=new class{constructor(){this.proxsee=g}init(e){S=e,g.init(S)}initialized(){return!!S}loggedInUser(){if(this.initialized()){const e=S.store.getState();return y.e.selectLoggedInUser(e)}}audioSpace(e){return S?S.api.AudioSpaces.byId(e):Promise.reject(E)}subscribeToScheduledSpace(e){return S?S.api.AudioSpaces.subscribeToScheduledSpaceById(e):Promise.reject(E)}unsubscribeFromScheduledSpace(e){return S?S.api.AudioSpaces.unsubscribeFromScheduledSpaceById(e):Promise.reject(E)}searchAudioSpace(e,t){return S?S.api.AudioSpaces.search(e,t):Promise.reject(E)}}},Pl95:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("Q/sS"),i=a("ERkP"),r=a.n(i),o=a("3XMw"),s=a.n(o),c=a("dgjd"),l=a("/yvb"),u=a("rHpw"),d=a("pHub"),p=a("8A5z"),m=a("d5IS");function h({audioSpaceId:e}){const{disabled:t,icon:a,label:n,onPress:i}=h.useSpaceCaptionsToggleProps({audioSpaceId:e});return r.a.createElement(l.a,{accessibilityLabel:n,disabled:t,hoverLabel:{label:n},icon:a,onPress:i,size:"medium",style:b.icon,type:"primaryText"})}function f({captionsState:e}){switch(e){case n.c.On:return r.a.createElement(d.a,{style:b.icon});case n.c.Off:return r.a.createElement(p.a,{style:b.icon});case n.c.Unavailable:default:return r.a.createElement(m.a,{style:b.icon})}}h.useSpaceCaptionsToggleProps=function({audioSpaceId:e}){const t=n.s(),a=r.a.createElement(f,{captionsState:t});return{disabled:!(t!==n.c.Unavailable),icon:a,label:function(e){switch(e){case n.c.On:return g.hideCaptions;case n.c.Off:return g.showCaptions;case n.c.Unavailable:default:return g.captionsUnavailable}}(t),onPress:function({audioSpaceId:e}){const{utils:t}=Object(c.a)(e);return()=>{n.l(),t.scribe(":audiospace::caret:view_transcriptions:click")}}({audioSpaceId:e})}};const b=u.a.create((e=>({icon:{fill:e.colors.text}}))),g={showCaptions:s.a.e674c120,hideCaptions:s.a.f45bace4,captionsUnavailable:s.a.ce96f1dc}},"Q/sS":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"k",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"n",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"t",(function(){return h})),a.d(t,"u",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"i",(function(){return g})),a.d(t,"f",(function(){return y})),a.d(t,"e",(function(){return S})),a.d(t,"p",(function(){return E})),a.d(t,"s",(function(){return C})),a.d(t,"l",(function(){return x})),a.d(t,"r",(function(){return I})),a.d(t,"m",(function(){return P})),a.d(t,"q",(function(){return T})),a.d(t,"h",(function(){return O})),a.d(t,"g",(function(){return R}));var n=a("2C8o");const i=Object.freeze({full:"full",collapse:"collapse",exit:"exit"}),r=Object.freeze({On:"on",Off:"off",Unavailable:"unavailable"}),o=Object.freeze({generalNux:"general-nux",clippingEducation:"clipping-education",recordingEducation:"recording-education",report:"report",createClip:"create-clip"});var s=a("rHpw"),c=a("ssnq");const l={isReplay:!1,isSuperFollowersOnly:!1,startTimeMs:-1,springTo:()=>Promise.resolve(),springToState:null,sheet:{id:null,hasDismissRequest:!1},captionsState:r.On},u=new c.a(l);function d(){const{isReplay:e,isSuperFollowersOnly:t}=u.getState();u.reset(),e&&u.setState((t=>{t.isReplay=e})),t&&O()}function p(){return{sheetId:u.useSlice((e=>e.sheet.id)),openSheet:v,requestSheetDismissal:k}}function m(){const{hasDismissRequest:e,id:t}=u.useSlice((e=>e.sheet));return{sheetId:t,hasDismissRequest:e,clearSheet:w}}function h(){return u.useSlice((e=>e.springTo))}function f(){return u.useSlice((e=>e.springToState))}function b(e){u.setState((t=>({...t,springToState:e})))}function g(e){u.setState((t=>({...t,springTo:e})))}function y(e){u.setState((t=>{t.isReplay=!0,t.startTimeMs=e}))}function S(){u.getState().isReplay&&u.setState((e=>{e.isReplay=l.isReplay,e.startTimeMs=l.startTimeMs}))}function E(){return u.useSlice((e=>e.isReplay))}function v(e){const{sheet:t}=u.getState();t.hasDismissRequest||u.setState((t=>({...t,sheet:{id:e,hasDismissRequest:!1}})))}function w(){const{sheet:e}=u.getState();e.id&&u.setState((e=>({...e,sheet:{id:null,hasDismissRequest:!1}})))}function k(){const{sheet:e}=u.getState();e.id&&u.setState((t=>({...t,sheet:{...e,hasDismissRequest:!0}})))}function C(){return u.useSlice((e=>e.captionsState))}function x(){const{captionsState:e}=u.getState();e===r.On?u.setState((e=>({...e,captionsState:r.Off}))):e===r.Off&&u.setState((e=>({...e,captionsState:r.On})))}function I(){const e=n.e(),t=C();return e&&t===r.On}function P(){return u.useSlice((e=>e.accentColor))}function T(){return u.useSlice((e=>e.isSuperFollowersOnly))}function O(){u.setState((e=>{e.accentColor=s.a.theme.colors.plum500,e.isSuperFollowersOnly=!0}))}function R(){u.getState().isSuperFollowersOnly&&u.setState((e=>{e.accentColor=l.accentColor,e.isSuperFollowersOnly=l.isSuperFollowersOnly}))}},QEWO:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("ERkP");var n=a("89tF");const i=Object(n.a)({space:!0,voiceTweet:!0,voiceMessage:!0})},"S+H3":function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),r=a("Lsrn"),o=a("k/Ka");const s=(e={})=>Object(o.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M15.09 9.07c-.25-1.83-1.43-2.98-3.1-2.98-1.66 0-2.85 1.15-3.09 2.98-.18 1.32 0 2.26.55 2.89.66.76 1.66.86 2.54.86.89 0 1.88-.1 2.54-.86.56-.63.74-1.57.56-2.89zm-1.68 1.9c-.21.24-.65.35-1.42.35-.76 0-1.2-.11-1.41-.35-.24-.28-.31-.86-.2-1.7.1-.76.47-1.68 1.61-1.68.58 0 .95.23 1.2.56.24.32.36.74.41 1.12.12.84.05 1.42-.19 1.7zm2.67 4.09c-.99-.99-2.4-1.52-4.07-1.52h-.03c-1.62 0-3.06.55-4.06 1.55-.87.87-1.34 2.02-1.34 3.25 0 .79.64 1.44 1.44 1.44h7.95c.79 0 1.44-.65 1.44-1.44 0-1.26-.47-2.43-1.33-3.28zm-7.44 3.276c-.318.002-.562-.288-.502-.6.116-.595.406-1.14.842-1.576.72-.72 1.78-1.12 3.01-1.12H12c1.27 0 2.32.37 3.02 1.08.432.432.715.962.83 1.564.06.308-.178.598-.492.6l-6.72.052zM21.75 6.97c-.22-1.7-1.32-2.75-2.86-2.75-1.53 0-2.64 1.05-2.87 2.75-.16 1.2.02 2.07.52 2.65.62.71 1.53.81 2.35.81.81 0 1.73-.1 2.34-.8.39-.45.59-1.07.59-1.85 0-.22-.02-.47-.07-.81zm-4.22.2c.13-.95.59-1.43 1.36-1.43.43 0 .77.15 1 .46.23.29.32.69.35.97.03.22.05.43.05.61 0 .4-.07.69-.21.84-.16.2-.54.28-1.19.28-.66 0-1.04-.08-1.2-.28-.2-.22-.25-.73-.16-1.45zm6.3 8.37c0 .74-.62 1.34-1.37 1.34h-3.75c-.41 0-.76-.34-.76-.76 0-.43.34-.76.76-.76h3.24c.1 0 .2-.05.26-.13.07-.09.1-.2.07-.3-.12-.53-.37-.99-.74-1.36-.61-.62-1.53-.94-2.64-.94-.73 0-1.39.15-1.93.44l-.5.32c-.36.21-.83.1-1.04-.25-.23-.36-.12-.82.24-1.05l.54-.34c.78-.42 1.71-.64 2.66-.64h.03c1.52 0 2.81.47 3.72 1.38.79.8 1.22 1.88 1.21 3.05zM2.18 7.78c0 .78.2 1.4.59 1.85.61.7 1.53.8 2.34.8.82 0 1.73-.1 2.35-.81.5-.58.68-1.45.52-2.65-.23-1.7-1.34-2.75-2.87-2.75-1.54 0-2.64 1.05-2.86 2.75-.05.34-.07.59-.07.81zm4.13.84c-.16.2-.54.28-1.2.28-.65 0-1.03-.08-1.19-.28-.14-.15-.21-.44-.21-.84 0-.18.02-.39.05-.61.03-.28.12-.68.35-.97.23-.31.57-.46 1-.46.77 0 1.23.48 1.36 1.43.09.72.04 1.23-.16 1.45zM.17 15.54c0 .74.62 1.34 1.37 1.34h3.75c.41 0 .76-.34.76-.76 0-.43-.34-.76-.76-.76H2.05c-.1 0-.2-.05-.26-.13-.07-.09-.1-.2-.07-.3.12-.53.37-.99.74-1.36.61-.62 1.53-.94 2.64-.94.73 0 1.39.15 1.93.44l.5.32c.36.21.83.1 1.04-.25.23-.36.12-.82-.24-1.05l-.54-.34c-.78-.42-1.71-.64-2.66-.64H5.1c-1.52 0-2.81.47-3.72 1.38-.79.8-1.22 1.88-1.21 3.05z"})));s.metadata={width:24,height:24},t.a=s},SQlS:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("ERkP"),i=a.n(n),r=a("CDzS"),o=a("rHpw"),s=a("k/Ka");function c(e){return Object(s.a)("svg",{...e,style:[l.root,e.style],viewBox:"0 0 24 24"},i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a.SVGLinearGradient,null),i.a.createElement("g",{fill:r.a.SVGLinearGradient.fill},i.a.createElement("path",{d:"M19.073 10.384c.9-.896 2.358-.896 3.258 0 .894.89.894 2.34-.006 3.237-.893.89-2.35.89-3.244 0-.9-.895-.9-2.347-.007-3.236zm-17.403.001c.9-.896 2.356-.896 3.256 0 .893.89.893 2.34-.007 3.236-.894.89-2.35.89-3.244 0-.9-.895-.9-2.346-.007-3.235zM11.058 2.4c.536-.534 1.41-.534 1.95.006.537.534.537 1.403 0 1.937-.535.534-1.414.54-1.95.005-.54-.54-.536-1.414 0-1.948zm-.064 17.254c.536-.533 1.41-.533 1.95.006.536.533.536 1.402 0 1.936-.54.54-1.414.54-1.95.006-.542-.54-.542-1.41 0-1.948zm4.07-13.294c.72-.718 1.886-.718 2.606 0 .714.71.714 1.87-.006 2.588-.714.71-1.88.71-2.595 0-.72-.717-.72-1.878-.006-2.59zm-8.736 8.697c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.88-.006-2.59zm.034-8.665c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.878-.006-2.59zm8.67 8.632c.72-.717 1.886-.717 2.606 0 .714.71.714 1.872-.006 2.59-.714.71-1.88.71-2.594 0-.72-.718-.72-1.878-.006-2.59zm-4.662-4.639c.9-.896 2.358-.896 3.258 0 .893.89.893 2.34-.007 3.236-.892.89-2.35.89-3.242 0-.9-.895-.9-2.346-.007-3.235z"}))))}c.metadata={width:24,height:24};const l=o.a.create((e=>({root:{display:"inline-block",fill:"currentcolor",height:"1.25em",maxWidth:"100%",position:"relative",userSelect:"none",textAlignVertical:"text-bottom"}})))},TCYy:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("kYxP");var n=a("ERkP"),i=a.n(n),r=a("rHpw"),o=a("MWbm");function s(e){const{count:t,max:a,selectedIndex:n}=e,s=function(){const{theme:e}=r.a;return 2*u(e).px+e.borderWidthsPx.small}(),p=i.a.useRef({left:0,right:a-1}),m=i.a.useRef(0),[h,f]=i.a.useState(l(p.current,t,s));i.a.useEffect((()=>{function e(){const e=t-1,{left:a,right:i}=p.current,r=i-n+1<=2&&i!==e,o=n+1-a<=2&&0!==a;return!(!r&&!o)&&(r?(p.current.left=a+1,p.current.right=i+1):o&&(p.current.left=a-1,p.current.right=i-1),!0)}for(;e(););f(l(p.current,t,s)),m.current=n}),[n,t,a,s]);const b=new Array(t).fill(1).map(((e,r)=>{const o=r===n;if(t<=a)return i.a.createElement(c,{key:r,selected:o});const s=h[r];return i.a.createElement(c,{continuation:Boolean(s),continuationType:s,key:r,selected:o})}));return i.a.createElement(o.a,{style:[d.indicatorWindowContainer,{width:`calc(${a} * ${s}px)`,height:`${s}px`}]},i.a.createElement(o.a,{style:[d.indicatorsContainer,{height:`${s}px`,width:`calc(${s}px * ${t})`},h.style]},b))}function c(e){let t=d.indicator;if(e.selected)t=d.indicatorSelected;else if(e.continuation)switch(e.continuationType){case p.small:t=d.indicatorContinuationSmall;break;case p.medium:t=d.indicatorContinuationMedium}return i.a.createElement(o.a,{style:t})}function l(e,t,a){const{left:n,right:i}=e,r={style:{transform:[{translateX:-1*a*n}]}};return r[n-1]=p.small,r[n]=p.small,r[n+1]=p.medium,r[i-1]=p.medium,r[i]=p.small,r[i+1]=p.small,0===n?(delete r[0],delete r[1]):i>t-2&&(delete r[t-1],delete r[t-2]),r}function u(e){return{style:e.spaces.space8,px:e.spacesPx.space8}}const d=r.a.create((e=>{const t=u(e).style,a={transition:"transform 200ms"},n={...a,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:e.borderRadii.infinite,marginHorizontal:e.spaces.space4,width:t,height:t,transform:[{scale:.5}]},i={...n,backgroundColor:e.colors.gray300};return{indicatorWindowContainer:{marginVertical:e.spaces.space12,overflow:"hidden",margin:"auto"},indicatorsContainer:{...a,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",margin:"auto"},indicatorSelected:{...n,borderWidth:e.borderWidths.small,borderColor:e.colors.gray300,borderStyle:"solid",backgroundColor:e.colors.white,transform:[{scale:1}]},indicator:{...n,backgroundColor:e.colors.gray300},indicatorContinuationSmall:{...i,transform:[{scale:.3}]},indicatorContinuationMedium:{...i,transform:[{scale:.4}]}}})),p=Object.freeze({small:"small",medium:"medium"})},VKFJ:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l}));a("kYxP");var n=a("ERkP"),i=a.n(n),r=a("9xb5"),o=a("dgjd");function s(e){return c(e,r.a)}function c(e,t){const{space:a,utils:n}=Object(o.a)(e),r=t.useActiveSpeakersLookup();return i.a.useMemo((()=>{const e=new Map,t=[],i=[];function o(){const e=[...t,...i],n=(null==a?void 0:a.participants.total)||0,r=Math.max(0,n-e.length);return{all:e,speakers:t,listeners:i,otherParticipantsTotal:r}}function c(a,n,r){const o=n.twitter_screen_name;if(!o)return;if(e.has(o))return;e.set(o,!0);const c={key:o,user:n,kind:a,periscopeUserId:r};s.canParticipantSpeak(a)?t.push(c):i.push(c)}if(!a)return o();a.host&&c(l.host,a.host,a.host.periscope_user_id);const u=[...a.cohosts,...a.participants.speakers];n.is.replayable||u.push(...a.participants.listeners);for(let e=0;e<u.length;e++){const t=u[e],i=t.periscope_user_id;if(i){r.get(i)?e<a.cohosts.length?c(l.cohost,t,i):c(l.speaker,t,i):n.is.replayable||c(l.listener,t,i)}}return o()}),[a,r,n.is.replayable])}s.canParticipantSpeak=function(e){return Boolean(e&&u[e])},s.isParticipantHost=function(e){return e===l.host};const l=Object.freeze({host:"host",cohost:"cohost",speaker:"speaker",listener:"listener"}),u={[l.host]:!0,[l.cohost]:!0,[l.speaker]:!0}},Xda3:function(e,t,a){"use strict";a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return x})),a.d(t,"b",(function(){return I}));a("kYxP"),a("MvUL");var n=a("2C8o"),i=a("HmZq"),r=a("Q/sS"),o=a("Pc/x"),s=a("Chkh"),c=a("b2fv"),l=a("9xb5"),u=a("SrIh"),d=a("fEA7"),p=a.n(d);const m="/chatapi/v1/chatnow",h="/chatapi/v1/history";let f=null;function b(){var e;null==(e=f)||e.disconnect(),f=null,s.a.reset(),n.b()}l.a.store.subscribe((e=>e.chatToken),(e=>{e&&function(e){b(),new g(e).connect().then((e=>{s.a.start(),f=e}))}(e)}));class g{constructor(e){this.session=null,this.socket=null,this.socketState=w.Uninitialized,this.handleOnOpen=()=>{this.authAndJoinRoom(),this.socketState=w.Connected},this.handleOnMessage=e=>{if("string"==typeof e.data){const t=JSON.parse(e.data);if(t.kind===k.Chat){const{payload:e,signature:a}=t,n=new v(e,{signature:a});s.a.publish(n)}}},this.chatToken=e}connect(){return new Promise(((e,t)=>{o.a.proxsee.accessChat(this.chatToken).then((t=>{this.session=t;const{isReplay:a}=r.k.getState();return a?this.loadChatHistory():this.openSocket(),e(this)}),(e=>t(e))).catch((e=>{Object(u.a)(e)}))}))}disconnect(){this.closeSocket(),this.session=null}openSocket(){if(this.session){const e=this.session.endpoint.replace("https://","wss://")+m;this.closeSocket();try{this.socketState=w.Opening,this.socket=new WebSocket(e),this.socket.onopen=this.handleOnOpen,this.socket.onmessage=this.handleOnMessage}catch(e){Object(u.a)(e),this.socketState=w.Error}}}closeSocket(){this.socket&&(this.socket.onopen=()=>{},this.socket.onmessage=()=>{},this.socket.onclose=()=>{},this.socket.close()),this.socket=null,this.socketState=w.Closed}authAndJoinRoom(){if(this.session){var e,t;const{access_token:a,room_id:n}=this.session;null==(e=this.socket)||e.send(E.build(a).toString()),null==(t=this.socket)||t.send(S.buildJoin(n).toString())}}loadChatHistory(){const{access_token:e,endpoint:t}=this.session||{};if(!e||!t)return Promise.resolve([]);try{return new Promise(((a,n)=>{const r=[];let s="";const c=n=>{if(n){const{cursor:e,messages:t}=n;if(!e)return i.c(),a(r);s=e,this.handleHistoryMessages(t),r.push(...t)}o.a.proxsee.getChatHistory({access_token:e,host:t,path:h,cursor:s}).then(c)};c()}))}catch(e){Object(u.a)(e)}}handleHistoryMessages(e){const t=[];e.forEach((e=>{if(e.kind===k.Chat){const{payload:a,signature:n}=e;t.push(new v(a,{signature:n}))}})),i.b(...t)}}class y{constructor(e,t){this.payload=e,this.kind=t}toString(){const e=this.payload,t=this.kind;return JSON.stringify({payload:e,kind:t})}}class S extends y{constructor(e){super(e,k.Control),this.data={},this.data=JSON.parse(e)}static buildJoin(e){return new S(JSON.stringify({body:JSON.stringify({room:e}),kind:C.Join}))}}class E extends y{constructor(e){super(e,k.Auth)}static build(e){return new E(JSON.stringify({access_token:e}))}}class v extends y{constructor(e,t={}){var a;super(e,k.Chat),this.data={},this.body={};const{currentNtpTimeInSeconds:n,isReplay:i,signature:r}=t;this.data=JSON.parse(e),this.body=(null==(a=this.data)?void 0:a.body)&&JSON.parse(this.data.body)||{},this.setUuid(r),this.setTime(n,i),this.type=this.body.type,this.ntpTimeInSeconds=this.body.ntpTimeInSeconds,this.timestamp=this.body.timestamp}setUuid(e){this.body.uuid=e||this.body.uuid||p.a.v4()}setTime(e=0,t=!1){const a=t&&!!this.body.ntpForBroadcasterFrame?this.body.ntpForBroadcasterFrame:this.body.ntpForLiveFrame||e,n=parseFloat(a/4294967296);this.body.ntpTimeInSeconds=n,this.body.timestamp=Object(c.b)(n).getTime()}isEqual(e){return!(!this.body.uuid||!e.body.uuid)&&this.body.uuid===e.body.uuid}}const w=Object.freeze({Uninitialized:"UNINITIALIZED",Opening:"OPENING",Connected:"CONNECTED",Error:"ERROR",Closed:"CLOSED"}),k=Object.freeze({Chat:1,Control:2,Auth:3}),C=Object.freeze({Join:1,Leave:2,Roster:3,Presence:4,Ban:8}),x=Object.freeze({Unknown:0,Chat:1,Heart:2,Join:3,Location:4,BroadcastEnded:5,InviteFollowers:6,BroadcastStartedLocally:7,BroadcasterUploadedReplay:8,Timestamp:9,LocalPromptToFollowBroadcaster:10,LocalPromptToShareBroadcast:11,BroadcasterBlockedViewer:12,SubscriberSharedOnTwitter:13,SubscriberBlockedViewer:14,SubscriberSharedOnFacebook:15,Screenshot:16,Sentence:29,Sparkle:36,FirstSparkle:37,CommentMuted:39,HydraControlMessage:40,CommentMutedByModerator:41,CommentUnmutedByModerator:42,LocalShouldReportGuestUser:43,UserIsTyping:44,ServerAudioTranscription:45,ChatCaption:201}),I=Object.freeze({RemoveParticipant:15})},Zg3A:function(e,t,a){"use strict";var n=a("ERkP"),i=a.n(n),r=a("Lsrn"),o=a("k/Ka");const s=(e={})=>Object(o.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[r.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm8.472 9.442c-.242.19-.472.368-.63.486-.68-1.265-1.002-1.78-1.256-2.007-.163-.145-.37-.223-.78-.375-.367-.136-1.482-.55-1.65-.85-.087-.153.136-.602.23-.793.088-.177.164-.33.196-.497.123-.646-.33-1.146-.728-1.59-.066-.072-.153-.17-.23-.26.335-.12.862-.26 1.42-.384 1.95 1.448 3.26 3.704 3.428 6.272zm-9.788-7.83c.076.25.145.5.182.678-.255.15-.663.363-.96.52-.262.136-.522.273-.738.392-.247.137-.442.234-.6.313-.347.174-.598.3-.833.553-.068.073-.26.278-1.02 1.886l-1.79-.656c1.293-1.94 3.362-3.31 5.76-3.685zM12 20.5c-4.687 0-8.5-3.813-8.5-8.5 0-1.197.25-2.335.7-3.37.47.182 1.713.66 2.75 1.035-.107.336-.245.854-.26 1.333-.03.855.502 1.7.562 1.792.053.08.12.15.2.207.303.21.687.5.827.616.063.343.166 1.26.23 1.833.144 1.266.175 1.48.24 1.65.005.012.514 1.188 1.315 1.188.576-.003.673-.206 1.855-2.688.244-.512.45-.95.513-1.058.1-.144.597-.61.87-.83.55-.442.76-1.82.413-2.682-.335-.83-1.92-2.08-2.5-2.195-.17-.033-.43-.04-.953-.053-.497-.01-1.25-.028-1.536-.09-.098-.024-.314-.094-.605-.196.32-.668.627-1.28.71-1.4.05-.052.168-.112.408-.234.17-.086.383-.192.653-.34.208-.116.458-.247.71-.38 1.168-.612 1.484-.8 1.658-1.082.11-.177.263-.44-.04-1.544 1.042.027 2.038.24 2.955.61-.89.32-1.024.595-1.106.77-.367.784.256 1.475.667 1.93.096.107.24.268.32.38l-.017.036c-.234.472-.67 1.35-.196 2.194.406.72 1.384 1.13 2.437 1.52.134.05.25.092.33.126.16.208.496.79 1 1.735l.154.285c.078.14.33.505.842.505.167 0 .363-.04.59-.137.032-.013.083-.035.18-.094C19.72 17.405 16.22 20.5 12 20.5zm-3.812-9.45c.01-.285.102-.646.184-.907l.027.006c.397.09 1.037.11 1.83.13.32.006.59.008.615 0 .326.143 1.355 1 1.483 1.31.113.28.05.812-.034 1.01-.233.197-.845.735-1.085 1.078-.093.13-.212.373-.64 1.274-.133.276-.313.654-.488 1.013-.026-.225-.054-.472-.08-.686-.225-2.003-.273-2.22-.42-2.445-.05-.078-.202-.31-1.135-.973-.117-.213-.268-.564-.26-.813z"})));s.metadata={width:24,height:24},t.a=s},abiO:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var n=a("97Jx"),i=a.n(n),r=(a("kYxP"),a("ERkP")),o=a.n(r),s=a("t62R"),c=a("/yvb"),l=a("n4Eu"),u=a("3XMw"),d=a.n(u),p=a("cm6r"),m=a("/NU0"),h=a("wD1h"),f=a("Oe3h"),b=a("0FVZ"),g=a("pjBI"),y=a("FBXD"),S=a("9RkS"),E=a("rHpw"),v=a("MH+I"),w=a("oSwX"),k=a("jV+4"),C=a("MWbm"),x=a("kRXa"),I=a("5Ixf"),P=a("AtEG"),T=a("hOZg");function O(e){const t=H(e.onDockPress),a=H(e.onUserPress),n=H(e.onRequestClose),r=H(e.onTogglePlayback);return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{style:j.sliderContainer},o.a.createElement(M.SeekSlider,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs})),o.a.createElement(C.a,{style:j.dockContentRow},o.a.createElement(w.default,{accessibilityHidden:!0,focusable:!1,onClick:a,screenName:e.user.screen_name,size:"large",uri:e.user.profile_image_url_https,withLink:!0}),o.a.createElement(C.a,{style:j.dockContentTitle},o.a.createElement(g.a,{size:"subtext2"},o.a.createElement(k.a,{isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:a,screenName:e.user.screen_name,screenNameSize:"subtext2",weight:"normal",withLink:!0}),o.a.createElement(v.a,{size:"subtext2",timeMs:e.durationMs})),o.a.createElement(s.b,{numberOfLines:1,onPress:t,size:"subtext2",weight:"bold"},e.title)),o.a.createElement(c.a,i()({accessibilityLabel:e.isPlaying?L.pause:L.play,icon:e.isPlaying?o.a.createElement(I.a,null):o.a.createElement(P.a,null),onPress:r,testID:"togglePlayback"},z)),o.a.createElement(C.a,{style:j.dockContentButtonSpacer}),o.a.createElement(c.a,i()({accessibilityLabel:L.close,icon:o.a.createElement(T.a,null),onPress:n,testID:"close"},z))))}function R(e){const t=H(e.onDockPress),a=H(e.onRequestClose),n=H(e.onTogglePlayback),r=H(e.onUserPress),u=o.a.useMemo((()=>{var t;const a=null==(t=e.user.profile_image_extensions_media_color)?void 0:t.palette;if(a){const e=l.a.get(a);if(e)return D(e.rgb)}return E.a.theme.colors.primary}),[e.user]),d=e.isMuted?L.unmute:L.mute;return o.a.createElement(C.a,{style:[A.wideContainer,A.wideContainerBorderRadius]},o.a.createElement(C.a,{style:A.mainContentContainer},o.a.createElement(C.a,{style:[A.wideAvatarContainer,{backgroundColor:u}]},o.a.createElement(w.default,{accessibilityHidden:!0,focusable:!1,onClick:r,screenName:e.user.screen_name,size:"xLarge",uri:e.user.profile_image_url_https,withLink:!0})),o.a.createElement(C.a,{style:A.mainContent},o.a.createElement(k.a,{isVerified:e.user.verified,name:e.user.name,nameSize:"subtext2",onLinkClick:r,screenName:e.user.screen_name,screenNameSize:"subtext2",weight:"normal",withLink:!0,withScreenName:!0}),o.a.createElement(s.b,{numberOfLines:2,onPress:t,size:"subtext2",weight:"bold"},e.title))),o.a.createElement(C.a,{style:A.belowMainContent},o.a.createElement(C.a,{style:A.slider},o.a.createElement(M.SeekSlider,{durationMs:e.durationMs,externalSeeking:e.isSeeking,onSeek:e.onSeek,onSliderActive:e.onSliderActive,progressMs:e.progressMs,withTimes:!0})),o.a.createElement(C.a,{style:A.iconRow},o.a.createElement(x.a,i()({accessibilityLabelIcon:d,accessibilityLabelSlider:L.volumeSlider,isMuted:e.isMuted,onMuteToggle:e.onMuteToggle,onSliderChange:e.onVolumeChange,sliderColor:"purple500",type:void 0,volumePercent:e.volume,withGraySliderTrack:!0,withNavigationSliderBackground:!0},z)),o.a.createElement(c.a,i()({accessibilityLabel:e.isPlaying?L.pause:L.play,icon:e.isPlaying?o.a.createElement(I.a,null):o.a.createElement(P.a,null),onPress:n,testID:"togglePlayback"},z)))),o.a.createElement(c.a,i()({accessibilityLabel:L.close,icon:o.a.createElement(T.a,null),onPress:a,style:A.closeIcon,testID:"close"},z)))}function _(e){const t=o.a.useRef({}),a=o.a.useRef(null),n=e.isWide&&A.wideContainerBorderRadius,i=H((()=>{t.current.isSliderActive||e.onDockPress()})),r=o.a.useMemo((()=>function(){a.current&&a.current.focus()}),[]);o.a.useEffect((()=>{const t=function(e){return function(t){switch(t.code){case"Space":return function(e){e.preventDefault(),e.stopPropagation()}(t),e.onTogglePlayback()}}}(e);return a.current&&a.current.addEventListener("keydown",t),function(){a.current&&a.current.removeEventListener("keydown",t)}}),[a.current,e.onTogglePlayback]),o.a.useEffect((()=>function(){clearTimeout(t.current.onSliderActiveTimeout)}),[]);const s=e.title||L.untitled,c={...e,title:s,onSliderActive:function(e){clearTimeout(t.current.onSliderActiveTimeout),e?t.current.isSliderActive=e:t.current.onSliderActiveTimeout=setTimeout((()=>{t.current.isSliderActive=e}),B)}};return o.a.createElement(h.a,{enabled:!0,handlers:{[h.a.shortcuts.audio.dock]:r,[h.a.shortcuts.audio.play]:e.onTogglePlayback}},o.a.createElement(p.a,{accessibilityLabel:L.voiceDock,onPress:i,ref:function(e){a.current=e},style:[j.container,n]},o.a.createElement(C.a,{style:[j.innerContainer,n]},e.isWide?o.a.createElement(R,c):o.a.createElement(O,c))))}function M(e){const t=e.isWide?b.a.DesktopVoiceTweetDock:b.a.MobileVoiceTweetDock,a=[e.isWide?[A.root,{maxWidth:e.width}]:j.root];return o.a.createElement(t,null,o.a.createElement(f.a,{id:"VoiceTweetDock"},((t,n)=>o.a.createElement(C.a,i()({ref:t()},n({style:a})),o.a.createElement(_,e)))))}M.SeekSlider=function(e){const t=o.a.useRef({isSliderActive:!1,lastSeekMs:-1}),[a,n]=o.a.useState(!1),[i,r]=o.a.useState(e.progressMs);function s(e){t.current.lastSeekMs=e,r(e)}let c;o.a.useEffect((()=>{e.externalSeeking||(t.current.lastSeekMs=-1)}),[e.externalSeeking]),c=e.externalSeeking&&i!==t.current.lastSeekMs?e.progressMs:e.externalSeeking||a?i:e.progressMs;const l=o.a.createElement(S.a,{accessibilityLabel:L.seekSlider,color:"purple500",keepLTR:!0,keyboardStep:5e3,max:e.durationMs,min:0,onActive:function(a){e.onSliderActive&&e.onSliderActive(a),t.current.isSliderActive=a,a?s(e.progressMs):e.onSeek(i),n(a)},onChange:function(a){t.current.isSliderActive?s(a):e.onSeek(a)},step:"any",value:c,withGrayBackground:!0,withHidingThumb:!0});if(!e.withTimes)return l;const u=e.durationMs-c;return o.a.createElement(C.a,null,o.a.createElement(C.a,{style:A.sliderRow},o.a.createElement(C.a,{style:A.slider},l)),o.a.createElement(C.a,{style:A.sliderTimes},o.a.createElement(v.a,{size:"subtext2",timeMs:Object(m.a)(c)?c:0}),o.a.createElement(v.a,{countdown:!0,size:"subtext2",timeMs:Object(m.a)(u)?u:0,withCountdownSymbol:!0})))};const L={untitled:d.a.gfaaead8,close:d.a.af8fa2ae,pause:d.a.fb236728,play:d.a.f17dfdb6,voiceDock:d.a.cfd13f46,unmute:d.a.b8b6344a,mute:d.a.ec8ab8b4,volumeSlider:d.a.c9a642fa,seekSlider:d.a.hea01798},z={borderColor:"transparent",color:"text",size:"medium"},j=E.a.create((e=>({root:{},container:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall},innerContainer:{backgroundColor:e.colors.navigationBackground},sliderContainer:{position:"absolute",zIndex:1,top:0,left:0,right:0,marginTop:-1*e.spacesPx.space20,transform:[{translateY:e.spacesPx.space20/2}]},dockContentRow:{padding:e.spaces.space4,flexDirection:"row",justifyContent:"center",alignItems:"center"},dockContentTitle:{marginHorizontal:e.spaces.space12,marginVertical:e.spaces.space4,flexDirection:"column",flex:1},dockContentButtonSpacer:{width:e.spaces.space12}}))),A=E.a.create((e=>{const t=e.spaces.space16,a=e.borderRadii.xLarge,n=e.spaces.space4;return{root:{alignSelf:"flex-end",width:"100%",marginVertical:e.spaces.space20,marginRight:e.spaces.space20},wideContainerBorderRadius:{borderRadius:a},wideContainer:{padding:t,paddingRight:n},wideAvatarContainer:{borderRadius:e.borderRadii.medium,padding:e.spaces.space12},mainContentContainer:{flexDirection:"row"},mainContent:{marginLeft:e.spaces.space12,marginRight:e.spaces.space40,flex:1,flexDirection:"column"},username:{color:e.colors.gray700},closeIcon:{position:"absolute",top:n,right:n},belowMainContent:{marginTop:e.spaces.space12,flexDirection:"row"},sliderRow:{flexDirection:"row"},slider:{flex:1},sliderTimes:{flexDirection:"row",justifyContent:"space-between"},iconRow:{marginLeft:e.spaces.space12,flexDirection:"row",justifyContent:"center"}}}));function H(e){return Object(y.a)((t=>{"function"==typeof e&&e()}))}const D=(e,t=1)=>`rgba(${e.red}, ${e.green}, ${e.blue}, ${t})`,B=200},b2fv:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));const n=new Date("Jan 01 1900 GMT").getTime(),i=new Date("Jan 01 1970 GMT").getTime()-n,r=e=>new Date(1e3*e-i),o=e=>(e+i)/1e3},dgjd:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));a("kYxP"),a("849X");var n=a("Q/sS"),i=a("ERkP"),r=a.n(i),o=a("RqPI"),s=a("QEWO"),c=a("Pc/x"),l=a("nmVb"),u=a.n(l),d=a("kGix"),p=a("3XMw"),m=a.n(p),h=a("b2fv"),f=a("9xb5"),b=a("Tg44"),g=a("X04g");function y(e){return(t,a)=>{const n=e.analytics.contextualScribeNamespace,i={...e.details,scribe_context_namespace:n,...a},[,r,o,s,c,l]=t.split(":"),u={page:r,section:o,component:s,element:c,action:l},d=Object.keys(u).reduce(((e,t)=>{const a=u[t];return a&&"*"!==a&&(e[t]=a),e}),{}),p={...d,action:d.action,data:{items:[{item_type:g.a.ItemType.AUDIO_SPACE,audio_space_details:i}]}};e.analytics.scribe(p)}}var S=a("Irs7"),E=a("LxAE"),v=a("yUQf");function w(e){var t,a,i,l,p;const m=Object(S.b)(),g=Object(v.a)(o.o),w=function(e){const{audioContext:t,fetchAudioSpace:a,getAudioSpace:n,reportSpaceFor:i,subscribeToScheduledSpace:r,unsubscribeFromScheduledSpace:o}=function(){const e=Object(E.a)(),[t,a]=e.audioSpaces.cache;return{getAudioSpace:n,fetchAudioSpace:o,subscribeToScheduledSpace:i,unsubscribeFromScheduledSpace:r,reportSpaceFor:c.a.proxsee.reportSpaceFor,audioContext:e};function n(e){const a=t[e];return a||k(d.a.NONE)}function i(e){return c.a.subscribeToScheduledSpace(e).then((()=>o(e)))}function r(e){return c.a.unsubscribeFromScheduledSpace(e).then((()=>o(e)))}function o(e,t){const i=n(e);if("number"==typeof t&&i.status!==d.a.NONE){if(!((Date.now()-i.time)/1e3>t))return Promise.resolve(i)}if(0===e.trim().length)return Promise.resolve(i);function r(t,n={}){const i=k(t,n);a((t=>{const a=Object.assign({},t[e],i);return t[e]=a,Object.assign({},t)}))}if(!c.a.initialized())return Promise.reject(new Error("[useAudioSpaceMetadata] AudioModule not initialized"));let o;return r(d.a.LOADING),c.a.audioSpace(e).catch((e=>{o=e})).then((e=>{e?r(d.a.LOADED,{data:e,error:void 0}):o&&r(d.a.FAILED,{error:o})}))}}();function s(t){return a(e,t)}function l(){return n(e)}function u(){return r(e)}function p(){return o(e)}function m(){const t={};return Object.keys(i).forEach((a=>{t[a]=()=>{var t;const n=f.a.getCurrentTrack(),r=null==(t=l().data)?void 0:t.started_at,o={broadcast_id:e,ntp_timestamp:void 0,timecode:void 0};if(n&&n.id3NtpTime&&r){const e=Math.floor(n.id3NtpTime);o.ntp_timestamp=e,o.timecode=Math.floor((Object(h.b)(e)-r)/1e3)}return i[a](o)}})),t}return{fetch:s,get:l,subscribe:u,unsubscribe:p,audioContext:t,report:m()}}(e),{audioContext:I,report:P,subscribe:T,unsubscribe:O}=w,R=w.get(),_=R.data,M=null==_?void 0:_.state,L={NotStarted:M===b.a.SpaceState.NotStarted,PrePublished:M===b.a.SpaceState.PrePublished,Running:M===b.a.SpaceState.Running,TimedOut:M===b.a.SpaceState.TimedOut,Ended:M===b.a.SpaceState.Ended,Canceled:M===b.a.SpaceState.Canceled,loaded:!!_||R.status===d.a.FAILED,loading:R.status===d.a.LOADING,error:R.status===d.a.FAILED&&R.error,joined:(null==(t=I.activeItem)?void 0:t.type)===s.a.space&&(null==(a=I.activeItem)?void 0:a.id)===e,recording:!1,joinable:!0,replayable:!1,superFollowersOnly:!1};function z(){var e,t;const a=null==_||null==(e=_.title)?void 0:e.trim(),n=null==_||null==(t=_.host)?void 0:t.display_name;return a||(n?x.title({name:n}):x.titleFallback)}null!=_&&_.disallow_join&&(L.joinable=!1),null!=_&&_.is_space_available_for_replay&&(L.Running?L.recording=!0:(L.Ended||L.TimedOut)&&(L.replayable=!0)),(null==_?void 0:_.narrow_cast_space_type)===b.a.AudienceEnum.superFollowersOnly&&(L.superFollowersOnly=!0);let j="live_not_recording";null!=_&&_.is_space_available_for_replay&&(j=L.Running?"live_recording":"replay");const A=new y({analytics:m,details:{broadcast_id:e,host_id:null==_||null==(i=_.host)||null==(l=i.user)?void 0:l.rest_id,host_periscope_id:null==_||null==(p=_.host)?void 0:p.periscope_user_id,audio_space_start_type:null!=_&&_.scheduled_start?"scheduled":"adhoc",audio_space_recording_type:j,state:M,is_logged_in:g}});const H={is:L,title:z,hashtags:function(){return u()(z()).map((e=>`#${e}`))},scribe:A,state:function(){const{StateEnum:e}=b.a;let t;return L.loaded&&L.error?t=e.unavailable:L.replayable?t=e.replay:L.Ended||L.TimedOut?t=e.ended:L.Running?t=e.live:L.NotStarted||L.PrePublished?t=e.scheduled:L.Canceled&&(t=e.canceled),t},getTunedInCount:function(){const{total_live_listeners:e,total_replay_watched:t}=_||{};return(null!=e?e:0)+(null!=t?t:0)}},D=c.a.initialized(),B=r.a.useRef({});B.current.utils=H,B.current.audioSpaceMetadata=w,r.a.useEffect((()=>{let e;const t=C;return D&&function a(){const n=B.current.utils.is.loaded,i=B.current.utils.is.Running;n&&!i||(B.current.audioSpaceMetadata.fetch(t),e=setTimeout(a,1e3*t))}(),function(){clearTimeout(e)}}),[D,e,M]);const F={subscribe:T,unsubscribe:O,report:P,join:function(t){const a=_;a&&c.a.proxsee.login().then((()=>{const i=H.is.joinable&&H.is.Running,r=i||H.is.replayable,o=a.media_key;o&&r&&(H.is.replayable?(n.f(a.started_at),H.scribe(":audiospace:replay:recording:play:click",{origin:t})):n.e(),H.is.superFollowersOnly?n.h():n.g(),I.load.space(e,o,i),H.scribe(":audiospace:event:join:listener:success",{origin:t}))}))}};return{space:_,audioContext:I,utils:H,handlers:F}}function k(e,t={}){const a={status:e,time:Date.now()};return t.data&&(a.data=t.data),t.error&&(a.error=t.error),a}const C=15,x={title:m.a.b6d3e0ef,titleFallback:m.a.ab4fc8bc}},hUaP:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a("rHpw");const i=.85,r=.7635,o=.5,s=812,c=300;function l(e,t,a){let l=e;if(t){l=Math.min(s,e);const{height:t,top:i}=a||{},r=i+t;if(r-l<0){const e=r-u(n.a.theme).marginVerticalPx;e>c&&(l=e)}}return{collapse:l*o,half:l*r,sheetMaxHeight:l*i,full:l}}function u(e){const t=e.borderRadiiPx.large,a=e.spaces.space16,n=e.spacesPx.space8;return{borderRadius:t,paddingHorizontal:a,marginVertical:e.spaces.space20,marginVerticalPx:e.spacesPx.space20,shadowOffset:n}}},hhqq:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),r=a("ERkP"),o=a.n(r),s=a("21zW"),c=a("rHpw"),l=a("MH+I"),u=a("jV+4"),d=a("MWbm");function p(e){const{speaker:t,speakerAvatarSize:a="small",speakerNameSize:n="subtext2",speakerScreenNameSize:i="subtext2",timestamp:r,withSpeakerAvatar:s=!0,withSpeakerScreenName:c=!0,withTimestamp:l=!1}=e,p=Date.now()-r;return o.a.createElement(d.a,{style:f.root},o.a.createElement(u.a,{avatarSize:a,name:t.name,nameSize:n,profileImageUrl:s?t.profile_image_url_https:"",screenName:t.screen_name,screenNameSize:i,style:f.userName,withScreenName:c}),l?o.a.createElement(h,{size:n,timeMs:p}):null)}function m(e,t){return e&&t&&e.id_str&&t.id_str?e.id_str===t.id_str:!!(e&&t&&e.screen_name&&t.screen_name)&&e.screen_name===t.screen_name}function h({size:e="small",timeMs:t}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{size:e}),o.a.createElement(l.a,{color:"gray700",humanReadable:!0,size:e,timeMs:t}))}const f=c.a.create((e=>({root:{flexDirection:"row",flexShrink:1,marginTop:"0.25em"},userName:{marginBottom:e.spaces.space4,paddingRight:e.spaces.space4}})));var b=a("t62R");function g(e){const{caption:t,captionTextSize:a,withSpeaker:n=!0,...r}=e,{speaker:s}=t;return o.a.createElement(d.a,{style:[y.root,!n&&y.missingSpeakerSpacer]},n?o.a.createElement(p,i()({},r,{speaker:s,timestamp:t.timestamp})):null,o.a.createElement(b.b,{lang:t.lang,size:a,style:y.captionText},t.text))}const y=c.a.create((e=>({root:{paddingBottom:"0.25em",flex:1},missingSpeakerSpacer:{paddingTop:"0.1em"},captionText:{lineHeight:"1.5em",paddingVertical:"0.1em",fontWeight:e.highContrastEnabled?e.fontWeights.heavy:e.fontWeights.regular}}))),S=e=>({width:e,height:e});function E(e){const{size:t}=e,a=Math.floor(t/4.5);return o.a.createElement(d.a,{style:[C.root,w(t)]},o.a.createElement(v,{width:a}))}function v({width:e}){return o.a.createElement(o.a.Fragment,null,Array(3).fill(0).map(((t,a)=>o.a.createElement(d.a,{key:a,style:[C.dot,k(a,e)]}))))}function w(e){return{...S(e)}}function k(e,t){return{animationDelay:.5*e+"s",borderRadius:"100%",...S(t)}}const C=c.a.create((e=>({root:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"center"},dot:{position:"relative",backgroundColor:e.colors.purple500,display:"inline-block",margin:"auto",pointerEvents:"none",willChange:"transform",animationKeyframes:[{"0%":{backgroundColor:e.colors.purple500},"50%":{backgroundColor:e.colors.purple200},"100%":{backgroundColor:e.colors.purple200}}],animationDirection:"alternate",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}})));var x=a("sIe2");const I=28,P=28;function T(e){const{captions:t,footerHeight:a=I,headerHeight:n=P,scrollContainerStyle:r,unintelligible:s=!1,withFrequentSpeakerAnnouncement:c=!1,...l}=e,u=o.a.useRef(null),p=o.a.useRef(null),h=o.a.useRef({containerHeight:void 0,hasUserScrolledUp:!1});function f(){var e,t;null!=(e=h.current)&&e.hasUserScrolledUp||(null==(t=p.current)||t.scrollToEnd({animated:!0}))}return o.a.useEffect((()=>{var e;h.current.containerHeight=null==u||null==(e=u.current)?void 0:e.getBoundingClientRect().height}),[]),o.a.useEffect((()=>{let e=null;return function t(){f(),e=setTimeout(t,1500)}(),function(){clearTimeout(e)}}),[]),o.a.createElement(d.a,{ref:u,style:_.root},o.a.createElement(x.a,{ListFooterComponent:o.a.createElement(R,{footerHeight:a,unintelligible:s}),ListHeaderComponent:o.a.createElement(O,{headerHeight:n}),accessibilityRole:"listbox",contentContainerStyle:{marginBottom:0},data:t,keyExtractor:e=>e.sequenceId,maintainVisibleContentPosition:{minIndexForVisible:0},onEndReached:function(){f()},onScroll:function({nativeEvent:{contentOffset:e,contentSize:t,layoutMeasurement:n}}){const i=2*(h.current.containerHeight||0)+a,r=t.height-n.height-e.y-i>0;h.current.hasUserScrolledUp=r},ref:p,renderItem:function({index:e,item:a}){let n=!0;var r;return c||(n=!m(a.speaker,null==(r=t[e-1])?void 0:r.speaker)),o.a.createElement(g,i()({},l,{caption:a,key:a.sequenceId,withSpeaker:n}))},scrollEventThrottle:100,style:[_.captionsContainer,r]}))}function O(e){const{headerHeight:t}=e;return o.a.createElement(d.a,{style:{height:t}})}function R(e){const{footerHeight:t,unintelligible:a}=e;return o.a.createElement(o.a.Fragment,null,a?o.a.createElement(E,{size:20}):null,o.a.createElement(d.a,{style:{height:t}}))}const _=c.a.create((e=>({root:{height:"100%",width:"100%",flex:1},captionsContainer:{maxHeight:"100%",height:"100%"}})));T.Caption=g,T.areSpeakersIdentical=m;t.a=T},kRXa:function(e,t,a){"use strict";var n=a("97Jx"),i=a.n(n),r=(a("kYxP"),a("ERkP")),o=a.n(r),s=a("/yvb"),c=a("3XMw"),l=a.n(c),u=a("py1r"),d=a("oLZl"),p=a("9RkS"),m=a("rHpw"),h=a("A53h"),f=a("sTSP"),b=a("MWbm");const g=l.a.b3160a69;class y extends o.a.PureComponent{constructor(...e){super(...e),this.state={showSlider:!1,isSliderActive:!1},this._handleButtonLayoutChange=e=>{const{containerHeight:t}=this.props,{sliderMaxHeight:a}=this.state,{height:n}=e.nativeEvent.layout;if(t){const e=t-n-m.a.theme.spacesPx.space20+"px";e!==a&&this.setState({sliderMaxHeight:e})}},this._handleSliderActive=e=>this.setState({isSliderActive:e}),this._showSlider=()=>this.setState({showSlider:!0}),this._hideSlider=()=>this.setState({showSlider:!1}),this._shouldShowSlider=e=>e.showSlider||e.isSliderActive,this._normalizeValue=e=>Math.max(0,Math.min(e,100)),this._getSliderMarginStyles=e=>{const t=null!=e?e:"medium";return E["large"===t?"xLarge":t]},this._handleKeyDown=e=>{const{onSliderChange:t,volumePercent:a}=this.props,{altKey:n,ctrlKey:i,metaKey:r}=e;if(n||i||r)return;const o=e.key===d.a.ArrowUp||e.key===d.a.ArrowRight,s=e.key===d.a.ArrowDown||e.key===d.a.ArrowLeft;if(o||s){const n=this._normalizeValue(a+10*(o?1:-1));t&&t(n),e.preventDefault()}}}componentDidUpdate(e,t){const{onHideSlider:a,onShowSlider:n,onSliderChange:i}=this.props;if(i){const e=this._shouldShowSlider(t),i=this._shouldShowSlider(this.state);!e&&i&&n&&n(),e&&!i&&a&&a()}}render(){const{accessibilityLabelIcon:e,accessibilityLabelSlider:t,containerHeight:a,isMuted:n,onHideSlider:r,onMuteToggle:c,onShowSlider:l,onSliderChange:d,pullRight:y,sliderColor:E,volumePercent:v,withGraySliderTrack:w,withNavigationSliderBackground:k,...C}=this.props,x=n?o.a.createElement(h.a,null):o.a.createElement(f.a,null),I=k?S.sliderWithNavigationBackground:S.sliderWithDefaultBackground;return o.a.createElement(u.a,{disabled:!d,onFocusRingGained:d?this._showSlider:void 0,onFocusRingLost:d?this._hideSlider:void 0,onHoverIn:d?this._showSlider:void 0,onHoverOut:d?this._hideSlider:void 0},o.a.createElement(b.a,{onKeyDown:d?this._handleKeyDown:void 0},o.a.createElement(s.a,i()({accessibilityLabel:e,icon:x,onLayout:this._handleButtonLayoutChange,onPress:c,pullRight:y,type:"onMediaText"},C)),d&&o.a.createElement(u.a,{onFocusRingGained:l,onFocusRingLost:r},(({isFocusedWithin:e})=>o.a.createElement(b.a,{style:[S.sliderBackground,I,this._getSliderMarginStyles(C.size),e||this._shouldShowSlider(this.state)?null:m.a.visuallyHidden,a&&{maxHeight:this.state.sliderMaxHeight}]},o.a.createElement(p.a,{accessibilityLabel:t,accessibilityLabelValueText:g({volumePercent:v}),color:E||"white",isVertical:!0,keyboardStep:10,max:100,min:0,onActive:this._handleSliderActive,onChange:d,step:1,value:n?0:v||0,withGrayBackground:w}))))))}}y.defaultProps={pullRight:!1};const S=m.a.create((e=>({sliderBackground:{bottom:0,borderRadius:e.borderRadii.xLarge,height:`calc(${e.spaces.space64}*2)`,left:e.spaces.space4,position:"absolute",padding:e.spaces.space12,paddingVertical:e.spaces.space16,right:e.spaces.space4},sliderWithDefaultBackground:{backgroundColor:e.colors.translucentBlack30},sliderWithNavigationBackground:{backgroundColor:e.colors.navigationBackground,boxShadow:e.boxShadows.xSmall}}))),E=m.a.create((({spaces:e,spacesPx:t})=>{const a=`${t.space16+t.space4+t.space2}px`,n=`${t.space20+t.space24}px`,i=`${t.space12+t.space40}px`;return{xSmall:{marginBottom:e.space24},small:{marginBottom:e.space32},medium:{marginBottom:e.space36},large:{marginBottom:n},xLarge:{marginBotom:i},smallCompact:{marginBottom:a},DEPRECATED_normalCompact:{marginBottom:e.space32},DEPRECATED_normal:{marginBottom:e.space40}}}));t.a=y},lOQR:function(e,t,a){"use strict";var n=a("6/RC"),i=a.n(n),r=a("aITJ");const o={setLocation(e){document.location=e},getAppStoreURLs(e="rwoiah"){const t=s(e),a=[t.android,t.ios,t.windows],n=a.find((e=>e.matches()));return n?[n]:a},getiOSAppStoreLink(e){const t=s(e);return t.ios.matches()?t.ios.url:t.ios.webUrl},getAndroidAppStoreLink(e){const t=s(e);return t.android.matches()?t.android.url:t.android.webUrl},goToAppStore(){const e=this.getAppStoreURLs();e[0]&&o.setLocation(e[0].url)},openApp(e="twitter://timeline"){i.a.canUseDOM&&o.setLocation(e)}},s=(e="rwoiah")=>({android:{platform:"android",matches:()=>r.b.isAndroid(),url:`market://details?id=com.twitter.android&referrer=utm_source%3Drweb%26utm_medium%3D${e}`,webUrl:`https://play.google.com/store/apps/details?id=com.twitter.android&referrer=utm_source%3Drweb%26utm_medium%3D${e}`},ios:{platform:"ios",matches:()=>r.b.isIOS(),url:`itmss://itunes.apple.com/us/app/twitter/id333903271?mt=8&uo=${e}`,webUrl:`https://itunes.apple.com/us/app/twitter/id333903271?mt=8&uo=${e}`},windows:{platform:"windows",matches:()=>r.b.isWindowsPhone(),url:"ms-windows-store://pdp/?ProductId=9wzdncrfj140",webUrl:"https://www.microsoft.com/p/twitter/9wzdncrfj140"}});t.a=o},nAvj:function(e,t,a){"use strict";var n=a("ssnq");function i(e){return e/100}t.a=function(e){const t=new n.a(Object.assign({},r,e));return{store:t,setPlayerApi:function(e,a){t.setState((t=>({...t,id:e,api:a})))},setPlayerState:function(e,a,n){var r;let o="SPEAKERS";const s={host:{audioLevel:0}};if(n){s.host.audioLevel=i(n.audioLevels.host);const e=Object.keys(n.guests);for(let t=0;t<e.length;t++){const a=e[t],r=n.guests[a],c=r.UserId,l=i(n.audioLevels.guests[a]);s[c]={guest:r,audioLevel:l},o+=`-${c}`}}const c={signature:o,lookup:s},l=(null==(r=a.tracks[a.currentTrackId])?void 0:r.chatToken)||null;t.setState((t=>({...t,id:e,state:a,guests:c,chatToken:l})))},getCurrentTrack:a,useCurrentTrack:function(){return t.useSlice((({state:e})=>a(e)))},useIsMuted:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isMuted)))},useAudioLevel:function(e){return t.useSlice((t=>{const a=e.isHost?"host":e.periscopeUserId;if(!a)return 0;const n=t.guests.lookup[a],i=null==n?void 0:n.audioLevel;return"number"==typeof i?i:0}))},useGuestsLookup:function(){return t.useSlice((e=>e.guests.lookup))},useActiveSpeakersLookup:function(){const e=t.useSlice((e=>e.guests.lookup),{equalityFn:(e,t,a,n)=>a.guests.signature===n.guests.signature});return{get:t=>e[t]}},usePlayerApi:function(){return t.useSlice((({api:e})=>e))},usePlayerState:function(){return t.useSlice((({state:e})=>e))},useIsSeeking:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isSeeking)))},usePlaybackRate:function(){return t.useSlice((({state:e})=>(null==e?void 0:e.playbackRate)||1))},useIsPlaying:function(){return t.useSlice((({state:e})=>Boolean(null==e?void 0:e.isPlaying)))},useCurrentTrackDurationMs:function(){return t.useSlice((({state:e})=>{var t;return null==(t=a(e))?void 0:t.durationMs}))},useCurrentTrackTimeMs:function(){return t.useSlice((({state:e})=>{var t;return null==(t=a(e))?void 0:t.currentTimeMs}))}};function a(e){var a;let n=e;return n||(n=t.getState().state),null==(a=n)?void 0:a.tracks[n.currentTrackId]}};const r={id:null,api:null,state:null,guests:{lookup:{},signature:""},chatToken:null}},nmVb:function(e,t,a){"use strict";var n=a("IGGJ");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=(0,i.default)(e),n=0;n<a.length;n++)t.push(a[n].hashtag);return t};var i=n(a("yyPN"));e.exports=t.default},p3P5:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return C}));var n=a("ERkP"),i=a.n(n),r=a("G/+M"),o=a("v6aA"),s=a("3XMw"),c=a.n(s),l=(a("kYxP"),a("zb92")),u=a("RuTB");var d=Object(l.a)({loader:()=>c.a.emoji.then((()=>Promise.all([a.e(65),a.e(284)]).then(a.bind(null,"4AX5")))),renderPlaceholder:(e,t)=>i.a.createElement(u.a,{hasError:e,onRetry:t})}),p=a("MWbm"),m=a("TIdA"),h=a("oSwX"),f=a("t62R"),b=a("jV+4"),g=a("rHpw"),y=a("VKFJ");const S=m.a.createLayoutCache();function E(e){const{featureSwitches:t}=i.a.useContext(o.a),{children:a,hasNftAvatar:n,isVerified:r,kind:s,name:c,periscopeUserId:l,screenName:u,width:d}=e,m=n&&t.isTrue("responsive_web_nft_avatar"),g=s?w[s]:null,y=e.profile_image_url_https||"",E=a||i.a.createElement(h.default,{imageLayoutCache:S,screenName:u,shape:m?"hex":"circle",size:x,style:k.participantAvatarSize,uri:y,withHoverCard:!0,withLink:!0});return i.a.createElement(p.a,{style:[{width:d},k.participantCell]},i.a.createElement(p.a,{style:k.participantAvatarSize},E,i.a.createElement(v,{periscopeUserId:l})),i.a.createElement(f.b,{numberOfLines:1,size:"subtext2",style:k.participantCellUsername,weight:"bold"},i.a.createElement(b.a,{isVerified:r,name:c})),i.a.createElement(p.a,{style:k.participantCellKindContainer},e.speakingIndicator,i.a.createElement(f.b,{color:"gray700",numberOfLines:1,size:"subtext2",style:k.participantCellKind},g||i.a.createElement("span",null," "))))}function v({periscopeUserId:e}){const{avatar:{size:t}}=I(g.a.theme),a=r.c(e);return i.a.createElement(i.a.Fragment,null,null==a?void 0:a.map((e=>i.a.createElement(d,{key:e.id,reaction:e,size:t}))))}const w={[y.a.host]:c.a.cededf2a,[y.a.cohost]:c.a.f77997b0,[y.a.speaker]:c.a.i48f4ed8,[y.a.listener]:c.a.a77c8e02},k=g.a.create((e=>{const t=I(e),a={width:t.avatar.size,height:t.avatar.size};return{participantCell:{justifyContent:"center",alignItems:"center",...t.participantCell},participantCellUsername:t.participantCellUsername,participantCellKindContainer:{position:"relative",justifyContent:"center"},participantCellKind:{lineHeight:t.kind.lineHeight},participantAvatarSize:a}}));function C(e){const t=I(e);return{getWidth:function(){return t.participantCell.minWidth+2*t.participantCell.paddingHorizontal},getHeight:function(){return t.participantCell.height+t.participantCell.marginBottom}}}const x="xxLarge";function I(e){const t=h.default.getSizeStyle("xxLarge").width||e.spacesPx.space48,a=e.spacesPx.space20,n=e.spacesPx.space8,i=e.spacesPx.space80+2*n,r=e.spacesPx.space4,o=e.lineHeightsPx.headline2,s=e.lineHeightsPx.headline2;return{participantCell:{marginBottom:a,paddingHorizontal:n,minWidth:i,height:t+r+o+s+a},avatar:{size:t},participantCellUsername:{lineHeight:o,paddingTop:r},kind:{lineHeight:s}}}},ssnq:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("kYxP");var n=a("ERkP"),i=a.n(n),r=a("FgXs");function o(e){return"object"!=typeof e||null===e?e:Array.isArray(e)?e.map(o):Object(r.a)(e,(e=>o(e)))}var s=a("fs1G"),c=a("9EWH");function l(e){const t=o(e||{});let a=o(t);const n=new Set;function r(e){return n.add(e),function(){n.delete(e)}}function l(){n.forEach((e=>{e(a)}))}function d(e){return function(t){const a=e.current.slice,n=e.current.state,i=e.current.selector(t);e.current.equality(i,a,t,n)||(e.current.slice=i,e.current.state=t,e.current.onUpdate(e.current.slice))}}return{getState:function(){return a},setState:function(e){a=Object(c.a)(a,(t=>{const a=e(t);if(a&&"object"==typeof a){!function(e,t){const a={};Object.keys(t).forEach((n=>{a[n]=!0,e[n]=t[n]})),Object.keys(e).forEach((t=>{a[t]||delete e[t]}))}(t,a)}})),l()},reset:function(){a=o(t),l()},useSlice:function(e,t){const n=(null==t?void 0:t.equalityFn)||u.equality,o=s.a,c=i.a.useRef({state:a,slice:e(a),selector:e,equality:n,onUpdate:o});c.current.selector=e,c.current.equality=n;const[l,p]=i.a.useState((()=>c.current.slice));return i.a.useEffect((()=>{let e=!0;c.current.onUpdate=e=>p((()=>e));const t=d(c);function n(a){e&&t(a)}n(a);const i=r(n);return function(){e=!1,i()}}),[]),l},subscribe:function(e,t,n){const i=(null==n?void 0:n.equalityFn)||u.equality,o={current:{state:a,slice:e(a),selector:e,equality:i,onUpdate:t}},s=r(d(o));return o.current.onUpdate(o.current.slice),s}}}Object(c.b)();const u={equality:(e,t,a,n)=>e===t}},tM6R:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={help:"https://help.twitter.com/using-twitter/spaces",settings:"https://twitter.com/settings/spaces"}},xVWt:function(e,t,a){"use strict";a.d(t,"a",(function(){return Gt})),a.d(t,"b",(function(){return Yt})),a.d(t,"c",(function(){return ra}));var n=a("97Jx"),i=a.n(n),r=(a("kYxP"),a("cFyg")),o=a("Q/sS"),s=a("ERkP"),c=a.n(s),l=a("G/+M"),u=a("26a9"),d=a("3XMw"),p=a.n(d),m=a("dgjd"),h=a("MWbm"),f=a("6iuV"),b=a("TCYy"),g=a("uCxL"),y=a("jV+4"),S=a("rHpw");function E(e){const{space:t}=Object(m.a)(e.audioSpaceId);if(!t)return null;const{sharings:a}=t,n=[...a].reverse().filter((e=>e&&e.tweet&&e.user));return n.length?c.a.createElement(v,{items:n}):null}function v(e){const{items:t}=e,a=t.reduce(((e,t)=>t.tweet?e.length?`${e}.${t.id}`:t.id:e),"");const[n,i]=c.a.useState(),r=Math.max(0,t.findIndex((e=>e.id===n)));return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{childrenStyle:x.carouselChildrenStyles,key:a,onVisibleRangeChange:({index:e,intersectionRatio:a})=>{1===a&&i(t[e].id)},updateObserverWithChildren:!0,visibleItemIndex:r},t.map(((e,t)=>c.a.createElement(w,{item:e,key:e.id||t})))),c.a.createElement(b.a,{count:t.length,key:`${a}-indicators`,max:k,selectedIndex:r}))}function w(e){if(!e.item)return null;const{tweet:t,user:a}=e.item;return c.a.createElement(h.a,{key:t.id_str,style:x.sharedContentContainer},c.a.createElement(g.a,{isCondensed:!0,tweet:t}),c.a.createElement(y.a,{avatarSize:"small",name:C.sharedBy({name:null==a?void 0:a.name}),nameSize:"subtext2",profileImageUrl:null==a?void 0:a.profile_image_url_https,style:x.sharedContentBy,weight:"normal"}))}const k=8,C={sharedBy:p.a.bdfa93eb},x=S.a.create((e=>({sharedContentContainer:{paddingHorizontal:ra(e).container.paddingHorizontal,width:"100%"},carouselChildrenStyles:{scrollSnapAlign:"center",scrollSnapStop:"always",width:"100%"},sharedContentBy:{marginTop:e.spaces.space8}})));var I=a("2C8o"),P=a("FGLp"),T=a("hhqq"),O=a("vbJ7");function R(e){const{audioSpaceId:t,height:a}=e,n=I.d();return o.r()?c.a.createElement(h.a,{style:[M.container,{height:a}]},c.a.createElement(h.a,{style:M.fadeIn}),c.a.createElement(_,{audioSpaceId:t,captions:n}),c.a.createElement(h.a,{style:M.fadeOut})):null}function _({audioSpaceId:e,captions:t}){const{utils:a}=Object(m.a)(e);return Object(P.a)((()=>{a.scribe(":audiospace:::transcription:impression")})),c.a.createElement(T.a,{captionTextSize:"body",captions:t,footerHeight:28,headerHeight:28,scrollContainerStyle:M.scrollContainerStyle,withSpeakerAvatar:!0,withSpeakerScreenName:!0})}const M=S.a.create((e=>{const t=O.a.hexToCss(e.colors.navigationBackground,0),a=O.a.hexToCss(e.colors.navigationBackground,.8);return{container:{width:"100%",paddingTop:e.spaces.space2,paddingHorizontal:e.spaces.space8,backgroundColor:e.colors.navigationBackground,boxShadow:`0 0 ${e.spacesPx.space4}px 0 ${e.colors.gray50}`,position:"relative"},scrollContainerStyle:{paddingHorizontal:e.spaces.space8},fadeIn:{position:"absolute",top:0,left:0,width:"100%",height:e.spaces.space16,backgroundImage:e.highContrastEnabled?void 0:`linear-gradient(to top, ${t}, ${a})`,pointerEvents:"none",zIndex:1},fadeOut:{position:"absolute",bottom:0,left:0,width:"100%",height:e.spaces.space8,backgroundImage:e.highContrastEnabled?void 0:`linear-gradient(to bottom, ${t}, ${a})`,pointerEvents:"none",zIndex:1}}}));var L=a.p+"spaces_clipping_banner.21bdf4b7.png",z=a("tM6R"),j=a.p+"bird_spaces_transparent.4a7e7197.png",A=a("cm6r"),H=a("Wms4"),D=a("+/1j");function B(e){return e.withEducationOnClick&&e.audioSpaceId?c.a.createElement(F,{audioSpaceId:e.audioSpaceId}):c.a.createElement(N,e)}function F(e){const{utils:t}=Object(m.a)(e.audioSpaceId),{openSheet:a}=o.n();return c.a.createElement(A.a,{accessibilityLabel:U.recordingActive,onPress:()=>{a(o.b.recordingEducation),t.scribe(":audiospace::recording:icon:click")}},c.a.createElement(N,{audioSpaceId:e.audioSpaceId}))}function N(e){return c.a.createElement(h.a,{style:V.indicatorWrapper},c.a.createElement(H.a,{background:"navigationBackground"},c.a.createElement(h.a,{style:V.indicatorContainer},c.a.createElement(h.a,{style:[V.indicatorDot,e.withoutPulse?null:V.indicatorDotAnimation]}),c.a.createElement(D.a,{accessibilityRole:"presentation",selectable:!1,style:V.recordingIndicatorText},U.REC))))}const V=S.a.create((e=>({indicatorWrapper:{width:"fit-content"},recordingIndicatorText:{color:e.colors.text,fontWeight:e.fontWeights.bold},indicatorContainer:{flexDirection:"row",alignItems:"center"},indicatorDot:{width:e.spaces.space8,height:e.spaces.space8,borderRadius:e.borderRadii.infinite,marginRight:e.spaces.space4,backgroundColor:"#E0245E"},indicatorDotAnimation:{opacity:.2,animationDuration:"1s",animationKeyframes:[{"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}}],animationTimingFunction:"cubic-bezier(0.44, 0.01, 0.48, 0.96)",animationIterationCount:"infinite"}}))),U={REC:"REC",recordingActive:p.a.b4f91a8a};var q=a("TIdA"),W=a("A91F"),$=a("t62R"),G=a("/yvb"),J=a("Lsrn"),X=a("k/Ka");const K=(e={})=>Object(X.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[J.a.root,e.style],viewBox:"0 0 24 24"},c.a.createElement("g",null,c.a.createElement("path",{d:"M17.97 8.24c-.414 0-.75.336-.75.75v3.012c0 2.726-2.268 4.943-5.056 4.943h-.328c-2.788 0-5.056-2.217-5.056-4.943V8.99c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.012c0 3.363 2.636 6.128 5.984 6.414l-.01 2.334H8.268c-.415 0-.75.336-.75.75s.335.75.75.75h7.46c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-2.977l.01-2.335c3.335-.3 5.956-3.06 5.956-6.413V8.99c0-.415-.336-.75-.75-.75z"}),c.a.createElement("path",{d:"M12 15.42c2.077 0 3.766-1.688 3.766-3.765v-6.14c0-2.076-1.69-3.765-3.766-3.765S8.234 3.44 8.234 5.516v6.14c0 2.075 1.69 3.765 3.766 3.765zM9.734 5.517c0-1.25 1.016-2.266 2.266-2.266s2.266 1.017 2.266 2.266v6.14c0 1.25-1.017 2.265-2.266 2.265s-2.266-1.016-2.266-2.265v-6.14z"})));K.metadata={width:24,height:24};var Y=K,Q=a("RUwF");function Z(){const{requestSheetDismissal:e}=o.n();return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{style:ae.imageContainer},c.a.createElement(q.a,{accessibilityLabel:"",aspectMode:W.a.COVER,image:j})),c.a.createElement(h.a,{style:ae.contentContainer},c.a.createElement(B,{withoutPulse:!0}),c.a.createElement($.b,{size:"title3",style:ae.title,weight:"bold"},te.title),c.a.createElement($.b,{color:"gray700"},te.subtitle),c.a.createElement(ee,{icon:c.a.createElement(Y,{style:ae.icon}),subtitle:te.sections.onlySpeakersRecorded.subtitle,title:te.sections.onlySpeakersRecorded.title}),c.a.createElement(ee,{icon:c.a.createElement(Q.a,{style:ae.icon}),subtitle:te.sections.replayOrShare.subtitle,title:te.sections.replayOrShare.title,withOnlyMarginBottom:!0}),c.a.createElement($.b,{color:"gray700",size:"body",style:ae.disclaimer},c.a.createElement(p.a.I18NFormatMessage,{$i18n:"aab35605"},c.a.createElement($.b,{color:"text",link:z.a.help,withUnderline:!0},p.a.ffc53fbd))),c.a.createElement(G.a,{onClick:e,type:"primaryOutlined"},te.gotIt)))}function ee(e){return c.a.createElement(h.a,{style:[ae.sectionContainer,e.withOnlyMarginBottom?ae.sectionMarginBottom:ae.sectionMarginVertical]},e.icon,c.a.createElement(h.a,{style:ae.sectionContent},c.a.createElement($.b,{weight:"bold"},e.title),c.a.createElement($.b,{color:"gray700"},e.subtitle)))}const te={title:p.a.g1c6f16e,subtitle:p.a.e5609214,gotIt:p.a.j24c37b2,sections:{onlySpeakersRecorded:{title:p.a.g665514c,subtitle:p.a.ja196c5a},replayOrShare:{title:p.a.dd317ed6,subtitle:p.a.hd2dfb72}}},ae=S.a.create((e=>({imageContainer:{height:"128px",width:"100%"},contentContainer:{padding:e.spaces.space32},title:{marginTop:e.spaces.space4,marginBottom:e.spaces.space8},disclaimer:{marginVertical:e.spaces.space16},icon:{marginRight:e.spaces.space12,fill:e.colors.purple500,fontSize:e.fontSizes.title3},sectionContent:{flexShrink:1},sectionContainer:{flexFlow:"row nowrap"},sectionMarginVertical:{marginVertical:e.spaces.space12},sectionMarginBottom:{marginBottom:e.spaces.space12}})));var ne=a("SNyS"),ie=a("S+H3");function re(e){const{requestSheetDismissal:t}=o.n();return c.a.createElement(c.a.Fragment,null,e.withPopoverLayout?null:c.a.createElement(h.a,{style:oe.imageContainer},c.a.createElement(q.a,{accessibilityLabel:"",aspectMode:W.a.COVER,image:L})),c.a.createElement(h.a,{style:oe.contentContainer},c.a.createElement($.b,{size:"title3",style:oe.title,weight:"bold"},ce.title),c.a.createElement($.b,{color:"gray700"},ce.subtitle),se.map(((e,t)=>c.a.createElement(ee,i()({key:t},e)))),e.withPopoverLayout?null:c.a.createElement(G.a,{onClick:e.onButtonClick||t,style:oe.button,type:"primaryOutlined"},ce.gotIt)))}const oe=S.a.create((e=>({imageContainer:{height:"180px",width:"100%",marginTop:e.spaces.space12},button:{marginTop:e.spaces.space24},contentContainer:{padding:e.spaces.space32},title:{marginBottom:e.spaces.space8},icon:{marginRight:e.spaces.space12,fill:e.colors.purple500,fontSize:e.fontSizes.title2}}))),se=[{icon:c.a.createElement(ne.a,{style:oe.icon}),title:p.a.f7c8617a,subtitle:p.a.ecc7d2ec},{icon:c.a.createElement(ie.a,{style:oe.icon}),title:p.a.d575ee02,subtitle:p.a.bb1e43e4},{icon:c.a.createElement(Y,{style:oe.icon}),title:p.a.ed1d1cc0,subtitle:p.a.e5d193c8}],ce={title:p.a.e1547ec0,subtitle:p.a.i154245e,gotIt:p.a.j24c37b2};a("KrtT");var le=a("HmZq"),ue=a("Pc/x"),de=a("hUaP"),pe=a("9xb5"),me=a("AMlz"),he=a("zCf4"),fe=a("efqG"),be=a("sIe2");function ge(){return c.a.createElement(fe.a,{contentStyle:ke.popoverContentStyles,renderContent:function(e,t){return c.a.createElement(re,{onButtonClick:e,withPopoverLayout:"popover"===t})},withArrow:!0,withFixedPosition:!0,wrapperStyle:ke.helpCircle},c.a.createElement(G.a,{backgroundColor:"transparent",borderColor:"transparent",color:"text",icon:c.a.createElement(ne.a,null),size:"xSmall"}))}function ye(e){const{id3NtpTime:t}=e,a=Object(me.a)(),n=t&&Math.floor(t-a.durationSeconds);let i=[];return n&&t&&(i=le.a(n,t)),c.a.createElement(h.a,null,c.a.createElement(be.a,{accessibilityRole:"listbox",contentContainerStyle:ke.clipContent,data:i,keyExtractor:e=>e.sequenceId,renderItem:function({index:e,item:t}){var a;const n=null==(a=i[e-1])?void 0:a.speaker,r=!T.a.areSpeakersIdentical(t.speaker,n);return c.a.createElement(T.a.Caption,{caption:t,key:t.sequenceId,withSpeaker:r})},scrollEventThrottle:100}))}function Se(e){const t=Object(he.f)(),{requestSheetDismissal:a}=Object(o.n)(),{space:n}=Object(m.a)(e.audioSpaceId),i=Object(me.a)(),r=c.a.useCallback((function(){if(n){const r=e.currentTimeMs;if(!r)return;ue.a.proxsee.createClip({broadcast_id:n.rest_id,start_timecode_millis:Math.max(Math.floor(r-i.durationMs),0),end_timecode_millis:Math.floor(r)}).then((e=>{if(null!=e&&e.clip){a();const n=new URLSearchParams({[Ee.clipId]:e.clip.clip_id});t.push({pathname:"/compose/tweet",query:{text:ve(e.clip.broadcast_id,n.toString())},state:{positionCursorAtBeginning:!0}})}}))}}),[n,i.durationMs,a,t,e.currentTimeMs]);return c.a.createElement(G.a,{onClick:r,type:"primaryFilled"},we.next)}const Ee=Object.freeze({clipId:"clipID"}),ve=(e,t)=>`https://twitter.com/i/spaces/${e}?${t}`,we={heading:p.a.cc724cb0,cancel:p.a.cfd2f35e,next:p.a.c1df579e},ke=S.a.create((e=>{const t=Object(de.b)(e);return{container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},headingContainer:{justifyContent:"center",alignItems:"center",marginTop:e.spaces.space4,marginBottom:e.spaces.space20,paddingHorizontal:t},clipContent:{marginBottom:e.spaces.space8},cancelButton:{position:"absolute",left:0},helpCircle:{position:"absolute",right:0},popoverContentStyles:{padding:e.spaces.space8}}}));var Ce=function(e){const{requestSheetDismissal:t}=Object(o.n)(),a=c.a.useRef(pe.a.getCurrentTrack()).current;return c.a.createElement(h.a,{style:ke.container},c.a.createElement(h.a,{style:ke.headingContainer},c.a.createElement(G.a,{backgroundColor:"transparent",borderColor:"transparent",color:"text",onClick:t,size:"xSmall",style:ke.cancelButton},we.cancel),c.a.createElement($.b,{align:"center",size:"headline1",weight:"bold"},we.heading),c.a.createElement(ge,null)),c.a.createElement(ye,i()({},e,{id3NtpTime:null==a?void 0:a.id3NtpTime})),c.a.createElement(Se,i()({},e,{currentTimeMs:null==a?void 0:a.currentTimeMs})))},xe=a("PaZX"),Ie=a("lOQR"),Pe=a("SQlS"),Te=a("ISLN"),Oe=a("sTSP"),Re=a("Zg3A");const _e=(e={})=>Object(X.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[J.a.root,e.style],viewBox:"0 0 24 24"},c.a.createElement("g",null,c.a.createElement("path",{d:"M22.498 6.008c-.02-.718-.537-1.326-1.24-1.447-4.102-.626-8.048-3.065-8.468-3.328-.44-.293-1.074-.324-1.572 0-.04.02-4.19 2.672-8.497 3.33-.683.12-1.2.728-1.22 1.467 0 .495.03 12.174 9.933 16.85.195.08.39.12.566.12.243 0 .458-.07.595-.132 10.118-4.776 9.913-16.79 9.903-16.86zm-11.23 15.1C2.984 16.634 2.964 6.484 2.944 6.058c3.516-.535 6.876-2.286 8.32-3.106v18.156h.002zm1.464 0V2.952c1.465.84 4.815 2.58 8.302 3.117 0 .1.214 10.453-8.302 15.038z"})));_e.metadata={width:24,height:24};var Me=_e;const Le="spaces-intro-nux",ze={ios:Ie.a.getiOSAppStoreLink(Le),android:Ie.a.getAndroidAppStoreLink(Le)};function je(){const{requestSheetDismissal:e}=o.n();return c.a.createElement(h.a,{style:Be.container},c.a.createElement(h.a,{style:Be.headingContainer},c.a.createElement(h.a,{style:Be.headingIconContainer},c.a.createElement(Pe.a,{style:Be.headingIcon})),c.a.createElement(h.a,null,c.a.createElement($.b,{align:"center",size:"title4",style:Be.title,weight:"bold"},De.title),c.a.createElement($.b,{align:"center",color:"gray700",size:"body"},De.subtitle))),c.a.createElement(h.a,{style:Be.sectionsContainer},c.a.createElement(Ae,{icon:c.a.createElement(Oe.a,{style:Be.sectionIcon}),subtitle:c.a.createElement(He,null,c.a.createElement(p.a.I18NFormatMessage,{$i18n:"fc9fe08f"},c.a.createElement($.b,{link:ze.ios},p.a.ae6c101d),c.a.createElement($.b,{link:ze.android},p.a.f6a61e67))),title:De.sections.listenLive.title}),c.a.createElement(Ae,{icon:c.a.createElement(Re.a,{style:Be.sectionIcon}),subtitle:c.a.createElement(He,null,c.a.createElement(p.a.I18NFormatMessage,{$i18n:"a8170309"},c.a.createElement($.b,{link:z.a.help},p.a.gba36459))),title:De.sections.spacesArePublic.title}),c.a.createElement(Ae,{icon:c.a.createElement(Me,{style:Be.sectionIcon}),subtitle:c.a.createElement(c.a.Fragment,null,c.a.createElement(He,null,c.a.createElement(p.a.I18NFormatMessage,{$i18n:"ib602fd9"},c.a.createElement($.b,{link:z.a.settings},p.a.d4ccb940))),c.a.createElement("br",null),c.a.createElement(He,null,De.sections.manageExperience.blockAndReport)),title:De.sections.manageExperience.title,withMarginBottom:!1})),c.a.createElement(h.a,{style:Be.bottomItems},c.a.createElement(h.a,{style:Be.finePrintContainer},c.a.createElement($.b,{align:"center",color:"gray700",size:"subtext1",style:Be.finePrint},c.a.createElement(p.a.I18NFormatMessage,{$i18n:"i6164a47"},c.a.createElement($.b,{link:z.a.help},p.a.cdffdeb3)))),c.a.createElement(h.a,{style:Be.ctaContainer},c.a.createElement(Te.a,{accessibilityLabel:De.gotIt,onPress:e},c.a.createElement($.b,{align:"center",color:"white",numberOfLines:1,size:"body",weight:"bold"},De.gotIt)))))}function Ae({icon:e,subtitle:t,title:a,withMarginBottom:n=!0}){return c.a.createElement(h.a,{style:[Be.sectionContainer,n?Be.sectionMarginBottom:null]},c.a.createElement(h.a,{style:Be.sectionIconContainer},e),c.a.createElement(h.a,{style:Be.sectionContent},c.a.createElement($.b,{size:"body",weight:"bold"},a),t))}function He(e){return c.a.createElement($.b,{color:"gray700",size:"body"},e.children)}const De={title:p.a.a3e6bb1c,subtitle:p.a.d82f2140,sections:{listenLive:{title:p.a.gf029868},spacesArePublic:{title:p.a.icc1ba70},manageExperience:{title:p.a.bcf241be,blockAndReport:p.a.b0bc8330}},gotIt:p.a.j24c37b2},Be=S.a.create((e=>({container:{display:"flex",justifyContent:"space-between",height:"100%",padding:e.spaces.space16},headingContainer:{marginBottom:e.spaces.space32},headingIconContainer:{paddingVertical:e.spaces.space28},headingIcon:{height:e.spaces.space40},title:{marginBottom:e.spaces.space1},sectionsContainer:{marginBottom:e.spaces.space48},sectionContainer:{flexDirection:"row",flexWrap:"nowrap",width:"100%",paddingHorizontal:e.spaces.space12},sectionContent:{flexShrink:1},sectionMarginBottom:{marginBottom:e.spaces.space24},sectionIconContainer:{width:e.fontSizes.title3,height:e.fontSizes.title3,marginRight:e.spaces.space16},sectionIcon:{fill:e.colors.purple500,width:"100%",height:"100%"},bottomItems:{paddingBottom:e.spaces.space16},finePrintContainer:{paddingHorizontal:e.spaces.space4},finePrint:{marginBottom:e.spaces.space16},ctaContainer:{paddingHorizontal:e.spaces.space16}})));var Fe=a("WrBE"),Ne=a("i4Oy");function Ve(e){const{requestSheetDismissal:t}=Object(o.n)();return c.a.createElement(Fe.a.View,{onClick:t,style:[qe.dockSheetOverlayBase,e.isSideNavLayout?We.dockSheetOverlay:qe.dockSheetOverlay,{opacity:e.animation.animatedPan.interpolate({inputRange:[e.animation.shellHeights.half,e.animation.shellHeights.full],outputRange:[1,0]})}]})}function Ue(e){return c.a.createElement(h.a,{style:[e.style,e.hasDismissRequest&&qe.pointerEventsNone]},c.a.createElement(Fe.a.View,{style:[qe.contentAnimatedContainer,{maxHeight:e.maxHeight,transform:[{translate3d:"0, 0, 0"},{translateY:e.animation.animatedPan}]}]},c.a.createElement(h.a,{style:qe.contentWrapperContainer},c.a.createElement(h.a,{style:qe.contentWrapper},e.children))))}const qe=S.a.create((e=>{const t=Object(de.b)(e),a=t.borderRadius;return{dockSheetContainer:{position:"absolute",left:0,bottom:0,width:"100%",borderRadius:t.borderRadius},contentAnimatedContainer:{overflowY:"auto",width:"100%",height:"100%",borderRadius:"inherit"},contentContainer:{position:"fixed",width:"100%",bottom:"0",margin:0,padding:0,borderTopRightRadius:a,borderTopLeftRadius:a},contentWrapperContainer:{height:"100%",width:"100%",borderRadius:"inherit",backgroundColor:e.colors.navigationBackground},contentWrapper:{height:"100%"},dockSheetOverlayBase:{backgroundColor:e.colors.maskColor,width:"100%"},dockSheetOverlay:{height:"100vh",position:"fixed",top:"0"},pointerEventsNone:{pointerEvents:"none"}}})),We=S.a.create((e=>{const t=Object(de.b)(e);return{dockSheetContainer:{position:"absolute",left:t.shadowOffset,bottom:-1*t.shadowOffset/2,width:`calc(100% - ${t.shadowOffset}px)`,borderRadius:t.borderRadius},dockSheetOverlay:{borderRadius:"inherit",height:"100%",position:"absolute",left:"0"},contentContainer:{boxShadow:e.boxShadows.xSmall,position:"absolute",left:0,bottom:0,width:"100%",borderRadius:t.borderRadius,overflow:"hidden"}}}));var $e=function(e){const{audioSpaceId:t,dockAnimation:a,isSideNavLayout:n}=e,{clearSheet:i,hasDismissRequest:r,sheetId:s}=Object(o.o)(),l=function(e){const t=Ne.a.get("window"),a=Object(de.a)(t.height,e),n=c.a.useRef(new Fe.a.Value(a.full)).current;return{animatedPan:n,shellHeights:a,springToOpen:e=>Fe.a.spring(n,{toValue:0,bounciness:2}).start(e),springToClose:e=>Fe.a.spring(n,{toValue:a.full}).start(e)}}(n),u=a.shellHeights.sheetMaxHeight,d=n?We.contentContainer:qe.contentContainer,p=c.a.useMemo((()=>{switch(s){case o.b.report:return c.a.createElement(xe.b,{audioSpaceId:t});case o.b.recordingEducation:return c.a.createElement(Z,null);case o.b.generalNux:return c.a.createElement(je,null);case o.b.clippingEducation:return c.a.createElement(re,null);case o.b.createClip:return c.a.createElement(Ce,{audioSpaceId:t});default:return null}}),[s,t]);if(c.a.useEffect((()=>{p&&l.springToOpen()}),[p,l]),c.a.useEffect((()=>{r&&l.springToClose(i)}),[l,i,r]),!p)return null;const m=n?We.dockSheetContainer:qe.dockSheetContainer;return c.a.createElement(Fe.a.View,{style:[m,r&&qe.pointerEventsNone,{height:a.shellHeights.full-a.animatedPan._value,opacity:l.animatedPan.interpolate({inputRange:[0,l.shellHeights.half],outputRange:[1,0]})}]},c.a.createElement(Ve,{animation:l,isSideNavLayout:n}),c.a.createElement(Ue,{animation:l,hasDismissRequest:r,maxHeight:u,style:d},p))};function Ge({children:e}){return o.p()?null:e}const Je=(e={})=>Object(X.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[J.a.root,e.style],viewBox:"0 0 17 9.5"},c.a.createElement("g",null,c.a.createElement("path",{d:"M16.707.293c-.39-.39-1.023-.39-1.414 0L8.5 7.086 1.707.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414l7.5 7.5c.195.195.45.293.707.293s.512-.098.707-.293l7.5-7.5c.39-.39.39-1.023 0-1.414z"})));Je.metadata={width:17,height:9.5};var Xe=Je;function Ke(e){const t=o.p();return c.a.createElement(G.a,{onPress:e.onPress,pullRight:!0,size:"medium",type:"destructiveText"},c.a.createElement($.b,{size:"body",weight:"bold"},t?Ye.close:Ye.leave))}const Ye={leave:p.a.bb1d57b6,close:p.a.ia5e7488};var Qe=a("4EYz"),Ze=a("MMRb"),et=a("Pl95"),tt=a("0nhk"),at=a("2nUo"),nt=a("pjBI"),it=a("MH+I"),rt=a("fzjU");function ot(e){const{space:t,utils:a}=Object(m.a)(e.audioSpaceId),{ended_at:n}=t||{},i=a.getTunedInCount();return c.a.createElement(nt.a,{color:dt.color,style:lt.container},c.a.createElement(st,{ended_at:n}),c.a.createElement(ct,{count:i}))}function st({ended_at:e}){if(!e)return null;let t=null;const a=Date.now()-e;return t=a<mt?c.a.createElement(p.a.I18NFormatMessage,{$i18n:"f0e84609"},c.a.createElement(it.a,{short:!0,timeMs:a})):pt(new Date(e)),c.a.createElement($.b,dt,t)}function ct({count:e}){return e?c.a.createElement($.b,dt,ut.tunedIn({count:rt.a.formatCountShort(e)})):null}const lt=S.a.create((e=>({container:{marginBottom:e.spaces.space4}}))),ut={tunedIn:p.a.h140746f},dt={color:"text",size:"subtext2"},pt=p.a.e18e399b,mt=864e5;var ht=a("Tg44");function ft(e){return c.a.createElement(h.a,{style:yt.titleLabelRow},c.a.createElement(ft.Replay,e),c.a.createElement(ft.EmployeeOnly,e),c.a.createElement(ft.SuperFollowerOnly,e))}function bt(e){return c.a.createElement(h.a,{style:yt.titleLabelSpacer},e.children)}ft.EmployeeOnly=function(e){const{space:t}=Object(m.a)(e.audioSpaceId);return null!=t&&t.is_employee_only?c.a.createElement(bt,null,c.a.createElement(H.a,{background:"navigationBackground",bold:!0},gt.tweepsOnly)):null},ft.SuperFollowerOnly=function(e){const{space:t}=Object(m.a)(e.audioSpaceId);return(null==t?void 0:t.narrow_cast_space_type)!==ht.a.AudienceEnum.superFollowersOnly?null:c.a.createElement(bt,null,c.a.createElement(H.a,{background:"navigationBackground",bold:!0},c.a.createElement(h.a,{style:yt.superFollowsLabel},c.a.createElement(at.a,{style:yt.superFollowsIcon}),c.a.createElement($.b,null,gt.superFollowersOnly))))},ft.Replay=function(e){const{utils:t}=Object(m.a)(e.audioSpaceId);return t.is.recording?c.a.createElement(bt,null,c.a.createElement(B,{audioSpaceId:e.audioSpaceId,withEducationOnClick:!e.isOutsideDock})):t.is.replayable?c.a.createElement(bt,null,c.a.createElement(ot,{audioSpaceId:e.audioSpaceId})):null};const gt={tweepsOnly:p.a.a5bf548a,superFollowersOnly:p.a.c3afb4d8},yt=S.a.create((e=>({titleLabelRow:{flexDirection:"row",marginBottom:e.spaces.space4},titleLabelSpacer:{paddingRight:e.spacesPx.space4},superFollowsLabel:{alignItems:"center",flexDirection:"row"},superFollowsIcon:{color:e.colors.plum500,height:10,marginRight:e.spaces.space4}})));var St=a("VKFJ"),Et=a("yUQf"),vt=a("7ep7"),wt=a("v6aA"),kt=a("DlVf"),Ct=a("RqPI"),xt=a("mjJ+"),It=a("FXw/"),Pt=a("GCOQ");function Tt(e){const t=function(e){const{utils:t}=Object(m.a)(e),a=Object(Et.a)(Ct.o),{openSheet:n}=o.n(),i=[];a&&i.push({Icon:Pt.a,text:Ot.reportThisSpace,isEmphasized:!0,onClick:()=>{n(o.b.report),t.scribe(":audiospace::caret:report:click")}});return{items:i}}(e.audioSpaceId),[a,n]=c.a.useState(!1);if(t.items.length<1)return null;const i=a?c.a.createElement(xt.a,{isFixed:!0,items:t.items,onCloseRequested:()=>n(!1),shouldCloseOnClick:!0}):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(G.a,{accessibilityLabel:Ot.more,borderColor:"transparent",color:"text",hoverLabel:{label:Ot.more},icon:c.a.createElement(It.a,null),onPress:()=>n(!0),size:"medium",type:"primaryOutlined"}),i)}const Ot={more:p.a.h63a5c3c,reportThisSpace:p.a.b3481ffe};var Rt=a("O07O"),_t=a("CDzS");function Mt(e={}){return Object(X.a)("svg",{...e,style:[Lt.root,e.style],viewBox:"0 0 24 24"},c.a.createElement(c.a.Fragment,null,c.a.createElement(_t.a.SVGLinearGradient,null),c.a.createElement("g",{fill:_t.a.SVGLinearGradient.fill},c.a.createElement("path",{d:"M17.97 7.585c-.552 0-1 .448-1 1v3.417c0 2.588-2.156 4.693-4.806 4.693h-.328c-2.65 0-4.806-2.105-4.806-4.693V8.585c0-.552-.448-1-1-1s-1 .448-1 1v3.417c0 3.416 2.618 6.237 5.983 6.64l-.01 1.858H8.27c-.553 0-1 .448-1 1s.447 1 1 1h7.46c.552 0 1-.448 1-1s-.448-1-1-1h-2.726l.01-1.863c3.35-.413 5.955-3.228 5.955-6.635V8.585c0-.552-.448-1-1-1z"}),c.a.createElement("path",{d:"M12 15.42c2.077 0 3.766-1.688 3.766-3.765v-6.14c0-2.076-1.69-3.765-3.766-3.765S8.234 3.44 8.234 5.516v6.14c0 2.075 1.69 3.765 3.766 3.765z"}))))}Mt.metadata={width:24,height:24};const Lt=S.a.create((e=>({root:{display:"inline-block",fill:"currentcolor",height:"1.25em",maxWidth:"100%",position:"relative",userSelect:"none",textAlignVertical:"text-bottom"}})));function zt({isSideNavLayout:e,onLayout:t,...a}){const n=[Ht.footer,e&&Ht.footerWide];return c.a.createElement(h.a,{onLayout:t,style:n},c.a.createElement(jt,a))}function jt(e){return o.p()?c.a.createElement(Rt.a,{audioSpaceId:e.audioSpaceId}):c.a.createElement(At,{audioSpaceId:e.audioSpaceId})}function At(e){const{featureSwitches:t}=c.a.useContext(wt.a);return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{style:Ht.footerLeft},t.isTrue("voice_rooms_speaking_enabled")&&c.a.createElement(G.a,{accessibilityLabel:"Request to speak",borderColor:"transparent",color:"text",hoverLabel:{label:"Request to speak"},icon:c.a.createElement(Mt,null),onPress:()=>{},size:"xLarge",type:"primaryOutlined"})),c.a.createElement(h.a,{style:Ht.footerRight},c.a.createElement(Tt,e),t.isTrue("voice_rooms_reactions_enabled")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{style:Ht.footerButtonSpacer}),c.a.createElement(G.a,{accessibilityLabel:"Reactions",borderColor:"transparent",color:"text",hoverLabel:{label:"Reactions"},icon:c.a.createElement(kt.a,null),onPress:()=>{},size:"medium",type:"primaryOutlined"})),t.isTrue("voice_rooms_share_dock_enabled")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{style:Ht.footerButtonSpacer}),c.a.createElement(tt.a,{audioSpaceId:e.audioSpaceId,isFixed:!0,type:"icon"}))))}const Ht=S.a.create((e=>{const{borderRadius:t,paddingHorizontal:a}=Object(de.b)(e);return{footerButtonSpacer:{width:e.spaces.space16},footerLeft:{flexDirection:"row"},footerRight:{flexDirection:"row"},footer:{paddingHorizontal:a,width:"100%",height:`calc(100px + ${S.a.iPhoneOffsetBottom})`,flexDirection:"row",alignItems:"center",justifyContent:"space-between",boxShadow:`0px -1px 0px ${e.colors.gray50}`,backgroundColor:e.colors.navigationBackground},footerWide:{borderBottomLeftRadius:t,borderBottomRightRadius:t,boxShadow:e.boxShadows.xSmall}}}));var Dt=a("0FVZ"),Bt=a("Oe3h"),Ft=a("cTG8"),Nt=a("U7kY"),Vt=a("yyPN"),Ut=a.n(Vt),qt=a("GiKA"),Wt=a.n(qt),$t=a("p3P5");function Gt(e){const t=e.isSideNavLayout?Dt.a.WideExpandedSpaceDock:Dt.a.NarrowExpandedSpaceDock,{utils:a}=Object(m.a)(e.audioSpaceId);return Object(P.a)((()=>{a.scribe(":audiospace::::impression")})),c.a.createElement(t,null,c.a.createElement(Jt,e))}function Jt(e){const t=Object(Et.a)(Ze.selectDrawerVisibility),a=Object(de.b)(S.a.theme),n=e.width+a.shadowOffset,o=e.isSideNavLayout?[ca.root,{width:n}]:null,[s,l]=c.a.useState(),u=c.a.useRef(null),d=Ne.a.get("window");function p(){var e;const t=null==(e=u.current)?void 0:e.getBoundingClientRect();t&&l(t)}return c.a.useLayoutEffect(p,[d.height]),c.a.useLayoutEffect((()=>{const e=setTimeout(p,r.a.durationMs+250);return()=>clearTimeout(e)}),[t]),c.a.createElement(h.a,{ref:u,style:o},c.a.createElement(Qt,i()({},e,{layout:s})))}function Xt(e){const t=Object(de.b)(S.a.theme),a=e.animation.shellHeights.full-t.shadowOffset;return c.a.createElement(Fe.a.View,{style:[oa.expandedShell,{height:a,transform:[{translate3d:"0, 0, 0"},{translateY:e.animation.animatedPan}]}]},c.a.createElement(Kt,e))}function Kt(e){const t=o.r(),a=Object(me.a)(),{utils:n}=Object(m.a)(e.audioSpaceId),{footerHeight:r}=e,s=c.a.useRef(new Fe.a.Value(r));function l(){e.animation.springTo("collapse")}function u(){e.animation.springTo("exit"),n.scribe(":audiospace:::close:click")}return c.a.useEffect((()=>{Fe.a.spring(s.current,{toValue:t?r+na:r}).start()}),[t,r]),c.a.createElement(Bt.a,{id:"SpaceDockExpanded"},((t,n)=>c.a.createElement(h.a,i()({ref:t()},n({style:oa.expandedShellContent})),c.a.createElement(Fe.a.View,i()({},e.animation.panResponder.panHandlers,{style:oa.expandedShellHeader}),c.a.createElement(h.a,{style:oa.expandedShellHeaderGripContainer},c.a.createElement(h.a,{style:oa.expandedShellHeaderGrip})),c.a.createElement(h.a,{style:oa.expandedShellHeaderButtons},c.a.createElement(G.a,{accessibilityLabel:la.collapse,hoverLabel:{label:la.collapse},icon:c.a.createElement(Xe,{style:oa.iconChevronDown}),onPress:l,pullLeft:!0,size:"medium",type:"primaryText"}),c.a.createElement(h.a,{style:oa.expandedShellHeaderRight},c.a.createElement(Ge,null,c.a.createElement(et.a,{audioSpaceId:e.audioSpaceId})),a.isCreationEnabled?c.a.createElement(tt.a,{audioSpaceId:e.audioSpaceId,isFixed:!0,type:"icon-borderless"}):null,c.a.createElement(Ke,{onPress:u}))),c.a.createElement(h.a,{style:oa.expandedShellDescription},c.a.createElement(Yt,{audioSpaceId:e.audioSpaceId}))),c.a.createElement(Fe.a.View,{id:"ParticipantsWrapper",style:[oa.participantsContainer,{paddingBottom:Fe.a.add(s.current,e.animation.animatedPan)}]},e.mounted?c.a.createElement(Zt,e):null))))}function Yt(e){const t=Object(m.a)(e.audioSpaceId).utils.title(),a={hashtags:Ut()(t).map((e=>(e.text=e.hashtag,e))),user_mentions:Wt()(t)},n=[0,t.length];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ft,{audioSpaceId:e.audioSpaceId,isOutsideDock:e.isOutsideDock}),c.a.createElement(Ft.a,{displayTextRange:n,entities:a,linkify:!0,numberOfLines:3,size:"headline1",text:t,weight:"heavy"}))}function Qt(e){const[t,a]=c.a.useState(!1),n=function(e,t,a){const n=c.a.useRef({state:o.a.full,animatedPanOffset:0}),i=Ne.a.get("window"),r=c.a.useMemo((()=>Object(de.a)(i.height,e.isSideNavLayout,a)),[i.height,e.isSideNavLayout,a]),s=c.a.useMemo((()=>function(e){let t;switch(e){case o.a.exit:case o.a.collapse:t=0;break;case o.a.full:default:t=r.full}return r.full-t}),[r]),l=c.a.useRef(new Fe.a.Value(r.full)).current;Object(P.a)((()=>{const e=s(n.current.state);Fe.a.spring(l,{toValue:e}).start(t)}));const{onRequestClose:u,onToggleCollapsed:d}=e,p=c.a.useMemo((()=>function(e,t){n.current.state=e,o.j(e);const a=s(n.current.state),i=null==t?void 0:t.vy;return new Promise((t=>{if(e===o.a.exit)return u(),t();Fe.a.spring(l,{velocity:i,toValue:a}).start((()=>{e===o.a.collapse&&d(),t()}))}))}),[l,s,d,u]);return c.a.useEffect((()=>{o.i(p)}),[p]),{panResponder:c.a.useRef(vt.a.create({onMoveShouldSetPanResponder:(e,t)=>Math.abs(t.dy)>5,onPanResponderGrant:(e,t)=>{n.current.animatedPanOffset=l._value},onPanResponderMove:(e,t)=>{const a=n.current.animatedPanOffset+t.dy;a>=0&&l.setValue(a)},onPanResponderRelease:(e,t)=>{const a=(null==t?void 0:t.vy)||0,i=Math.abs(a)>=ia;l._value>r.collapse||i&&t.dy>0?p(o.a.collapse,t):p(n.current.state,t)}})).current,animatedPan:l,shellHeights:r,springTo:p}}(e,(()=>{a(!0),o.j(o.a.full)}),e.layout),r=c.a.useRef(new Fe.a.Value(n.shellHeights.full)).current,s={...e,mounted:t,animation:n};c.a.useEffect((()=>{const e=n.shellHeights.full;Fe.a.spring(r,{toValue:e}).start()}),[n.shellHeights.full]);const[l,u]=c.a.useState(100),d=c.a.useCallback((({nativeEvent:e})=>{const{height:t}=e.layout;u(t)}),[u]);return c.a.useMemo((()=>{const t=e.isSideNavLayout?ca.container:oa.container,a=e.isSideNavLayout?ca.expandedShellContainer:oa.expandedShellContainer,o=e.isSideNavLayout?ca.footerContainer:oa.footerContainer,u=r,p=n.animatedPan.interpolate({inputRange:[n.shellHeights.collapse,n.shellHeights.full],outputRange:[1,0]});return c.a.createElement(Fe.a.View,{style:[t,oa.forceGPULayer,{height:u,opacity:p}]},c.a.createElement(h.a,{style:a},c.a.createElement(Xt,i()({},s,{footerHeight:l}))),c.a.createElement(h.a,{style:o},c.a.createElement(R,{audioSpaceId:e.audioSpaceId,height:na}),c.a.createElement(zt,{audioSpaceId:e.audioSpaceId,isSideNavLayout:e.isSideNavLayout,onLayout:d})),c.a.createElement($e,{audioSpaceId:e.audioSpaceId,dockAnimation:n,isSideNavLayout:e.isSideNavLayout}))}),[e.audioSpaceId,e.isSideNavLayout,t,e.layout])}function Zt(e){const{all:t,otherParticipantsTotal:a}=Object(St.b)(e.audioSpaceId);l.d();const n=Ne.a.get("window"),r=(e.isSideNavLayout?e.width:n.width)-2*ra(S.a.theme).container.paddingHorizontal,o=Object($t.b)(S.a.theme),s=o.getHeight(),u=o.getWidth(),d=Math.min(4,Math.floor(r/u)),p=r/d;c.a.useEffect((()=>(e.isSideNavLayout||Nt.a.disable(),function(){Nt.a.enable()})),[e.isSideNavLayout]);const m=c.a.useMemo((()=>{const e=p;return t.map((t=>({...t,width:e})))}),[t,p]);return c.a.useMemo((()=>{const t={data:m,numColumns:d,keyExtractor:function(e){return e.key},getItemLayout:function(e,t){return{length:s,offset:s*t,index:t}},renderItem:ea,ListHeaderComponent:c.a.createElement(E,{audioSpaceId:e.audioSpaceId}),ListFooterComponent:c.a.createElement(Ge,null,c.a.createElement(h.a,{style:oa.participantsFooterContainer},c.a.createElement(Qe.a,{audioSpaceId:e.audioSpaceId,count:a,interactive:!0})))};return c.a.createElement(be.a,i()({key:d},t))}),[m])}function ea({item:e}){return c.a.createElement(ta,{hasNftAvatar:e.user.has_nft_avatar,isVerified:e.user.is_verified,key:e.key,kind:e.kind,name:e.user.display_name,periscopeUserId:e.periscopeUserId,profile_image_url_https:e.user.avatar_url,screenName:e.user.twitter_screen_name,width:e.width})}function ta(e){const{periscopeUserId:t,...a}=e,n=St.b.isParticipantHost(a.kind),i=St.b.canParticipantSpeak(a.kind)?c.a.createElement(aa,{isHost:n,periscopeUserId:t}):null,r=Object.assign({},{speakingIndicator:i,periscopeUserId:t},a);return c.a.createElement($t.a,r)}function aa(e){const{isHost:t,periscopeUserId:a}=e,n=pe.a.useAudioLevel({isHost:t,periscopeUserId:a});return c.a.createElement(h.a,{style:sa.container},c.a.createElement(u.a,{audioLevel:n||0,size:S.a.theme.spacesPx.space16}))}const na=100,ia=.5;function ra(e){return{container:{paddingHorizontal:e.spacesPx.space8}}}const oa=S.a.create((e=>{const t=Object(de.b)(e),a=t.paddingHorizontal,n=t.borderRadius,i=ra(e);return{forceGPULayer:{transform:[{translate3d:"0, 0, 0"}]},container:{position:"fixed",bottom:0,width:"100%",backgroundColor:e.colors.maskColor},expandedShellContainer:{width:"100%",borderRadius:n},expandedShell:{boxShadow:e.boxShadows.xSmall,width:"100%",height:"100%",borderRadius:"inherit"},expandedShellHeader:{userSelect:"none",borderRadius:"inherit"},expandedShellHeaderGripContainer:{paddingVertical:5,justifyContent:"center",alignItems:"center"},expandedShellHeaderGrip:{height:5,width:e.spaces.space36,backgroundColor:e.colors.gray200,borderRadius:e.borderRadiiPx.xLarge},expandedShellHeaderButtons:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:a},iconChevronDown:{color:e.colors.text,width:e.spaces.space16},expandedShellHeaderRight:{flexDirection:"row"},expandedShellContent:{borderRadius:"inherit",height:"100%",backgroundColor:e.colors.navigationBackground},expandedShellDescription:{marginTop:e.spaces.space4,marginBottom:e.spaces.space16,paddingHorizontal:a},participantsContainer:{...i.container,flex:1},participantsFooterContainer:{paddingVertical:e.spaces.space16},footerContainer:{position:"absolute",bottom:0,width:"100%"}}}));const sa=S.a.create((e=>({container:{position:"absolute",left:-1*(function(e){return{size:e.spacesPx.space16}}(e).size+e.spacesPx.space4)}}))),ca=S.a.create((e=>{const t=Object(de.b)(e);return{root:{alignItems:"center",alignSelf:"flex-end",width:"100%",marginVertical:t.marginVertical,marginRight:e.spacesPx.space20},container:{width:"100%"},expandedShellContainer:{width:"100%",borderRadius:t.borderRadius,overflow:"hidden",paddingTop:t.shadowOffset/2,paddingHorizontal:t.shadowOffset/2,marginLeft:t.shadowOffset/2},footerContainer:{position:"absolute",bottom:0,left:t.shadowOffset/2,paddingHorizontal:t.shadowOffset/2,width:"100%"}}})),la={collapse:p.a.d227d19e}}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~loader.AudioDock~bundle.AudioSpaceAnalytics~bundle.AudioSpacePeek~bundle.AudioSpacePeekReport~bundle.B.ad69a4a7.js.map